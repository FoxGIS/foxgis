!function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var r=i(190),o=n(r),a=i(182),s=n(a);new o["default"]({el:"body",components:{App:s["default"]}})},function(t,e,i){"use strict";var n=i(174),r=i(28);e.easeCubicInOut=function(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,i=e*t;return 4*(.5>t?i:3*(t-e)+i-.75)},e.bezier=function(t,e,i,r){var o=new n(t,e,i,r);return function(t){return o.solve(t)}},e.ease=e.bezier(.25,.1,.25,1),e.premultiply=function(t,e){if(!t)return null;var i=t[3]*e;return[t[0]*i,t[1]*i,t[2]*i,i]},e.clamp=function(t,e,i){return Math.min(i,Math.max(e,t))},e.wrap=function(t,e,i){var n=i-e,r=((t-e)%n+n)%n+e;return r===e?i:r},e.coalesce=function(){for(var t=0;t<arguments.length;t++){var e=arguments[t];if(null!==e&&void 0!==e)return e}},e.asyncAll=function(t,e,i){if(!t.length)return i(null,[]);var n=t.length,r=new Array(t.length),o=null;t.forEach(function(t,a){e(t,function(t,e){t&&(o=t),r[a]=e,0===--n&&i(o,r)})})},e.keysDifference=function(t,e){var i=[];for(var n in t)n in e||i.push(n);return i},e.extend=function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]=i[n]}return t},e.extendAll=function(t,e){for(var i in e)Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i));return t},e.inherit=function(t,i){var n="function"==typeof t?t.prototype:t,r=Object.create(n);return e.extendAll(r,i),r},e.pick=function(t,e){for(var i={},n=0;n<e.length;n++){var r=e[n];r in t&&(i[r]=t[r])}return i};var o=1;e.uniqueId=function(){return o++},e.throttle=function(t,e,i){var n,r,o,a;return a=function(){n=!1,r&&(o.apply(i,r),r=!1)},o=function(){n?r=arguments:(t.apply(i,arguments),setTimeout(a,e),n=!0)}},e.debounce=function(t,e){var i,n;return function(){n=arguments,clearTimeout(i),i=setTimeout(function(){t.apply(null,n)},e)}},e.bindAll=function(t,e){t.forEach(function(t){e[t]=e[t].bind(e)})},e.bindHandlers=function(t){for(var e in t)"function"==typeof t[e]&&0===e.indexOf("_on")&&(t[e]=t[e].bind(t))},e.setOptions=function(t,e){t.hasOwnProperty("options")||(t.options=t.options?Object.create(t.options):{});for(var i in e)t.options[i]=e[i];return t.options},e.getCoordinatesCenter=function(t){for(var e=1/0,i=1/0,n=-(1/0),o=-(1/0),a=0;a<t.length;a++)e=Math.min(e,t[a].column),i=Math.min(i,t[a].row),n=Math.max(n,t[a].column),o=Math.max(o,t[a].row);var s=n-e,u=o-i,l=Math.max(s,u);return new r((e+n)/2,(i+o)/2,0).zoomTo(Math.floor(-Math.log(l)/Math.LN2))},e.endsWith=function(t,e){return-1!==t.indexOf(e,t.length-e.length)},e.startsWith=function(t,e){return 0===t.indexOf(e)},e.mapObject=function(t,e,i){var n={};for(var r in t)n[r]=e.call(i||this,t[r],r,t);return n},e.filterObject=function(t,e,i){var n={};for(var r in t)e.call(i||this,t[r],r,t)&&(n[r]=t[r]);return n},e.deepEqual=function a(t,e){if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(!a(t[i],e[i]))return!1;return!0}if("object"==typeof t){if("object"!=typeof e)return!1;var n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(var r in t)if(!a(t[r],e[r]))return!1;return!0}return t===e}},function(t,e){"use strict";function i(t,e){this.x=t,this.y=e}t.exports=i,i.prototype={clone:function(){return new i(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,i=t.y-this.y;return e*e+i*i},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,i=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=i,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),i=Math.sin(t),n=e*this.x-i*this.y,r=i*this.x+e*this.y;return this.x=n,this.y=r,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},i.convert=function(t){return t instanceof i?t:Array.isArray(t)?new i(t[0],t[1]):t}},function(t,e,i){"use strict";function n(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layer=t.layer,this.layers=[this.layer.id],this.type=this.layer.type,this.features=[],this.id=this.layer.id,this["source-layer"]=this.layer["source-layer"],this.interactive=this.layer.interactive,this.minZoom=this.layer.minzoom,this.maxZoom=this.layer.maxzoom,t.elementGroups&&(this.elementGroups=t.elementGroups,this.buffers=f.mapObject(t.buffers,function(t){return new h(t)}))}function r(t,e,i){for(var n=[],r=0;r<e.attributes.length;r++)n=n.concat(e.attributes[r].value);var o="return this.buffers."+i+".push("+n.join(", ")+");";return d[o]||(d[o]=new Function(e.attributeArgs,o)),d[o]}function o(t){return function(e,i,n){return t.push(e,i,n)}}function a(t){return new h({type:h.BufferType.ELEMENT,attributes:[{name:"vertices",components:t||3,type:h.ELEMENT_ATTRIBUTE_TYPE}]})}function s(t){return t.charAt(0).toUpperCase()+t.slice(1)}function u(t,e,i){this.vertexStartIndex=t,this.elementStartIndex=e,this.secondElementStartIndex=i,this.elementLength=0,this.vertexLength=0,this.secondElementLength=0}var l=i(84),h=i(111),c=i(11),f=i(1);t.exports=n,n.create=function(t){var e={fill:i(108),line:i(109),circle:i(107),symbol:i(110)};return new e[t.layer.type](t)},n.AttributeType=h.AttributeType,n.EXTENT=8192,n.prototype.populateBuffers=function(){this.createStyleLayer(),this.createBuffers();for(var t=0;t<this.features.length;t++)this.addFeature(this.features[t]);this.trimBuffers()},n.prototype.makeRoomFor=function(t,e){var i=this.elementGroups[t],n=i.length&&i[i.length-1];if(!n||n.vertexLength+e>65535){var r=this.buffers[this.getBufferName(t,"vertex")],o=this.buffers[this.getBufferName(t,"element")],a=this.buffers[this.getBufferName(t,"secondElement")];n=new u(r.length,o&&o.length,a&&a.length),i.push(n)}return n},n.prototype.createBuffers=function(){var t=this.elementGroups={},e=this.buffers={};for(var i in this.shaderInterfaces){var n=this.shaderInterfaces[i];if(n.vertexBuffer){var s=this.getBufferName(i,"vertex"),u=this.getAddMethodName(i,"vertex");e[s]=new h({type:h.BufferType.VERTEX,attributes:n.attributes}),this[u]=this[u]||r(i,n,this.getBufferName(i,"vertex"))}if(n.elementBuffer){var l=this.getBufferName(i,"element");e[l]=a(n.elementBufferComponents),this[this.getAddMethodName(i,"element")]=o(this.buffers[l])}if(n.secondElementBuffer){var c=this.getBufferName(i,"secondElement");e[c]=a(n.secondElementBufferComponents),this[this.getAddMethodName(i,"secondElement")]=o(this.buffers[c])}t[i]=[]}},n.prototype.destroy=function(t){for(var e in this.buffers)this.buffers[e].destroy(t)},n.prototype.trimBuffers=function(){for(var t in this.buffers)this.buffers[t].trim()},n.prototype.getAddMethodName=function(t,e){return"add"+s(t)+s(e)},n.prototype.getBufferName=function(t,e){return t+s(e)},n.prototype.serialize=function(){return{layer:{id:this.layer.id,type:this.layer.type},zoom:this.zoom,elementGroups:this.elementGroups,buffers:f.mapObject(this.buffers,function(t){return t.serialize()})}},n.prototype.createStyleLayer=function(){this.layer instanceof c||(this.layer=c.create(this.layer),this.layer.recalculate(this.zoom,{lastIntegerZoom:1/0,lastIntegerZoomTime:0,lastZoom:0}))},n.prototype.createFilter=function(){this.filter||(this.filter=l(this.layer.filter))};var d={}},function(t,e,i){"use strict";function n(t,e){this.message=(t?t+": ":"")+r.apply(r,Array.prototype.slice.call(arguments,2)),null!==e&&void 0!==e&&e.__line__&&(this.line=e.__line__)}var r=i(38).format;t.exports=n},function(t,e,i){"use strict";var n=i(65);t.exports.now=function(){return window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now.bind(Date)}();var r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;e.frame=function(t){return r(t)};var o=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame;e.cancelFrame=function(t){o(t)},e.timed=function(i,n,r){function o(u){a||(u=t.exports.now(),u>=s+n?i.call(r,1):(i.call(r,(u-s)/n),e.frame(o)))}if(!n)return i.call(r,1),null;var a=!1,s=t.exports.now();return e.frame(o),function(){a=!0}},e.supportsWebGL={},e.supported=function(t){for(var i=([function(){return"undefined"!=typeof window},function(){return"undefined"!=typeof document},function(){return!!(Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray)},function(){return!(!Function.prototype||!Function.prototype.bind||!(Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions))},function(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON},function(){var i=t&&t.failIfMajorPerformanceCaveat||!1,r="fimpc_"+String(i);if(void 0===e.supportsWebGL[r]){var o=new n;e.supportsWebGL[r]=o.supportsWebGLContext(i)}return e.supportsWebGL[r]},function(){return"Worker"in window}]),r=0;r<i.length;r++)if(!i[r]())return!1;return!0},e.hardwareConcurrency=navigator.hardwareConcurrency||8,Object.defineProperty(e,"devicePixelRatio",{get:function(){return window.devicePixelRatio}}),e.supportsWebp=!1;var a=document.createElement("img");a.onload=function(){e.supportsWebp=!0},a.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="},function(t,e,i){(function(e){function n(){}function r(){f.log.apply(f,arguments)}function o(){f.log.apply(f,arguments)}function a(){f.warn.apply(f,arguments)}function s(t){g[t]=m()}function u(t){var e=g[t];if(!e)throw new Error("No such label: "+t);var i=m()-e;f.log(t+": "+i+"ms")}function l(){var t=new Error;t.name="Trace",t.message=d.format.apply(null,arguments),f.error(t.stack)}function h(t){f.log(d.inspect(t)+"\n")}function c(t){if(!t){var e=v.call(arguments,1);p.ok(!1,d.format.apply(null,e))}}var f,d=i(38),p=i(25),m=i(83),v=Array.prototype.slice,g={};f="undefined"!=typeof e&&e.console?e.console:"undefined"!=typeof window&&window.console?window.console:{};for(var y=[[n,"log"],[r,"info"],[o,"warn"],[a,"error"],[s,"time"],[u,"timeEnd"],[l,"trace"],[h,"dir"],[c,"assert"]],_=0;_<y.length;_++){var x=y[_],b=x[0],w=x[1];f[w]||(f[w]=b)}t.exports=f}).call(e,function(){return this}())},function(t,e,i){"use strict";var n=i(1),r={on:function(t,e){return this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e),this},off:function(t,e){if(!t)return delete this._events,this;if(!this.listens(t))return this;if(e){var i=this._events[t].indexOf(e);i>=0&&this._events[t].splice(i,1),this._events[t].length||delete this._events[t]}else delete this._events[t];return this},once:function(t,e){var i=function(n){this.off(t,i),e.call(this,n)}.bind(this);return this.on(t,i),this},fire:function(t,e){if(!this.listens(t))return this;e=n.extend({},e),n.extend(e,{type:t,target:this});for(var i=this._events[t].slice(),r=0;r<i.length;r++)i[r].call(this,e);return this},listens:function(t){return!(!this._events||!this._events[t])}};t.exports=r},function(t,e){"use strict";t.exports=function(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}},function(t,e,i){"use strict";function n(t){for(var e=0;e<t.length;e++)if(t[e]in s)return t[e]}function r(t){t.preventDefault(),t.stopPropagation(),window.removeEventListener("click",r,!0)}var o=i(2);e.create=function(t,e,i){var n=document.createElement(t);return e&&(n.className=e),i&&i.appendChild(n),n};var a,s=document.documentElement.style,u=n(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);e.disableDrag=function(){u&&(a=s[u],s[u]="none")},e.enableDrag=function(){u&&(s[u]=a)};var l=n(["transform","WebkitTransform"]);e.setTransform=function(t,e){t.style[l]=e},e.suppressClick=function(){window.addEventListener("click",r,!0),window.setTimeout(function(){window.removeEventListener("click",r,!0)},0)},e.mousePos=function(t,e){var i=t.getBoundingClientRect();return e=e.touches?e.touches[0]:e,new o(e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop)}},function(t,e){var i={};i.EPSILON=1e-6,i.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,i.RANDOM=Math.random,i.ENABLE_SIMD=!1,i.SIMD_AVAILABLE=i.ARRAY_TYPE===Float32Array&&"SIMD"in this,i.USE_SIMD=i.ENABLE_SIMD&&i.SIMD_AVAILABLE,i.setMatrixArrayType=function(t){i.ARRAY_TYPE=t};var n=Math.PI/180;i.toRadian=function(t){return t*n},i.equals=function(t,e){return Math.abs(t-e)<=i.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))},t.exports=i},function(t,e,i){"use strict";function n(t,e){this.id=t.id,this.ref=t.ref,this.metadata=t.metadata,this.type=(e||t).type,this.source=(e||t).source,this.sourceLayer=(e||t)["source-layer"],this.minzoom=(e||t).minzoom,this.maxzoom=(e||t).maxzoom,this.filter=(e||t).filter,this.interactive=(e||t).interactive,this._paintSpecifications=u["paint_"+this.type],this._layoutSpecifications=u["layout_"+this.type],this._paintTransitions={},this._paintTransitionOptions={},this._paintDeclarations={},this._layoutDeclarations={};for(var i in t){var n=i.match(/^paint(?:\.(.*))?$/);if(n){var r=n[1]||"";for(var o in t[i])this.setPaintProperty(o,t[i][o],r)}}if(this.ref)this._layoutDeclarations=e._layoutDeclarations;else for(var a in t.layout)this.setLayoutProperty(a,t.layout[a])}function r(t){return t.value}var o=i(1),a=i(140),s=i(133),u=i(60),l=i(35),h=i(58),c=i(7);t.exports=n;var f="-transition";n.create=function(t,e){var n={background:i(134),circle:i(135),fill:i(136),line:i(137),raster:i(138),symbol:i(139)};return new n[(e||t).type](t,e)},n.prototype=o.inherit(c,{setLayoutProperty:function(t,e){if(null==e)delete this._layoutDeclarations[t];else{if(l.emitErrors(this,l.layoutProperty({key:"layers."+this.id+".layout."+t,layerType:this.type,objectKey:t,value:e,styleSpec:u})))return;this._layoutDeclarations[t]=new s(this._layoutSpecifications[t],e)}},getLayoutProperty:function(t){return this._layoutDeclarations[t]&&this._layoutDeclarations[t].value},getLayoutValue:function(t,e,i){var n=this._layoutSpecifications[t],r=this._layoutDeclarations[t];return r?r.calculate(e,i):n["default"]},setPaintProperty:function(t,e,i){var n="layers."+this.id+(i?'["paint.'+i+'"].':".paint.")+t;if(o.endsWith(t,f))if(this._paintTransitionOptions[i||""]||(this._paintTransitionOptions[i||""]={}),null===e||void 0===e)delete this._paintTransitionOptions[i||""][t];else{if(l.emitErrors(this,l.paintProperty({key:n,layerType:this.type,objectKey:t,value:e,styleSpec:u})))return;this._paintTransitionOptions[i||""][t]=e}else if(this._paintDeclarations[i||""]||(this._paintDeclarations[i||""]={}),null===e||void 0===e)delete this._paintDeclarations[i||""][t];else{if(l.emitErrors(this,l.paintProperty({key:n,layerType:this.type,objectKey:t,value:e,styleSpec:u})))return;this._paintDeclarations[i||""][t]=new s(this._paintSpecifications[t],e)}},getPaintProperty:function(t,e){return e=e||"",o.endsWith(t,f)?this._paintTransitionOptions[e]&&this._paintTransitionOptions[e][t]:this._paintDeclarations[e]&&this._paintDeclarations[e][t]&&this._paintDeclarations[e][t].value},getPaintValue:function(t,e,i){var n=this._paintSpecifications[t],r=this._paintTransitions[t];return r?r.at(e,i):"color"===n.type&&n["default"]?h(n["default"]):n["default"]},isHidden:function(t){if(this.minzoom&&t<this.minzoom)return!0;if(this.maxzoom&&t>=this.maxzoom)return!0;if("none"===this.getLayoutValue("visibility"))return!0;var e=this.type+"-opacity";return!(!this._paintSpecifications[e]||0!==this.getPaintValue(e))},cascade:function(t,e,i,n){function r(t,r){var s=e.transition?u[t]:void 0;if(s&&s.declaration.json===r.json)l[t]=s;else{var c=new a(r,s,o.extend({duration:300,delay:0},i,h.getPaintProperty(t+f)));c.instant()||(c.loopID=n.set(c.endTime-(new Date).getTime())),s&&n.cancel(s.loopID),l[t]=c}}var u=this._paintTransitions,l=this._paintTransitions={},h=this;for(var c in this._paintDeclarations)if(""===c||t[c])for(var d in this._paintDeclarations[c])r(d,this._paintDeclarations[c][d]);for(var p=o.keysDifference(u,l),m=0;m<p.length;m++){var v=this._paintSpecifications[p[m]];r(p[m],new s(v,v["default"]))}},recalculate:function(t,e){this.paint={};for(var i in this._paintSpecifications)this.paint[i]=this.getPaintValue(i,t,e);this.layout={};for(var n in this._layoutSpecifications)this.layout[n]=this.getLayoutValue(n,t,e)},serialize:function(t){var e={id:this.id,ref:this.ref,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,interactive:this.interactive};for(var i in this._paintDeclarations){var n=""===i?"paint":"paint."+i;e[n]=o.mapObject(this._paintDeclarations[i],r)}return(!this.ref||t&&t.includeRefProperties)&&o.extend(e,{type:this.type,source:this.source,"source-layer":this.sourceLayer,filter:this.filter,layout:o.mapObject(this._layoutDeclarations,r)}),o.filterObject(e,function(t,e){return void 0!==t&&!("layout"===e&&!Object.keys(t).length)})}})},function(t,e){"use strict";function i(t){var e=document.createElement("a");return e.href=t,e.protocol===document.location.protocol&&e.host===document.location.host}e.getJSON=function(t,e){var i=new XMLHttpRequest;return i.open("GET",t,!0),i.setRequestHeader("Accept","application/json"),i.onerror=function(t){e(t)},i.onload=function(){if(i.status>=200&&i.status<300&&i.response){var t;try{t=JSON.parse(i.response)}catch(n){return e(n)}e(null,t)}else e(new Error(i.statusText))},i.send(),i},e.getArrayBuffer=function(t,e){var i=new XMLHttpRequest;return i.open("GET",t,!0),i.responseType="arraybuffer",i.onerror=function(t){e(t)},i.onload=function(){i.status>=200&&i.status<300&&i.response?e(null,i.response):e(new Error(i.statusText))},i.send(),i},e.getImage=function(t,i){return e.getArrayBuffer(t,function(t,e){if(t)return i(t);var n=new Image;n.onload=function(){i(null,n),(window.URL||window.webkitURL).revokeObjectURL(n.src)};var r=new Blob([new Uint8Array(e)],{type:"image/png"});return n.src=(window.URL||window.webkitURL).createObjectURL(r),n.getData=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return t.width=n.width,t.height=n.height,e.drawImage(n,0,0),e.getImageData(0,0,n.width,n.height).data},n})},e.getVideo=function(t,e){var n=document.createElement("video");n.onloadstart=function(){e(null,n)};for(var r=0;r<t.length;r++){var o=document.createElement("source");i(t[r])||(n.crossOrigin="Anonymous"),o.src=t[r],n.appendChild(o)}return n.getData=function(){return n},n}},function(t,e,i){"use strict";function n(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}t.exports=n;var r=i(1).wrap;n.prototype.wrap=function(){return new n(r(this.lng,-180,180),this.lat)},n.prototype.toArray=function(){return[this.lng,this.lat]},n.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},n.convert=function(t){return t instanceof n?t:Array.isArray(t)?new n(t[0],t[1]):t}},function(t,e,i){"use strict";var n=i(4),r=i(8),o=i(47);t.exports=function(t){var e=i(50),a=i(17),s={"*":function(){return[]},array:i(48),"boolean":i(100),number:i(102),color:i(101),constants:i(49),"enum":i(26),filter:i(27),"function":i(50),layer:i(51),object:i(17),source:i(54),string:i(103)},u=t.value,l=t.valueSpec,h=t.key,c=t.styleSpec,f=t.style;if("string"===r(u)&&"@"===u[0]){if(c.$version>7)return[new n(h,u,"constants have been deprecated as of v8")];if(!(u in f.constants))return[new n(h,u,'constant "%s" not found',u)];t=o({},t,{value:f.constants[u]})}return l["function"]&&"object"===r(u)?e(t):l.type&&s[l.type]?s[l.type](t):a(o({},t,{valueSpec:l.type?c[l.type]:l}))}},function(t,e,i){"use strict";function n(t,e,i){if(i=i||r.ACCESS_TOKEN,!i&&r.REQUIRE_ACCESS_TOKEN)throw new Error("An API access token is required to use Mapbox GL. See https://www.mapbox.com/developers/api/#access-tokens");if(t=t.replace(/^mapbox:\/\//,r.API_URL+e),t+=-1!==t.indexOf("?")?"&access_token=":"?access_token=",r.REQUIRE_ACCESS_TOKEN){if("s"===i[0])throw new Error("Use a public access token (pk.*) with Mapbox GL JS, not a secret access token (sk.*). See https://www.mapbox.com/developers/api/#access-tokens");t+=i}return t}var r=i(66),o=i(5);t.exports.normalizeStyleURL=function(t,e){if(!t.match(/^mapbox:\/\/styles\//))return t;var i=t.split("/"),r=i[3],o=i[4],a=i[5]?"/draft":"";return n("mapbox://"+r+"/"+o+a,"/styles/v1/",e)},t.exports.normalizeSourceURL=function(t,e){return t.match(/^mapbox:\/\//)?n(t+".json","/v4/",e)+"&secure":t},t.exports.normalizeGlyphsURL=function(t,e){if(!t.match(/^mapbox:\/\//))return t;var i=t.split("/")[3];return n("mapbox://"+i+"/{fontstack}/{range}.pbf","/fonts/v1/",e)},t.exports.normalizeSpriteURL=function(t,e,i,r){if(!t.match(/^mapbox:\/\/sprites\//))return t+e+i;var o=t.split("/"),a=o[3],s=o[4],u=o[5]?"/draft":"";return n("mapbox://"+a+"/"+s+u+"/sprite"+e+i,"/styles/v1/",r)},t.exports.normalizeTileURL=function(t,e,i){if(!e||!e.match(/^mapbox:\/\//))return t;t=t.replace(/([?&]access_token=)tk\.[^&]+/,"$1"+r.ACCESS_TOKEN);var n=o.supportsWebp?"webp":"$1";return t.replace(/\.((?:png|jpg)\d*)(?=$|\?)/,o.devicePixelRatio>=2||512===i?"@2x."+n:"."+n)}},function(t,e,i){e.glMatrix=i(10),e.mat2=i(91),e.mat2d=i(92),e.mat3=i(43),e.mat4=i(93),e.quat=i(94),e.vec2=i(95),e.vec3=i(44),e.vec4=i(45)},function(t,e,i){"use strict";var n=i(4),r=i(8),o=i(14);t.exports=function(t){var e=t.key,i=t.value,a=t.valueSpec,s=t.objectElementValidators||{},u=t.style,l=t.styleSpec,h=[],c=r(i);if("object"!==c)return[new n(e,i,"object expected, %s found",c)];for(var f in i){var d=f.split(".")[0],p=a&&(a[d]||a["*"]),m=s[d]||s["*"];p||m?h=h.concat((m||o)({key:(e?e+".":e)+f,value:i[f],valueSpec:p,style:u,styleSpec:l,object:i,objectKey:f})):""!==e&&1!==e.split(".").length&&h.push(new n(e,i[f],'unknown property "%s"',f))}for(d in a)a[d].required&&void 0===a[d]["default"]&&void 0===i[d]&&h.push(new n(e,i,'missing required property "%s"',d));return h}},function(t,e,i){"use strict";var n=i(3).EXTENT;t.exports=function(t){for(var e=n/t.extent,i=t.loadGeometry(),r=0;r<i.length;r++)for(var o=i[r],a=0;a<o.length;a++){var s=o[a];s.x=Math.round(s.x*e),s.y=Math.round(s.y*e)}return i}},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var i=this[e];i[2]?t.push("@media "+i[2]+"{"+i[1]+"}"):t.push(i[1])}return t.join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(n[o]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&n[a[0]]||(i&&!a[2]?a[2]=i:i&&(a[2]="("+a[2]+") and ("+i+")"),t.push(a))}},t}},function(t,e){"use strict";t.exports=function(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}},function(t,e,i){"use strict";function n(t,e){t&&(e?this.extend(t).extend(e):4===t.length?this.extend([t[0],t[1]]).extend([t[2],t[3]]):this.extend(t[0]).extend(t[1]))}t.exports=n;var r=i(13);n.prototype={extend:function(t){var e,i,o=this._sw,a=this._ne;if(t instanceof r)e=t,i=t;else{if(!(t instanceof n))return t?this.extend(r.convert(t)||n.convert(t)):this;if(e=t._sw,i=t._ne,!e||!i)return this}return o||a?(o.lng=Math.min(e.lng,o.lng),o.lat=Math.min(e.lat,o.lat),a.lng=Math.max(i.lng,a.lng),a.lat=Math.max(i.lat,a.lat)):(this._sw=new r(e.lng,e.lat),this._ne=new r(i.lng,i.lat)),this},getCenter:function(){return new r((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},getSouthWest:function(){return this._sw},getNorthEast:function(){return this._ne},getNorthWest:function(){return new r(this.getWest(),this.getNorth())},getSouthEast:function(){return new r(this.getEast(),this.getSouth())},getWest:function(){return this._sw.lng},getSouth:function(){return this._sw.lat},getEast:function(){return this._ne.lng},getNorth:function(){return this._ne.lat},toArray:function(){return[this._sw.toArray(),this._ne.toArray()]},toString:function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"}},n.convert=function(t){return!t||t instanceof n?t:new n(t)}},function(t,e,i){"use strict";var n=i(1),r=i(12),o=i(5),a=i(33),s=i(15).normalizeSourceURL,u=i(32);e._loadTileJSON=function(t){var e=function(t,e){return t?void this.fire("error",{error:t}):(n.extend(this,n.pick(e,["tiles","minzoom","maxzoom","attribution"])),e.vector_layers&&(this.vectorLayers=e.vector_layers,this.vectorLayerIds=this.vectorLayers.map(function(t){return t.id})),this._pyramid=new a({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom,reparseOverscaled:this.reparseOverscaled,load:this._loadTile.bind(this),abort:this._abortTile.bind(this),unload:this._unloadTile.bind(this),add:this._addTile.bind(this),remove:this._removeTile.bind(this),redoPlacement:this._redoTilePlacement?this._redoTilePlacement.bind(this):void 0}),void this.fire("load"))}.bind(this);t.url?r.getJSON(s(t.url),e):o.frame(e.bind(this,null,t))},e.redoPlacement=function(){if(this._pyramid)for(var t=this._pyramid.orderedIDs(),e=0;e<t.length;e++){var i=this._pyramid.getTile(t[e]);this._redoTilePlacement(i)}},e._getTile=function(t){return this._pyramid.getTile(t.id)},e._getVisibleCoordinates=function(){return this._pyramid?this._pyramid.renderedIDs().map(u.fromID):[]},e._vectorFeaturesAt=function(t,e,i){if(!this._pyramid)return i(null,[]);var n=this._pyramid.tileAt(t);return n?void this.dispatcher.send("query features",{uid:n.tile.uid,x:n.x,y:n.y,scale:n.scale,tileSize:n.tileSize,source:this.id,params:e},i,n.tile.workerID):i(null,[])},e._vectorFeaturesIn=function(t,e,i){if(!this._pyramid)return i(null,[]);var r=this._pyramid.tilesIn(t);return r?void n.asyncAll(r,function(t,i){this.dispatcher.send("query features",{uid:t.tile.uid,source:this.id,minX:t.minX,maxX:t.maxX,minY:t.minY,maxY:t.maxY,params:e},i,t.tile.workerID)}.bind(this),function(t,e){i(t,Array.prototype.concat.apply([],e))}):i(null,[])},e.create=function(t){var n={vector:i(56),raster:i(55),geojson:i(29),video:i(34),image:i(30)};return e.is(t)?t:new n[t.type](t)},e.is=function(t){var e={vector:i(56),raster:i(55),geojson:i(29),video:i(34),image:i(30)};for(var n in e)if(t instanceof e[n])return!0;return!1}},function(t,e){"use strict";function i(t,e,i){return t*(1-i)+e*i}t.exports=i,i.number=i,i.vec2=function(t,e,n){return[i(t[0],e[0],n),i(t[1],e[1],n)]},i.color=function(t,e,n){return[i(t[0],e[0],n),i(t[1],e[1],n),i(t[2],e[2],n),i(t[3],e[3],n)]},i.array=function(t,e,n){return t.map(function(t,r){return i(t,e[r],n)})}},function(t,e,i){function n(t,e){for(var i=0;i<t.length;i++){var n=t[i],r=c[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(u(n.parts[o],e))}else{for(var a=[],o=0;o<n.parts.length;o++)a.push(u(n.parts[o],e));c[n.id]={id:n.id,refs:1,parts:a}}}}function r(t){for(var e=[],i={},n=0;n<t.length;n++){var r=t[n],o=r[0],a=r[1],s=r[2],u=r[3],l={css:a,media:s,sourceMap:u};i[o]?i[o].parts.push(l):e.push(i[o]={id:o,parts:[l]})}return e}function o(t,e){var i=p(),n=g[g.length-1];if("top"===t.insertAt)n?n.nextSibling?i.insertBefore(e,n.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),g.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");i.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=g.indexOf(t);e>=0&&g.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",o(t,e),e}function u(t,e){var i,n,r;if(e.singleton){var o=v++;i=m||(m=s(e)),n=l.bind(null,i,o,!1),r=l.bind(null,i,o,!0)}else i=s(e),n=h.bind(null,i),r=function(){a(i)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else r()}}function l(t,e,i,n){var r=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=y(e,r);else{var o=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function h(t,e){var i=e.css,n=e.media,r=e.sourceMap;if(n&&t.setAttribute("media",n),r&&(i+="\n/*# sourceURL="+r.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var c={},f=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},d=f(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),p=f(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,v=0,g=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=d()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var i=r(t);return n(i,e),function(t){for(var o=[],a=0;a<i.length;a++){var s=i[a],u=c[s.id];u.refs--,o.push(u)}if(t){var l=r(t);n(l,e)}for(var a=0;a<o.length;a++){var u=o[a];if(0===u.refs){for(var h=0;h<u.parts.length;h++)u.parts[h]();delete c[u.id]}}}};var y=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}()},function(t,e,i){function n(t,e){return d.isUndefined(e)?""+e:d.isNumber(e)&&!isFinite(e)?e.toString():d.isFunction(e)||d.isRegExp(e)?e.toString():e}function r(t,e){return d.isString(t)?t.length<e?t:t.slice(0,e):t}function o(t){return r(JSON.stringify(t.actual,n),128)+" "+t.operator+" "+r(JSON.stringify(t.expected,n),128)}function a(t,e,i,n,r){throw new v.AssertionError({message:i,actual:t,expected:e,operator:n,stackStartFunction:r})}function s(t,e){t||a(t,!0,e,"==",v.ok)}function u(t,e){if(t===e)return!0;if(d.isBuffer(t)&&d.isBuffer(e)){if(t.length!=e.length)return!1;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}return d.isDate(t)&&d.isDate(e)?t.getTime()===e.getTime():d.isRegExp(t)&&d.isRegExp(e)?t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase:d.isObject(t)||d.isObject(e)?h(t,e):t==e}function l(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function h(t,e){if(d.isNullOrUndefined(t)||d.isNullOrUndefined(e))return!1;if(t.prototype!==e.prototype)return!1;if(d.isPrimitive(t)||d.isPrimitive(e))return t===e;var i=l(t),n=l(e);if(i&&!n||!i&&n)return!1;if(i)return t=p.call(t),e=p.call(e),u(t,e);var r,o,a=g(t),s=g(e);if(a.length!=s.length)return!1;for(a.sort(),s.sort(),o=a.length-1;o>=0;o--)if(a[o]!=s[o])return!1;for(o=a.length-1;o>=0;o--)if(r=a[o],!u(t[r],e[r]))return!1;return!0}function c(t,e){return t&&e?"[object RegExp]"==Object.prototype.toString.call(e)?e.test(t):t instanceof e?!0:e.call({},t)===!0:!1;
}function f(t,e,i,n){var r;d.isString(i)&&(n=i,i=null);try{e()}catch(o){r=o}if(n=(i&&i.name?" ("+i.name+").":".")+(n?" "+n:"."),t&&!r&&a(r,i,"Missing expected exception"+n),!t&&c(r,i)&&a(r,i,"Got unwanted exception"+n),t&&r&&i&&!c(r,i)||!t&&r)throw r}var d=i(38),p=Array.prototype.slice,m=Object.prototype.hasOwnProperty,v=t.exports=s;v.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=o(this),this.generatedMessage=!0);var e=t.stackStartFunction||a;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var i=new Error;if(i.stack){var n=i.stack,r=e.name,s=n.indexOf("\n"+r);if(s>=0){var u=n.indexOf("\n",s+1);n=n.substring(u+1)}this.stack=n}}},d.inherits(v.AssertionError,Error),v.fail=a,v.ok=s,v.equal=function(t,e,i){t!=e&&a(t,e,i,"==",v.equal)},v.notEqual=function(t,e,i){t==e&&a(t,e,i,"!=",v.notEqual)},v.deepEqual=function(t,e,i){u(t,e)||a(t,e,i,"deepEqual",v.deepEqual)},v.notDeepEqual=function(t,e,i){u(t,e)&&a(t,e,i,"notDeepEqual",v.notDeepEqual)},v.strictEqual=function(t,e,i){t!==e&&a(t,e,i,"===",v.strictEqual)},v.notStrictEqual=function(t,e,i){t===e&&a(t,e,i,"!==",v.notStrictEqual)},v["throws"]=function(t,e,i){f.apply(this,[!0].concat(p.call(arguments)))},v.doesNotThrow=function(t,e){f.apply(this,[!1].concat(p.call(arguments)))},v.ifError=function(t){if(t)throw t};var g=Object.keys||function(t){var e=[];for(var i in t)m.call(t,i)&&e.push(i);return e}},function(t,e,i){"use strict";var n=i(4),r=i(20);t.exports=function(t){var e=t.key,i=t.value,o=t.valueSpec,a=[];return-1===o.values.indexOf(r(i))&&a.push(new n(e,i,"expected one of [%s], %s found",o.values.join(", "),i)),a}},function(t,e,i){"use strict";var n=i(4),r=i(26),o=i(8),a=i(20);t.exports=function s(t){var e,i=t.value,u=t.key,l=t.styleSpec,h=[];if("array"!==o(i))return[new n(u,i,"array expected, %s found",o(i))];if(i.length<1)return[new n(u,i,"filter array must have at least 1 element")];switch(h=h.concat(r({key:u+"[0]",value:i[0],valueSpec:l.filter_operator,style:t.style,styleSpec:t.styleSpec})),a(i[0])){case"<":case"<=":case">":case">=":i.length>=2&&"$type"==i[1]&&h.push(new n(u,i,'"$type" cannot be use with operator "%s"',i[0]));case"==":case"!=":3!=i.length&&h.push(new n(u,i,'filter array for operator "%s" must have 3 elements',i[0]));case"in":case"!in":i.length>=2&&(e=o(i[1]),"string"!==e?h.push(new n(u+"[1]",i[1],"string expected, %s found",e)):"@"===i[1][0]&&h.push(new n(u+"[1]",i[1],"filter key cannot be a constant")));for(var c=2;c<i.length;c++)e=o(i[c]),"$type"==i[1]?h=h.concat(r({key:u+"["+c+"]",value:i[c],valueSpec:l.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"===e&&"@"===i[c][0]?h.push(new n(u+"["+c+"]",i[c],"filter value cannot be a constant")):"string"!==e&&"number"!==e&&"boolean"!==e&&h.push(new n(u+"["+c+"]",i[c],"string, number, or boolean expected, %s found",e));break;case"any":case"all":case"none":for(c=1;c<i.length;c++)h=h.concat(s({key:u+"["+c+"]",value:i[c],style:t.style,styleSpec:t.styleSpec}))}return h}},function(t,e){"use strict";function i(t,e,i){this.column=t,this.row=e,this.zoom=i}t.exports=i,i.prototype={clone:function(){return new i(this.column,this.row,this.zoom)},zoomTo:function(t){return this.clone()._zoomTo(t)},sub:function(t){return this.clone()._sub(t)},_zoomTo:function(t){var e=Math.pow(2,t-this.zoom);return this.column*=e,this.row*=e,this.zoom=t,this},_sub:function(t){return t=t.zoomTo(this.zoom),this.column-=t.column,this.row-=t.row,this}}},function(t,e,i){"use strict";function n(t){t=t||{},this._data=t.data,void 0!==t.maxzoom&&(this.maxzoom=t.maxzoom);var e=l/this.tileSize;this.geojsonVtOptions={buffer:(void 0!==t.buffer?t.buffer:128)*e,tolerance:(void 0!==t.tolerance?t.tolerance:.375)*e,extent:l,maxZoom:this.maxzoom},this.cluster=t.cluster||!1,this.superclusterOptions={maxZoom:Math.max(t.clusterMaxZoom,this.maxzoom-1)||this.maxzoom-1,extent:l,radius:(t.clusterRadius||50)*e,log:!1},this._pyramid=new a({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!0,load:this._loadTile.bind(this),abort:this._abortTile.bind(this),unload:this._unloadTile.bind(this),add:this._addTile.bind(this),remove:this._removeTile.bind(this),redoPlacement:this._redoTilePlacement.bind(this)})}var r=i(1),o=i(7),a=i(33),s=i(22),u=i(171),l=i(3).EXTENT;t.exports=n,n.prototype=r.inherit(o,{minzoom:0,maxzoom:14,tileSize:512,_dirty:!0,isTileClipped:!0,setData:function(t){return this._data=t,this._dirty=!0,this.fire("change"),this.map&&this.update(this.map.transform),this},onAdd:function(t){this.map=t},loaded:function(){return this._loaded&&this._pyramid.loaded()},update:function(t){this._dirty&&this._updateData(),this._loaded&&this._pyramid.update(this.used,t)},reload:function(){this._loaded&&this._pyramid.reload()},serialize:function(){return{type:"geojson",data:this._data}},getVisibleCoordinates:s._getVisibleCoordinates,getTile:s._getTile,featuresAt:s._vectorFeaturesAt,featuresIn:s._vectorFeaturesIn,_updateData:function(){this._dirty=!1;var t=this._data;"string"==typeof t&&"undefined"!=typeof window&&(t=u(window.location.href,t)),this.workerID=this.dispatcher.send("parse geojson",{data:t,tileSize:this.tileSize,source:this.id,geojsonVtOptions:this.geojsonVtOptions,cluster:this.cluster,superclusterOptions:this.superclusterOptions},function(t){this._loaded=!0,t?this.fire("error",{error:t}):(this._pyramid.reload(),this.fire("change"))}.bind(this))},_loadTile:function(t){var e=t.coord.z>this.maxzoom?Math.pow(2,t.coord.z-this.maxzoom):1,i={uid:t.uid,coord:t.coord,zoom:t.coord.z,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,overscaling:e,angle:this.map.transform.angle,pitch:this.map.transform.pitch,collisionDebug:this.map.collisionDebug};t.workerID=this.dispatcher.send("load geojson tile",i,function(e,i){if(t.unloadVectorData(this.map.painter),!t.aborted){if(e)return void this.fire("tile.error",{tile:t});t.loadVectorData(i),t.redoWhenDone&&(t.redoWhenDone=!1,t.redoPlacement(this)),this.fire("tile.load",{tile:t})}}.bind(this),this.workerID)},_abortTile:function(t){t.aborted=!0},_addTile:function(t){this.fire("tile.add",{tile:t})},_removeTile:function(t){this.fire("tile.remove",{tile:t})},_unloadTile:function(t){t.unloadVectorData(this.map.painter),this.dispatcher.send("remove tile",{uid:t.uid,source:this.id},null,t.workerID)},redoPlacement:s.redoPlacement,_redoTilePlacement:function(t){t.redoPlacement(this)}})},function(t,e,i){"use strict";function n(t){this.urls=t.urls,this.coordinates=t.coordinates,l.getImage(t.url,function(e,i){e||(this.image=i,this.image.addEventListener("load",function(){this.map._rerender()}.bind(this)),this._loaded=!0,this.map&&this.setCoordinates(t.coordinates))}.bind(this))}var r=i(1),o=i(31),a=i(13),s=i(2),u=i(7),l=i(12),h=i(3).EXTENT;t.exports=n,n.prototype=r.inherit(u,{onAdd:function(t){this.map=t,this.image&&this.setCoordinates(this.coordinates)},setCoordinates:function(t){this.coordinates=t;var e=this.map,i=t.map(function(t){return e.transform.locationCoordinate(a.convert(t)).zoomTo(0)}),n=this.centerCoord=r.getCoordinatesCenter(i),u=i.map(function(t){var e=t.zoomTo(n.zoom);return new s(Math.round((e.column-n.column)*h),Math.round((e.row-n.row)*h))}),l=e.painter.gl,c=32767,f=new Int16Array([u[0].x,u[0].y,0,0,u[1].x,u[1].y,c,0,u[3].x,u[3].y,0,c,u[2].x,u[2].y,c,c]);return this.tile=new o,this.tile.buckets={},this.tile.boundsBuffer=l.createBuffer(),l.bindBuffer(l.ARRAY_BUFFER,this.tile.boundsBuffer),l.bufferData(l.ARRAY_BUFFER,f,l.STATIC_DRAW),this.fire("change"),this},loaded:function(){return this.image&&this.image.complete},update:function(){},reload:function(){},prepare:function(){if(this._loaded&&this.loaded()){var t=this.map.painter,e=t.gl;this.tile.texture?(e.bindTexture(e.TEXTURE_2D,this.tile.texture),e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,this.image)):(this.tile.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.tile.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this.image))}},getVisibleCoordinates:function(){return this.centerCoord?[this.centerCoord]:[]},getTile:function(){return this.tile},featuresAt:function(t,e,i){return i(null,[])},featuresIn:function(t,e,i){return i(null,[])},serialize:function(){return{type:"image",urls:this.urls,coordinates:this.coordinates}}})},function(t,e,i){"use strict";function n(t,e,i){this.coord=t,this.uid=o.uniqueId(),this.loaded=!1,this.isUnloaded=!1,this.uses=0,this.tileSize=e,this.sourceMaxZoom=i,this.buckets={}}function r(t){for(var e={},i=0;i<t.length;i++){var n=a.create(t[i]);e[n.id]=n}return e}var o=i(1),a=i(3);t.exports=n,n.prototype={pixelsToTileUnits:function(t,e){return t*(a.EXTENT/(this.tileSize*Math.pow(2,e-this.coord.z)))},positionAt:function(t){var e=t.zoomTo(Math.min(this.coord.z,this.sourceMaxZoom));return{x:(e.column-this.coord.x)*a.EXTENT,y:(e.row-this.coord.y)*a.EXTENT}},loadVectorData:function(t){this.loaded=!0,t&&(this.buckets=r(t.buckets))},reloadSymbolData:function(t,e){if(!this.isUnloaded){var i=r(t.buckets);for(var n in i){var o=i[n],a=this.buckets[n];a.destroy(e.gl),this.buckets[n]=o}}},unloadVectorData:function(t){for(var e in this.buckets){var i=this.buckets[e];i.destroy(t.gl)}this.buckets=null,this.loaded=!1,this.isUnloaded=!0},redoPlacement:function(t){function e(e,i){this.reloadSymbolData(i,t.map.painter),t.fire("tile.load",{tile:this}),this.redoingPlacement=!1,this.redoWhenDone&&(this.redoPlacement(t),this.redoWhenDone=!1)}return!this.loaded||this.redoingPlacement?void(this.redoWhenDone=!0):(this.redoingPlacement=!0,void t.dispatcher.send("redo placement",{uid:this.uid,source:t.id,angle:t.map.transform.angle,pitch:t.map.transform.pitch,collisionDebug:t.map.collisionDebug},e.bind(this),this.workerID))},getBucket:function(t){return this.buckets&&this.buckets[t.ref||t.id]}}},function(t,e,i){"use strict";function n(t,e,i,n){s(!isNaN(t)&&t>=0&&t%1===0),s(!isNaN(e)&&e>=0&&e%1===0),s(!isNaN(i)&&i>=0&&i%1===0),isNaN(n)&&(n=0),this.z=+t,this.x=+e,this.y=+i,this.w=+n,n*=2,0>n&&(n=-1*n-1);var r=1<<this.z;this.id=32*(r*r*n+r*this.y+this.x)+this.z}function r(t,e){if(t.row>e.row){var i=t;t=e,e=i}return{x0:t.column,y0:t.row,x1:e.column,y1:e.row,dx:e.column-t.column,dy:e.row-t.row}}function o(t,e,i,n,r){var o=Math.max(i,Math.floor(e.y0)),a=Math.min(n,Math.ceil(e.y1));if(t.x0===e.x0&&t.y0===e.y0?t.x0+e.dy/t.dy*t.dx<e.x1:t.x1-e.dy/t.dy*t.dx<e.x0){var s=t;t=e,e=s}for(var u=t.dx/t.dy,l=e.dx/e.dy,h=t.dx>0,c=e.dx<0,f=o;a>f;f++){var d=u*Math.max(0,Math.min(t.dy,f+h-t.y0))+t.x0,p=l*Math.max(0,Math.min(e.dy,f+c-e.y0))+e.x0;r(Math.floor(p),Math.ceil(d),f)}}function a(t,e,i,n,a,s){var u,l=r(t,e),h=r(e,i),c=r(i,t);l.dy>h.dy&&(u=l,l=h,h=u),l.dy>c.dy&&(u=l,l=c,c=u),h.dy>c.dy&&(u=h,h=c,c=u),l.dy&&o(c,l,n,a,s),h.dy&&o(c,h,n,a,s)}var s=i(25),u=i(28);t.exports=n,n.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y},n.prototype.toCoordinate=function(){var t=this.z,e=Math.pow(2,t),i=this.y,n=this.x+e*this.w;return new u(n,i,t)},n.fromID=function(t){var e=t%32,i=1<<e,r=(t-e)/32,o=r%i,a=(r-o)/i%i,s=Math.floor(r/(i*i));return s%2!==0&&(s=-1*s-1),s/=2,new n(e,o,a,s)},n.prototype.url=function(t,e){return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",Math.min(this.z,e||this.z)).replace("{x}",this.x).replace("{y}",this.y)},n.prototype.parent=function(t){return 0===this.z?null:this.z>t?new n(this.z-1,this.x,this.y,this.w):new n(this.z-1,Math.floor(this.x/2),Math.floor(this.y/2),this.w)},n.prototype.wrapped=function(){return new n(this.z,this.x,this.y,0)},n.prototype.children=function(t){if(this.z>=t)return[new n(this.z+1,this.x,this.y,this.w)];var e=this.z+1,i=2*this.x,r=2*this.y;return[new n(e,i,r,this.w),new n(e,i+1,r,this.w),new n(e,i,r+1,this.w),new n(e,i+1,r+1,this.w)]},n.cover=function(t,e,i){function r(t,e,r){var a,u,l;if(r>=0&&o>=r)for(a=t;e>a;a++)u=(a%o+o)%o,l=new n(i,u,r,Math.floor(a/o)),s[l.id]=l}var o=1<<t,s={};return a(e[0],e[1],e[2],0,o,r),a(e[2],e[3],e[0],0,o,r),Object.keys(s).map(function(t){return s[t]})}},function(t,e,i){"use strict";function n(t){this.tileSize=t.tileSize,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,this.roundZoom=t.roundZoom,this.reparseOverscaled=t.reparseOverscaled,this._load=t.load,this._abort=t.abort,this._unload=t.unload,this._add=t.add,this._remove=t.remove,this._redoPlacement=t.redoPlacement,this._tiles={},this._cache=new u(0,function(t){return this._unload(t)}.bind(this)),this._filterRendered=this._filterRendered.bind(this)}function r(t,e){return t%32-e%32}var o=i(31),a=i(32),s=i(2),u=i(168),l=i(1),h=i(3).EXTENT;t.exports=n,n.prototype={loaded:function(){for(var t in this._tiles)if(!this._tiles[t].loaded&&!this._tiles[t].errored)return!1;return!0},orderedIDs:function(){return Object.keys(this._tiles).map(Number).sort(r)},renderedIDs:function(){return this.orderedIDs().filter(this._filterRendered)},_filterRendered:function(t){return this._tiles[t].loaded&&!this._coveredTiles[t]},reload:function(){this._cache.reset();for(var t in this._tiles)this._load(this._tiles[t])},getTile:function(t){return this._tiles[t]},getZoom:function(t){return t.zoom+Math.log(t.tileSize/this.tileSize)/Math.LN2},coveringZoomLevel:function(t){return(this.roundZoom?Math.round:Math.floor)(this.getZoom(t))},coveringTiles:function(t){var e=this.coveringZoomLevel(t),i=e;if(e<this.minzoom)return[];e>this.maxzoom&&(e=this.maxzoom);var n=t,r=n.locationCoordinate(n.center)._zoomTo(e),o=new s(r.column-.5,r.row-.5);return a.cover(e,[n.pointCoordinate(new s(0,0))._zoomTo(e),n.pointCoordinate(new s(n.width,0))._zoomTo(e),n.pointCoordinate(new s(n.width,n.height))._zoomTo(e),n.pointCoordinate(new s(0,n.height))._zoomTo(e)],this.reparseOverscaled?i:e).sort(function(t,e){return o.dist(t)-o.dist(e)})},findLoadedChildren:function(t,e,i){var n=!1;for(var r in this._tiles){var o=this._tiles[r];if(!(i[r]||!o.loaded||o.coord.z<=t.z||o.coord.z>e)){var a=Math.pow(2,Math.min(o.coord.z,this.maxzoom)-Math.min(t.z,this.maxzoom));if(Math.floor(o.coord.x/a)===t.x&&Math.floor(o.coord.y/a)===t.y)for(i[r]=!0,n=!0;o&&o.coord.z-1>t.z;){var s=o.coord.parent(this.maxzoom).id;o=this._tiles[s],o&&o.loaded&&(delete i[r],i[s]=!0)}}}return n},findLoadedParent:function(t,e,i){for(var n=t.z-1;n>=e;n--){t=t.parent(this.maxzoom);var r=this._tiles[t.id];if(r&&r.loaded)return i[t.id]=!0,r;if(this._cache.has(t.id))return this.addTile(t),i[t.id]=!0,this._tiles[t.id]}},updateCacheSize:function(t){var e=Math.ceil(t.width/t.tileSize)+1,i=Math.ceil(t.height/t.tileSize)+1,n=e*i,r=5;this._cache.setMaxSize(Math.floor(n*r))},update:function(t,e,i){var n,r,o;this.updateCacheSize(e);var s=(this.roundZoom?Math.round:Math.floor)(this.getZoom(e)),u=Math.max(s-10,this.minzoom),h=Math.max(s+3,this.minzoom),c={},f=(new Date).getTime();this._coveredTiles={};var d=t?this.coveringTiles(e):[];for(n=0;n<d.length;n++)r=d[n],o=this.addTile(r),c[r.id]=!0,o.loaded||this.findLoadedChildren(r,h,c)||this.findLoadedParent(r,u,c);for(var p={},m=Object.keys(c),v=0;v<m.length;v++){var g=m[v];r=a.fromID(g),o=this._tiles[g],o&&o.timeAdded>f-(i||0)&&(this.findLoadedChildren(r,h,c)&&(c[g]=!0),this.findLoadedParent(r,u,p))}var y;for(y in p)c[y]||(this._coveredTiles[y]=!0);for(y in p)c[y]=!0;var _=l.keysDifference(this._tiles,c);for(n=0;n<_.length;n++)this.removeTile(+_[n]);this.transform=e},addTile:function(t){var e=this._tiles[t.id];if(e)return e;var i=t.wrapped();if(e=this._tiles[i.id],e||(e=this._cache.get(i.id),e&&this._redoPlacement&&this._redoPlacement(e)),!e){var n=t.z,r=n>this.maxzoom?Math.pow(2,n-this.maxzoom):1;e=new o(i,this.tileSize*r,this.maxzoom),this._load(e)}return e.uses++,this._tiles[t.id]=e,this._add(e,t),e},removeTile:function(t){var e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this._remove(e),e.uses>0||(e.loaded?this._cache.add(e.coord.wrapped().id,e):(this._abort(e),this._unload(e))))},clearTiles:function(){for(var t in this._tiles)this.removeTile(t);this._cache.reset()},tileAt:function(t){for(var e=this.orderedIDs(),i=0;i<e.length;i++){var n=this._tiles[e[i]],r=n.positionAt(t);if(r&&r.x>=0&&r.x<h&&r.y>=0&&r.y<h)return{tile:n,x:r.x,y:r.y,scale:Math.pow(2,this.transform.zoom-n.coord.z),tileSize:n.tileSize}}},tilesIn:function(t){for(var e=[],i=this.orderedIDs(),n=0;n<i.length;n++){var r=this._tiles[i[n]],o=[r.positionAt(t[0]),r.positionAt(t[1])];o[0].x<h&&o[0].y<h&&o[1].x>=0&&o[1].y>=0&&e.push({tile:r,minX:o[0].x,maxX:o[1].x,minY:o[0].y,maxY:o[1].y})}return e}}},function(t,e,i){"use strict";function n(t){this.urls=t.urls,this.coordinates=t.coordinates,l.getVideo(t.urls,function(e,i){if(!e){this.video=i,this.video.loop=!0;var n;this.video.addEventListener("playing",function(){n=this.map.style.animationLoop.set(1/0),this.map._rerender()}.bind(this)),this.video.addEventListener("pause",function(){this.map.style.animationLoop.cancel(n)}.bind(this)),this._loaded=!0,this.map&&(this.video.play(),this.setCoordinates(t.coordinates))}}.bind(this))}var r=i(1),o=i(31),a=i(13),s=i(2),u=i(7),l=i(12),h=i(3).EXTENT;t.exports=n,n.prototype=r.inherit(u,{roundZoom:!0,getVideo:function(){return this.video},onAdd:function(t){this.map=t,this.video&&(this.video.play(),this.setCoordinates(this.coordinates))},setCoordinates:function(t){this.coordinates=t;var e=this.map,i=t.map(function(t){return e.transform.locationCoordinate(a.convert(t)).zoomTo(0)}),n=this.centerCoord=r.getCoordinatesCenter(i),u=i.map(function(t){var e=t.zoomTo(n.zoom);return new s(Math.round((e.column-n.column)*h),Math.round((e.row-n.row)*h))}),l=e.painter.gl,c=32767,f=new Int16Array([u[0].x,u[0].y,0,0,u[1].x,u[1].y,c,0,u[3].x,u[3].y,0,c,u[2].x,u[2].y,c,c]);return this.tile=new o,this.tile.buckets={},this.tile.boundsBuffer=l.createBuffer(),l.bindBuffer(l.ARRAY_BUFFER,this.tile.boundsBuffer),l.bufferData(l.ARRAY_BUFFER,f,l.STATIC_DRAW),this.fire("change"),this},loaded:function(){return this.video&&this.video.readyState>=2},update:function(){},reload:function(){},prepare:function(){if(this._loaded&&!(this.video.readyState<2)){var t=this.map.painter.gl;this.tile.texture?(t.bindTexture(t.TEXTURE_2D,this.tile.texture),t.texSubImage2D(t.TEXTURE_2D,0,0,0,t.RGBA,t.UNSIGNED_BYTE,this.video)):(this.tile.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.tile.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.video)),this._currentTime=this.video.currentTime}},getVisibleCoordinates:function(){return this.centerCoord?[this.centerCoord]:[]},getTile:function(){return this.tile},featuresAt:function(t,e,i){return i(null,[])},featuresIn:function(t,e,i){return i(null,[])},serialize:function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}})},function(t,e,i){"use strict";t.exports=i(104),t.exports.emitErrors=function(t,e){if(e&&e.length){for(var i=0;i<e.length;i++)t.fire("error",{error:new Error(e[i].message)});return!0}return!1}},function(t,e){"use strict";function i(){}t.exports=i,i.prototype={addTo:function(t){this._map=t;var e=this._container=this.onAdd(t);if(this.options&&this.options.position){var i=this.options.position,n=t._controlCorners[i];e.className+=" mapboxgl-ctrl",-1!==i.indexOf("bottom")?n.insertBefore(e,n.firstChild):n.appendChild(e)}return this},remove:function(){return this._container.parentNode.removeChild(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this}}},function(t,e,i){var n;!function(){"use strict";function r(t,e){return this instanceof r?(this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),void this.clear()):new r(t,e)}function o(t,e){t.bbox=a(t,0,t.children.length,e)}function a(t,e,i,n){for(var r,o=s(),a=e;i>a;a++)r=t.children[a],u(o,t.leaf?n(r):r.bbox);return o}function s(){return[1/0,1/0,-(1/0),-(1/0)]}function u(t,e){return t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.max(t[2],e[2]),t[3]=Math.max(t[3],e[3]),t}function l(t,e){return t.bbox[0]-e.bbox[0]}function h(t,e){return t.bbox[1]-e.bbox[1]}function c(t){return(t[2]-t[0])*(t[3]-t[1])}function f(t){return t[2]-t[0]+(t[3]-t[1])}function d(t,e){return(Math.max(e[2],t[2])-Math.min(e[0],t[0]))*(Math.max(e[3],t[3])-Math.min(e[1],t[1]))}function p(t,e){var i=Math.max(t[0],e[0]),n=Math.max(t[1],e[1]),r=Math.min(t[2],e[2]),o=Math.min(t[3],e[3]);return Math.max(0,r-i)*Math.max(0,o-n)}function m(t,e){return t[0]<=e[0]&&t[1]<=e[1]&&e[2]<=t[2]&&e[3]<=t[3]}function v(t,e){return e[0]<=t[2]&&e[1]<=t[3]&&e[2]>=t[0]&&e[3]>=t[1]}function g(t,e,i,n,r){for(var o,a=[e,i];a.length;)i=a.pop(),e=a.pop(),n>=i-e||(o=e+Math.ceil((i-e)/n/2)*n,y(t,e,i,o,r),a.push(e,o,o,i))}function y(t,e,i,n,r){for(var o,a,s,u,l,h,c,f,d;i>e;){for(i-e>600&&(o=i-e+1,a=n-e+1,s=Math.log(o),u=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*u*(o-u)/o)*(0>a-o/2?-1:1),h=Math.max(e,Math.floor(n-a*u/o+l)),c=Math.min(i,Math.floor(n+(o-a)*u/o+l)),y(t,h,c,n,r)),f=t[n],a=e,d=i,_(t,e,n),r(t[i],f)>0&&_(t,e,i);d>a;){for(_(t,a,d),a++,d--;r(t[a],f)<0;)a++;for(;r(t[d],f)>0;)d--}0===r(t[e],f)?_(t,e,d):(d++,_(t,d,i)),n>=d&&(e=d+1),d>=n&&(i=d-1)}}function _(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}r.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,i=[],n=this.toBBox;if(!v(t,e.bbox))return i;for(var r,o,a,s,u=[];e;){for(r=0,o=e.children.length;o>r;r++)a=e.children[r],s=e.leaf?n(a):a.bbox,v(t,s)&&(e.leaf?i.push(a):m(t,s)?this._all(a,i):u.push(a));e=u.pop()}return i},collides:function(t){var e=this.data,i=this.toBBox;if(!v(t,e.bbox))return!1;for(var n,r,o,a,s=[];e;){for(n=0,r=e.children.length;r>n;n++)if(o=e.children[n],a=e.leaf?i(o):o.bbox,v(t,a)){if(e.leaf||m(t,a))return!0;s.push(o)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,i=t.length;i>e;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data={children:[],height:1,bbox:s(),leaf:!0},this},remove:function(t){if(!t)return this;for(var e,i,n,r,o=this.data,a=this.toBBox(t),s=[],u=[];o||s.length;){if(o||(o=s.pop(),i=s[s.length-1],e=u.pop(),r=!0),o.leaf&&(n=o.children.indexOf(t),-1!==n))return o.children.splice(n,1),s.push(o),this._condense(s),this;r||o.leaf||!m(o.bbox,a)?i?(e++,o=i.children[e],r=!1):o=null:(s.push(o),u.push(e),e=0,i=o,o=o.children[0])}return this},toBBox:function(t){return t},compareMinX:function(t,e){return t[0]-e[0]},compareMinY:function(t,e){return t[1]-e[1]},toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},_build:function(t,e,i,n){var r,a=i-e+1,s=this._maxEntries;if(s>=a)return r={children:t.slice(e,i+1),height:1,bbox:null,leaf:!0},o(r,this.toBBox),r;n||(n=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,n-1))),r={children:[],height:n,bbox:null,leaf:!1};var u,l,h,c,f=Math.ceil(a/s),d=f*Math.ceil(Math.sqrt(s));for(g(t,e,i,d,this.compareMinX),u=e;i>=u;u+=d)for(h=Math.min(u+d-1,i),g(t,u,h,f,this.compareMinY),l=u;h>=l;l+=f)c=Math.min(l+f-1,h),r.children.push(this._build(t,l,c,n-1));return o(r,this.toBBox),r},_chooseSubtree:function(t,e,i,n){for(var r,o,a,s,u,l,h,f;;){if(n.push(e),e.leaf||n.length-1===i)break;for(h=f=1/0,r=0,o=e.children.length;o>r;r++)a=e.children[r],u=c(a.bbox),l=d(t,a.bbox)-u,f>l?(f=l,h=h>u?u:h,s=a):l===f&&h>u&&(h=u,s=a);e=s}return e},_insert:function(t,e,i){var n=this.toBBox,r=i?t.bbox:n(t),o=[],a=this._chooseSubtree(r,this.data,e,o);for(a.children.push(t),u(a.bbox,r);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(r,o,e)},_split:function(t,e){var i=t[e],n=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,n);var a=this._chooseSplitIndex(i,r,n),s={children:i.children.splice(a,i.children.length-a),height:i.height,bbox:null,leaf:!1};i.leaf&&(s.leaf=!0),o(i,this.toBBox),o(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(i,s)},_splitRoot:function(t,e){this.data={children:[t,e],height:t.height+1,bbox:null,leaf:!1},o(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,i){var n,r,o,s,u,l,h,f;for(l=h=1/0,n=e;i-e>=n;n++)r=a(t,0,n,this.toBBox),o=a(t,n,i,this.toBBox),s=p(r,o),u=c(r)+c(o),l>s?(l=s,f=n,h=h>u?u:h):s===l&&h>u&&(h=u,f=n);return f},_chooseSplitAxis:function(t,e,i){var n=t.leaf?this.compareMinX:l,r=t.leaf?this.compareMinY:h,o=this._allDistMargin(t,e,i,n),a=this._allDistMargin(t,e,i,r);a>o&&t.children.sort(n)},_allDistMargin:function(t,e,i,n){t.children.sort(n);var r,o,s=this.toBBox,l=a(t,0,e,s),h=a(t,i-e,i,s),c=f(l)+f(h);for(r=e;i-e>r;r++)o=t.children[r],u(l,t.leaf?s(o):o.bbox),c+=f(l);for(r=i-e-1;r>=e;r--)o=t.children[r],u(h,t.leaf?s(o):o.bbox),c+=f(h);return c},_adjustParentBBoxes:function(t,e,i){for(var n=i;n>=0;n--)u(e[n].bbox,t)},_condense:function(t){for(var e,i=t.length-1;i>=0;i--)0===t[i].children.length?i>0?(e=t[i-1].children,e.splice(e.indexOf(t[i]),1)):this.clear():o(t[i],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return [a"+t.join(", a")+"];")}},n=function(){return r}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}()},function(t,e,i){(function(t,n,r){function o(t,i){var n={seen:[],stylize:s};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),v(i)?n.showHidden=i:i&&e._extend(n,i),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=a),l(n,t,n.depth)}function a(t,e){var i=o.styles[e];return i?"["+o.colors[i][0]+"m"+t+"["+o.colors[i][1]+"m":t}function s(t,e){return t}function u(t){var e={};return t.forEach(function(t,i){e[t]=!0}),e}function l(t,i,n){if(t.customInspect&&i&&I(i.inspect)&&i.inspect!==e.inspect&&(!i.constructor||i.constructor.prototype!==i)){var r=i.inspect(n,t);return x(r)||(r=l(t,r,n)),r}var o=h(t,i);if(o)return o;var a=Object.keys(i),s=u(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(i)),T(i)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return c(i);if(0===a.length){if(I(i)){var v=i.name?": "+i.name:"";return t.stylize("[Function"+v+"]","special")}if(M(i))return t.stylize(RegExp.prototype.toString.call(i),"regexp");if(E(i))return t.stylize(Date.prototype.toString.call(i),"date");if(T(i))return c(i)}var g="",y=!1,_=["{","}"];if(m(i)&&(y=!0,_=["[","]"]),I(i)){var b=i.name?": "+i.name:"";g=" [Function"+b+"]"}if(M(i)&&(g=" "+RegExp.prototype.toString.call(i)),E(i)&&(g=" "+Date.prototype.toUTCString.call(i)),T(i)&&(g=" "+c(i)),0===a.length&&(!y||0==i.length))return _[0]+g+_[1];if(0>n)return M(i)?t.stylize(RegExp.prototype.toString.call(i),"regexp"):t.stylize("[Object]","special");t.seen.push(i);var w;return w=y?f(t,i,n,s,a):a.map(function(e){return d(t,i,n,s,e,y)}),t.seen.pop(),p(w,g,_)}function h(t,e){if(w(e))return t.stylize("undefined","undefined");if(x(e)){var i="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(i,"string")}return _(e)?t.stylize(""+e,"number"):v(e)?t.stylize(""+e,"boolean"):g(e)?t.stylize("null","null"):void 0}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,i,n,r){for(var o=[],a=0,s=e.length;s>a;++a)C(e,String(a))?o.push(d(t,e,i,n,String(a),!0)):o.push("");return r.forEach(function(r){r.match(/^\d+$/)||o.push(d(t,e,i,n,r,!0))}),o}function d(t,e,i,n,r,o){var a,s,u;if(u=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]},u.get?s=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),C(n,r)||(a="["+r+"]"),s||(t.seen.indexOf(u.value)<0?(s=g(i)?l(t,u.value,null):l(t,u.value,i-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),w(a)){if(o&&r.match(/^\d+$/))return s;a=JSON.stringify(""+r),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function p(t,e,i){var n=0,r=t.reduce(function(t,e){return n++,e.indexOf("\n")>=0&&n++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return r>60?i[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+i[1]:i[0]+e+" "+t.join(", ")+" "+i[1]}function m(t){return Array.isArray(t)}function v(t){return"boolean"==typeof t}function g(t){return null===t}function y(t){return null==t}function _(t){return"number"==typeof t}function x(t){return"string"==typeof t}function b(t){return"symbol"==typeof t}function w(t){return void 0===t}function M(t){return S(t)&&"[object RegExp]"===D(t)}function S(t){return"object"==typeof t&&null!==t}function E(t){return S(t)&&"[object Date]"===D(t)}function T(t){return S(t)&&("[object Error]"===D(t)||t instanceof Error)}function I(t){return"function"==typeof t}function A(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function D(t){return Object.prototype.toString.call(t)}function z(t){return 10>t?"0"+t.toString(10):t.toString(10)}function P(){var t=new Date,e=[z(t.getHours()),z(t.getMinutes()),z(t.getSeconds())].join(":");return[t.getDate(),k[t.getMonth()],e].join(" ")}function C(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var L=/%[sdj%]/g;e.format=function(t){if(!x(t)){for(var e=[],i=0;i<arguments.length;i++)e.push(o(arguments[i]));return e.join(" ")}for(var i=1,n=arguments,r=n.length,a=String(t).replace(L,function(t){if("%%"===t)return"%";if(i>=r)return t;switch(t){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(e){return"[Circular]"}default:return t}}),s=n[i];r>i;s=n[++i])a+=g(s)||!S(s)?" "+s:" "+o(s);return a},e.deprecate=function(i,o){function a(){if(!s){if(n.throwDeprecation)throw new Error(o);n.traceDeprecation?r.trace(o):r.error(o),s=!0}return i.apply(this,arguments)}if(w(t.process))return function(){return e.deprecate(i,o).apply(this,arguments)};if(n.noDeprecation===!0)return i;var s=!1;return a};var F,R={};e.debuglog=function(t){if(w(F)&&(F={NODE_ENV:"production"}.NODE_DEBUG||""),t=t.toUpperCase(),!R[t])if(new RegExp("\\b"+t+"\\b","i").test(F)){var i=n.pid;R[t]=function(){var n=e.format.apply(e,arguments);r.error("%s %d: %s",t,i,n)}}else R[t]=function(){};return R[t]},e.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=m,e.isBoolean=v,e.isNull=g,e.isNullOrUndefined=y,e.isNumber=_,e.isString=x,e.isSymbol=b,e.isUndefined=w,e.isRegExp=M,e.isObject=S,e.isDate=E,e.isError=T,e.isFunction=I,e.isPrimitive=A,e.isBuffer=i(176);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){r.log("%s - %s",P(),e.format.apply(e,arguments))},e.inherits=i(96),e._extend=function(t,e){
if(!e||!S(e))return t;for(var i=Object.keys(e),n=i.length;n--;)t[i[n]]=e[i[n]];return t}}).call(e,function(){return this}(),i(69),i(6))},function(t,e,i){t.exports.VectorTile=i(177),t.exports.VectorTileFeature=i(71),t.exports.VectorTileLayer=i(72)},function(t,e,i){(function(t,n,r){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function o(){function t(){}try{var e=new Uint8Array(1);return e.foo=function(){return 42},e.constructor=t,42===e.foo()&&e.constructor===t&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(i){return!1}}function a(){return t.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function t(e){return this instanceof t?(t.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof e?s(this,e):"string"==typeof e?u(this,e,arguments.length>1?arguments[1]:"utf8"):l(this,e)):arguments.length>1?new t(e,arguments[1]):new t(e)}function s(e,i){if(e=v(e,0>i?0:0|g(i)),!t.TYPED_ARRAY_SUPPORT)for(var n=0;i>n;n++)e[n]=0;return e}function u(t,e,i){"string"==typeof i&&""!==i||(i="utf8");var n=0|_(e,i);return t=v(t,n),t.write(e,i),t}function l(e,i){if(t.isBuffer(i))return h(e,i);if(J(i))return c(e,i);if(null==i)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(i.buffer instanceof ArrayBuffer)return f(e,i);if(i instanceof ArrayBuffer)return d(e,i)}return i.length?p(e,i):m(e,i)}function h(t,e){var i=0|g(e.length);return t=v(t,i),e.copy(t,0,0,i),t}function c(t,e){var i=0|g(e.length);t=v(t,i);for(var n=0;i>n;n+=1)t[n]=255&e[n];return t}function f(t,e){var i=0|g(e.length);t=v(t,i);for(var n=0;i>n;n+=1)t[n]=255&e[n];return t}function d(e,i){return t.TYPED_ARRAY_SUPPORT?(i.byteLength,e=t._augment(new Uint8Array(i))):e=f(e,new Uint8Array(i)),e}function p(t,e){var i=0|g(e.length);t=v(t,i);for(var n=0;i>n;n+=1)t[n]=255&e[n];return t}function m(t,e){var i,n=0;"Buffer"===e.type&&J(e.data)&&(i=e.data,n=0|g(i.length)),t=v(t,n);for(var r=0;n>r;r+=1)t[r]=255&i[r];return t}function v(e,i){t.TYPED_ARRAY_SUPPORT?(e=t._augment(new Uint8Array(i)),e.__proto__=t.prototype):(e.length=i,e._isBuffer=!0);var n=0!==i&&i<=t.poolSize>>>1;return n&&(e.parent=Q),e}function g(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function y(e,i){if(!(this instanceof y))return new y(e,i);var n=new t(e,i);return delete n.parent,n}function _(t,e){"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var n=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return i;case"utf8":case"utf-8":return Y(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return H(t).length;default:if(n)return Y(t).length;e=(""+e).toLowerCase(),n=!0}}function x(t,e,i){var n=!1;if(e=0|e,i=void 0===i||i===1/0?this.length:0|i,t||(t="utf8"),0>e&&(e=0),i>this.length&&(i=this.length),e>=i)return"";for(;;)switch(t){case"hex":return C(this,e,i);case"utf8":case"utf-8":return A(this,e,i);case"ascii":return z(this,e,i);case"binary":return P(this,e,i);case"base64":return I(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function b(t,e,i,n){i=Number(i)||0;var r=t.length-i;n?(n=Number(n),n>r&&(n=r)):n=r;var o=e.length;if(o%2!==0)throw new Error("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;n>a;a++){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");t[i+a]=s}return a}function w(t,e,i,n){return Z(Y(e,t.length-i),t,i,n)}function M(t,e,i,n){return Z(G(e),t,i,n)}function S(t,e,i,n){return M(t,e,i,n)}function E(t,e,i,n){return Z(H(e),t,i,n)}function T(t,e,i,n){return Z($(e,t.length-i),t,i,n)}function I(t,e,i){return 0===e&&i===t.length?X.fromByteArray(t):X.fromByteArray(t.slice(e,i))}function A(t,e,i){i=Math.min(t.length,i);for(var n=[],r=e;i>r;){var o=t[r],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i>=r+s){var u,l,h,c;switch(s){case 1:128>o&&(a=o);break;case 2:u=t[r+1],128===(192&u)&&(c=(31&o)<<6|63&u,c>127&&(a=c));break;case 3:u=t[r+1],l=t[r+2],128===(192&u)&&128===(192&l)&&(c=(15&o)<<12|(63&u)<<6|63&l,c>2047&&(55296>c||c>57343)&&(a=c));break;case 4:u=t[r+1],l=t[r+2],h=t[r+3],128===(192&u)&&128===(192&l)&&128===(192&h)&&(c=(15&o)<<18|(63&u)<<12|(63&l)<<6|63&h,c>65535&&1114112>c&&(a=c))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),r+=s}return D(n)}function D(t){var e=t.length;if(K>=e)return String.fromCharCode.apply(String,t);for(var i="",n=0;e>n;)i+=String.fromCharCode.apply(String,t.slice(n,n+=K));return i}function z(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;i>r;r++)n+=String.fromCharCode(127&t[r]);return n}function P(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;i>r;r++)n+=String.fromCharCode(t[r]);return n}function C(t,e,i){var n=t.length;(!e||0>e)&&(e=0),(!i||0>i||i>n)&&(i=n);for(var r="",o=e;i>o;o++)r+=V(t[o]);return r}function L(t,e,i){for(var n=t.slice(e,i),r="",o=0;o<n.length;o+=2)r+=String.fromCharCode(n[o]+256*n[o+1]);return r}function F(t,e,i){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function R(e,i,n,r,o,a){if(!t.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(i>o||a>i)throw new RangeError("value is out of bounds");if(n+r>e.length)throw new RangeError("index out of range")}function k(t,e,i,n){0>e&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-i,2);o>r;r++)t[i+r]=(e&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function B(t,e,i,n){0>e&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-i,4);o>r;r++)t[i+r]=e>>>8*(n?r:3-r)&255}function O(t,e,i,n,r,o){if(e>r||o>e)throw new RangeError("value is out of bounds");if(i+n>t.length)throw new RangeError("index out of range");if(0>i)throw new RangeError("index out of range")}function N(t,e,i,n,r){return r||O(t,e,i,4,3.4028234663852886e38,-3.4028234663852886e38),W.write(t,e,i,n,23,4),i+4}function j(t,e,i,n,r){return r||O(t,e,i,8,1.7976931348623157e308,-1.7976931348623157e308),W.write(t,e,i,n,52,8),i+8}function U(t){if(t=q(t).replace(et,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function q(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function V(t){return 16>t?"0"+t.toString(16):t.toString(16)}function Y(t,e){e=e||1/0;for(var i,n=t.length,r=null,o=[],a=0;n>a;a++){if(i=t.charCodeAt(a),i>55295&&57344>i){if(!r){if(i>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}r=i;continue}if(56320>i){(e-=3)>-1&&o.push(239,191,189),r=i;continue}i=(r-55296<<10|i-56320)+65536}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,128>i){if((e-=1)<0)break;o.push(i)}else if(2048>i){if((e-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(65536>i){if((e-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(1114112>i))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function G(t){for(var e=[],i=0;i<t.length;i++)e.push(255&t.charCodeAt(i));return e}function $(t,e){for(var i,n,r,o=[],a=0;a<t.length&&!((e-=2)<0);a++)i=t.charCodeAt(a),n=i>>8,r=i%256,o.push(r),o.push(n);return o}function H(t){return X.toByteArray(U(t))}function Z(t,e,i,n){for(var r=0;n>r&&!(r+i>=e.length||r>=t.length);r++)e[r+i]=t[r];return r}var X=i(77),W=i(46),J=i(78);e.Buffer=t,e.SlowBuffer=y,e.INSPECT_MAX_BYTES=50,t.poolSize=8192;var Q={};t.TYPED_ARRAY_SUPPORT=void 0!==n.TYPED_ARRAY_SUPPORT?n.TYPED_ARRAY_SUPPORT:o(),t.TYPED_ARRAY_SUPPORT?(t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array):(t.prototype.length=void 0,t.prototype.parent=void 0),t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(e,i){if(!t.isBuffer(e)||!t.isBuffer(i))throw new TypeError("Arguments must be Buffers");if(e===i)return 0;for(var n=e.length,r=i.length,o=0,a=Math.min(n,r);a>o&&e[o]===i[o];)++o;return o!==a&&(n=e[o],r=i[o]),r>n?-1:n>r?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,i){if(!J(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new t(0);var n;if(void 0===i)for(i=0,n=0;n<e.length;n++)i+=e[n].length;var r=new t(i),o=0;for(n=0;n<e.length;n++){var a=e[n];a.copy(r,o),o+=a.length}return r},t.byteLength=_,t.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?A(this,0,t):x.apply(this,arguments)},t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:0===t.compare(this,e)},t.prototype.inspect=function(){var t="",i=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(t+=" ... ")),"<Buffer "+t+">"},t.prototype.compare=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:t.compare(this,e)},t.prototype.indexOf=function(e,i){function n(t,e,i){for(var n=-1,r=0;i+r<t.length;r++)if(t[i+r]===e[-1===n?0:r-n]){if(-1===n&&(n=r),r-n+1===e.length)return i+n}else n=-1;return-1}if(i>2147483647?i=2147483647:-2147483648>i&&(i=-2147483648),i>>=0,0===this.length)return-1;if(i>=this.length)return-1;if(0>i&&(i=Math.max(this.length+i,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,i);if(t.isBuffer(e))return n(this,e,i);if("number"==typeof e)return t.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,i):n(this,[e],i);throw new TypeError("val must be string, number or Buffer")},t.prototype.get=function(t){return r.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},t.prototype.set=function(t,e){return r.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},t.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)n=e,i=this.length,e=0;else if(isFinite(e))e=0|e,isFinite(i)?(i=0|i,void 0===n&&(n="utf8")):(n=i,i=void 0);else{var r=n;n=e,e=0|i,i=r}var o=this.length-e;if((void 0===i||i>o)&&(i=o),t.length>0&&(0>i||0>e)||e>this.length)throw new RangeError("attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return b(this,t,e,i);case"utf8":case"utf-8":return w(this,t,e,i);case"ascii":return M(this,t,e,i);case"binary":return S(this,t,e,i);case"base64":return E(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e,i);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var K=4096;t.prototype.slice=function(e,i){var n=this.length;e=~~e,i=void 0===i?n:~~i,0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),0>i?(i+=n,0>i&&(i=0)):i>n&&(i=n),e>i&&(i=e);var r;if(t.TYPED_ARRAY_SUPPORT)r=t._augment(this.subarray(e,i));else{var o=i-e;r=new t(o,void 0);for(var a=0;o>a;a++)r[a]=this[a+e]}return r.length&&(r.parent=this.parent||this),r},t.prototype.readUIntLE=function(t,e,i){t=0|t,e=0|e,i||F(t,e,this.length);for(var n=this[t],r=1,o=0;++o<e&&(r*=256);)n+=this[t+o]*r;return n},t.prototype.readUIntBE=function(t,e,i){t=0|t,e=0|e,i||F(t,e,this.length);for(var n=this[t+--e],r=1;e>0&&(r*=256);)n+=this[t+--e]*r;return n},t.prototype.readUInt8=function(t,e){return e||F(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,e){return e||F(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,e){return e||F(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,e){return e||F(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,e){return e||F(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,e,i){t=0|t,e=0|e,i||F(t,e,this.length);for(var n=this[t],r=1,o=0;++o<e&&(r*=256);)n+=this[t+o]*r;return r*=128,n>=r&&(n-=Math.pow(2,8*e)),n},t.prototype.readIntBE=function(t,e,i){t=0|t,e=0|e,i||F(t,e,this.length);for(var n=e,r=1,o=this[t+--n];n>0&&(r*=256);)o+=this[t+--n]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*e)),o},t.prototype.readInt8=function(t,e){return e||F(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},t.prototype.readInt16LE=function(t,e){e||F(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},t.prototype.readInt16BE=function(t,e){e||F(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},t.prototype.readInt32LE=function(t,e){return e||F(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,e){return e||F(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,e){return e||F(t,4,this.length),W.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,e){return e||F(t,4,this.length),W.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,e){return e||F(t,8,this.length),W.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,e){return e||F(t,8,this.length),W.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,e,i,n){t=+t,e=0|e,i=0|i,n||R(this,t,e,i,Math.pow(2,8*i),0);var r=1,o=0;for(this[e]=255&t;++o<i&&(r*=256);)this[e+o]=t/r&255;return e+i},t.prototype.writeUIntBE=function(t,e,i,n){t=+t,e=0|e,i=0|i,n||R(this,t,e,i,Math.pow(2,8*i),0);var r=i-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+i},t.prototype.writeUInt8=function(e,i,n){return e=+e,i=0|i,n||R(this,e,i,1,255,0),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[i]=255&e,i+1},t.prototype.writeUInt16LE=function(e,i,n){return e=+e,i=0|i,n||R(this,e,i,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[i]=255&e,this[i+1]=e>>>8):k(this,e,i,!0),i+2},t.prototype.writeUInt16BE=function(e,i,n){return e=+e,i=0|i,n||R(this,e,i,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[i]=e>>>8,this[i+1]=255&e):k(this,e,i,!1),i+2},t.prototype.writeUInt32LE=function(e,i,n){return e=+e,i=0|i,n||R(this,e,i,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[i+3]=e>>>24,this[i+2]=e>>>16,this[i+1]=e>>>8,this[i]=255&e):B(this,e,i,!0),i+4},t.prototype.writeUInt32BE=function(e,i,n){return e=+e,i=0|i,n||R(this,e,i,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[i]=e>>>24,this[i+1]=e>>>16,this[i+2]=e>>>8,this[i+3]=255&e):B(this,e,i,!1),i+4},t.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e=0|e,!n){var r=Math.pow(2,8*i-1);R(this,t,e,i,r-1,-r)}var o=0,a=1,s=0>t?1:0;for(this[e]=255&t;++o<i&&(a*=256);)this[e+o]=(t/a>>0)-s&255;return e+i},t.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e=0|e,!n){var r=Math.pow(2,8*i-1);R(this,t,e,i,r-1,-r)}var o=i-1,a=1,s=0>t?1:0;for(this[e+o]=255&t;--o>=0&&(a*=256);)this[e+o]=(t/a>>0)-s&255;return e+i},t.prototype.writeInt8=function(e,i,n){return e=+e,i=0|i,n||R(this,e,i,1,127,-128),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[i]=255&e,i+1},t.prototype.writeInt16LE=function(e,i,n){return e=+e,i=0|i,n||R(this,e,i,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[i]=255&e,this[i+1]=e>>>8):k(this,e,i,!0),i+2},t.prototype.writeInt16BE=function(e,i,n){return e=+e,i=0|i,n||R(this,e,i,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[i]=e>>>8,this[i+1]=255&e):k(this,e,i,!1),i+2},t.prototype.writeInt32LE=function(e,i,n){return e=+e,i=0|i,n||R(this,e,i,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[i]=255&e,this[i+1]=e>>>8,this[i+2]=e>>>16,this[i+3]=e>>>24):B(this,e,i,!0),i+4},t.prototype.writeInt32BE=function(e,i,n){return e=+e,i=0|i,n||R(this,e,i,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),t.TYPED_ARRAY_SUPPORT?(this[i]=e>>>24,this[i+1]=e>>>16,this[i+2]=e>>>8,this[i+3]=255&e):B(this,e,i,!1),i+4},t.prototype.writeFloatLE=function(t,e,i){return N(this,t,e,!0,i)},t.prototype.writeFloatBE=function(t,e,i){return N(this,t,e,!1,i)},t.prototype.writeDoubleLE=function(t,e,i){return j(this,t,e,!0,i)},t.prototype.writeDoubleBE=function(t,e,i){return j(this,t,e,!1,i)},t.prototype.copy=function(e,i,n,r){if(n||(n=0),r||0===r||(r=this.length),i>=e.length&&(i=e.length),i||(i=0),r>0&&n>r&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(0>i)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-i<r-n&&(r=e.length-i+n);var o,a=r-n;if(this===e&&i>n&&r>i)for(o=a-1;o>=0;o--)e[o+i]=this[o+n];else if(1e3>a||!t.TYPED_ARRAY_SUPPORT)for(o=0;a>o;o++)e[o+i]=this[o+n];else e._set(this.subarray(n,n+a),i);return a},t.prototype.fill=function(t,e,i){if(t||(t=0),e||(e=0),i||(i=this.length),e>i)throw new RangeError("end < start");if(i!==e&&0!==this.length){if(0>e||e>=this.length)throw new RangeError("start out of bounds");if(0>i||i>this.length)throw new RangeError("end out of bounds");var n;if("number"==typeof t)for(n=e;i>n;n++)this[n]=t;else{var r=Y(t.toString()),o=r.length;for(n=e;i>n;n++)this[n]=r[n%o]}return this}},t.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(t.TYPED_ARRAY_SUPPORT)return new t(this).buffer;for(var e=new Uint8Array(this.length),i=0,n=e.length;n>i;i+=1)e[i]=this[i];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var tt=t.prototype;t._augment=function(e){return e.constructor=t,e._isBuffer=!0,e._set=e.set,e.get=tt.get,e.set=tt.set,e.write=tt.write,e.toString=tt.toString,e.toLocaleString=tt.toString,e.toJSON=tt.toJSON,e.equals=tt.equals,e.compare=tt.compare,e.indexOf=tt.indexOf,e.copy=tt.copy,e.slice=tt.slice,e.readUIntLE=tt.readUIntLE,e.readUIntBE=tt.readUIntBE,e.readUInt8=tt.readUInt8,e.readUInt16LE=tt.readUInt16LE,e.readUInt16BE=tt.readUInt16BE,e.readUInt32LE=tt.readUInt32LE,e.readUInt32BE=tt.readUInt32BE,e.readIntLE=tt.readIntLE,e.readIntBE=tt.readIntBE,e.readInt8=tt.readInt8,e.readInt16LE=tt.readInt16LE,e.readInt16BE=tt.readInt16BE,e.readInt32LE=tt.readInt32LE,e.readInt32BE=tt.readInt32BE,e.readFloatLE=tt.readFloatLE,e.readFloatBE=tt.readFloatBE,e.readDoubleLE=tt.readDoubleLE,e.readDoubleBE=tt.readDoubleBE,e.writeUInt8=tt.writeUInt8,e.writeUIntLE=tt.writeUIntLE,e.writeUIntBE=tt.writeUIntBE,e.writeUInt16LE=tt.writeUInt16LE,e.writeUInt16BE=tt.writeUInt16BE,e.writeUInt32LE=tt.writeUInt32LE,e.writeUInt32BE=tt.writeUInt32BE,e.writeIntLE=tt.writeIntLE,e.writeIntBE=tt.writeIntBE,e.writeInt8=tt.writeInt8,e.writeInt16LE=tt.writeInt16LE,e.writeInt16BE=tt.writeInt16BE,e.writeInt32LE=tt.writeInt32LE,e.writeInt32BE=tt.writeInt32BE,e.writeFloatLE=tt.writeFloatLE,e.writeFloatBE=tt.writeFloatBE,e.writeDoubleLE=tt.writeDoubleLE,e.writeDoubleBE=tt.writeDoubleBE,e.fill=tt.fill,e.inspect=tt.inspect,e.toArrayBuffer=tt.toArrayBuffer,e};var et=/[^+\/0-9A-Za-z-_]/g}).call(e,i(40).Buffer,function(){return this}(),i(6))},function(t,e){function i(t){return t=Math.round(t),0>t?0:t>255?255:t}function n(t){return 0>t?0:t>1?1:t}function r(t){return i("%"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function o(t){return n("%"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))}function a(t,e,i){return 0>i?i+=1:i>1&&(i-=1),1>6*i?t+(e-t)*i*6:1>2*i?e:2>3*i?t+(e-t)*(2/3-i)*6:t}function s(t){var e=t.replace(/ /g,"").toLowerCase();if(e in u)return u[e].slice();if("#"===e[0]){if(4===e.length){var n=parseInt(e.substr(1),16);return n>=0&&4095>=n?[(3840&n)>>4|(3840&n)>>8,240&n|(240&n)>>4,15&n|(15&n)<<4,1]:null}if(7===e.length){var n=parseInt(e.substr(1),16);return n>=0&&16777215>=n?[(16711680&n)>>16,(65280&n)>>8,255&n,1]:null}return null}var s=e.indexOf("("),l=e.indexOf(")");if(-1!==s&&l+1===e.length){var h=e.substr(0,s),c=e.substr(s+1,l-(s+1)).split(","),f=1;switch(h){case"rgba":if(4!==c.length)return null;f=o(c.pop());case"rgb":return 3!==c.length?null:[r(c[0]),r(c[1]),r(c[2]),f];case"hsla":if(4!==c.length)return null;f=o(c.pop());case"hsl":if(3!==c.length)return null;var d=(parseFloat(c[0])%360+360)%360/360,p=o(c[1]),m=o(c[2]),v=.5>=m?m*(p+1):m+p-m*p,g=2*m-v;return[i(255*a(g,v,d+1/3)),i(255*a(g,v,d)),i(255*a(g,v,d-1/3)),f];default:return null}}return null}var u={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{e.parseCSSColor=s}catch(l){}},function(t,e){"use strict";function i(t,e,i,o,a,s,u,l){if(i/=e,o/=e,u>=i&&o>=l)return t;if(u>o||i>l)return null;for(var h=[],c=0;c<t.length;c++){var f,d,p=t[c],m=p.geometry,v=p.type;if(f=p.min[a],d=p.max[a],f>=i&&o>=d)h.push(p);else if(!(f>o||i>d)){var g=1===v?n(m,i,o,a):r(m,i,o,a,s,3===v);g.length&&h.push({geometry:g,type:v,tags:t[c].tags||null,min:p.min,max:p.max})}}return h.length?h:null}function n(t,e,i,n){for(var r=[],o=0;o<t.length;o++){var a=t[o],s=a[n];s>=e&&i>=s&&r.push(a)}return r}function r(t,e,i,n,r,a){for(var s=[],u=0;u<t.length;u++){var l,h,c,f=0,d=0,p=null,m=t[u],v=m.area,g=m.dist,y=m.length,_=[];for(h=0;y-1>h;h++)l=p||m[h],p=m[h+1],f=d||l[n],d=p[n],e>f?d>i?(_.push(r(l,p,e),r(l,p,i)),a||(_=o(s,_,v,g))):d>=e&&_.push(r(l,p,e)):f>i?e>d?(_.push(r(l,p,i),r(l,p,e)),a||(_=o(s,_,v,g))):i>=d&&_.push(r(l,p,i)):(_.push(l),e>d?(_.push(r(l,p,e)),a||(_=o(s,_,v,g))):d>i&&(_.push(r(l,p,i)),a||(_=o(s,_,v,g))));l=m[y-1],f=l[n],f>=e&&i>=f&&_.push(l),c=_[_.length-1],a&&c&&(_[0][0]!==c[0]||_[0][1]!==c[1])&&_.push(_[0]),o(s,_,v,g)}return s}function o(t,e,i,n){return e.length&&(e.area=i,e.dist=n,t.push(e)),[]}t.exports=i},function(t,e,i){var n=i(10),r={};r.create=function(){var t=new n.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},r.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},r.clone=function(t){var e=new n.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},r.fromValues=function(t,e,i,r,o,a,s,u,l){var h=new n.ARRAY_TYPE(9);return h[0]=t,h[1]=e,h[2]=i,h[3]=r,h[4]=o,h[5]=a,h[6]=s,h[7]=u,h[8]=l,h},r.set=function(t,e,i,n,r,o,a,s,u,l){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=l,t},r.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},r.transpose=function(t,e){if(t===e){var i=e[1],n=e[2],r=e[5];t[1]=e[3],t[2]=e[6],t[3]=i,t[5]=e[7],t[6]=n,t[7]=r}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},r.invert=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],h=e[8],c=h*a-s*l,f=-h*o+s*u,d=l*o-a*u,p=i*c+n*f+r*d;return p?(p=1/p,t[0]=c*p,t[1]=(-h*n+r*l)*p,t[2]=(s*n-r*a)*p,t[3]=f*p,t[4]=(h*i-r*u)*p,t[5]=(-s*i+r*o)*p,t[6]=d*p,t[7]=(-l*i+n*u)*p,t[8]=(a*i-n*o)*p,t):null},r.adjoint=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],h=e[8];return t[0]=a*h-s*l,t[1]=r*l-n*h,t[2]=n*s-r*a,t[3]=s*u-o*h,t[4]=i*h-r*u,t[5]=r*o-i*s,t[6]=o*l-a*u,t[7]=n*u-i*l,t[8]=i*a-n*o,t},r.determinant=function(t){var e=t[0],i=t[1],n=t[2],r=t[3],o=t[4],a=t[5],s=t[6],u=t[7],l=t[8];return e*(l*o-a*u)+i*(-l*r+a*s)+n*(u*r-o*s)},r.multiply=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],h=e[7],c=e[8],f=i[0],d=i[1],p=i[2],m=i[3],v=i[4],g=i[5],y=i[6],_=i[7],x=i[8];return t[0]=f*n+d*a+p*l,t[1]=f*r+d*s+p*h,t[2]=f*o+d*u+p*c,t[3]=m*n+v*a+g*l,t[4]=m*r+v*s+g*h,t[5]=m*o+v*u+g*c,t[6]=y*n+_*a+x*l,t[7]=y*r+_*s+x*h,t[8]=y*o+_*u+x*c,t},r.mul=r.multiply,r.translate=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],h=e[7],c=e[8],f=i[0],d=i[1];return t[0]=n,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=f*n+d*a+l,t[7]=f*r+d*s+h,t[8]=f*o+d*u+c,t},r.rotate=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],h=e[7],c=e[8],f=Math.sin(i),d=Math.cos(i);return t[0]=d*n+f*a,t[1]=d*r+f*s,t[2]=d*o+f*u,t[3]=d*a-f*n,t[4]=d*s-f*r,t[5]=d*u-f*o,t[6]=l,t[7]=h,t[8]=c,t},r.scale=function(t,e,i){var n=i[0],r=i[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},r.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},r.fromRotation=function(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=0,t[3]=-i,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},r.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},r.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},r.fromQuat=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=i+i,s=n+n,u=r+r,l=i*a,h=n*a,c=n*s,f=r*a,d=r*s,p=r*u,m=o*a,v=o*s,g=o*u;return t[0]=1-c-p,t[3]=h-g,t[6]=f+v,t[1]=h+g,t[4]=1-l-p,t[7]=d-m,t[2]=f-v,t[5]=d+m,t[8]=1-l-c,t},r.normalFromMat4=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],h=e[8],c=e[9],f=e[10],d=e[11],p=e[12],m=e[13],v=e[14],g=e[15],y=i*s-n*a,_=i*u-r*a,x=i*l-o*a,b=n*u-r*s,w=n*l-o*s,M=r*l-o*u,S=h*m-c*p,E=h*v-f*p,T=h*g-d*p,I=c*v-f*m,A=c*g-d*m,D=f*g-d*v,z=y*D-_*A+x*I+b*T-w*E+M*S;return z?(z=1/z,t[0]=(s*D-u*A+l*I)*z,t[1]=(u*T-a*D-l*E)*z,t[2]=(a*A-s*T+l*S)*z,t[3]=(r*A-n*D-o*I)*z,t[4]=(i*D-r*T+o*E)*z,t[5]=(n*T-i*A-o*S)*z,t[6]=(m*M-v*w+g*b)*z,t[7]=(v*x-p*M-g*_)*z,t[8]=(p*w-m*x+g*y)*z,t):null},r.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},r.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t[6]=e[6]+i[6],t[7]=e[7]+i[7],t[8]=e[8]+i[8],t},r.subtract=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t[6]=e[6]-i[6],t[7]=e[7]-i[7],t[8]=e[8]-i[8],t},r.sub=r.subtract,r.multiplyScalar=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*i,t},r.multiplyScalarAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t[3]=e[3]+i[3]*n,t[4]=e[4]+i[4]*n,t[5]=e[5]+i[5]*n,t[6]=e[6]+i[6]*n,t[7]=e[7]+i[7]*n,t[8]=e[8]+i[8]*n,t},r.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},r.equals=function(t,e){var i=t[0],r=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],h=t[7],c=t[8],f=e[0],d=e[1],p=e[2],m=e[3],v=e[4],g=e[5],y=t[6],_=e[7],x=e[8];return Math.abs(i-f)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(r-d)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(o-p)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-m)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(s-v)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-g)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(l-y)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(y))&&Math.abs(h-_)<=n.EPSILON*Math.max(1,Math.abs(h),Math.abs(_))&&Math.abs(c-x)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(x))},t.exports=r},function(t,e,i){var n=i(10),r={};r.create=function(){var t=new n.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},r.clone=function(t){var e=new n.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},r.fromValues=function(t,e,i){var r=new n.ARRAY_TYPE(3);return r[0]=t,r[1]=e,r[2]=i,r},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},r.set=function(t,e,i,n){return t[0]=e,t[1]=i,t[2]=n,t},r.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t},r.subtract=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t},r.sub=r.subtract,r.multiply=function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t},r.mul=r.multiply,r.divide=function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t},r.div=r.divide,r.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},r.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},r.min=function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t},r.max=function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t},r.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},r.scale=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t},r.scaleAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t},r.distance=function(t,e){var i=e[0]-t[0],n=e[1]-t[1],r=e[2]-t[2];
return Math.sqrt(i*i+n*n+r*r)},r.dist=r.distance,r.squaredDistance=function(t,e){var i=e[0]-t[0],n=e[1]-t[1],r=e[2]-t[2];return i*i+n*n+r*r},r.sqrDist=r.squaredDistance,r.length=function(t){var e=t[0],i=t[1],n=t[2];return Math.sqrt(e*e+i*i+n*n)},r.len=r.length,r.squaredLength=function(t){var e=t[0],i=t[1],n=t[2];return e*e+i*i+n*n},r.sqrLen=r.squaredLength,r.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},r.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},r.normalize=function(t,e){var i=e[0],n=e[1],r=e[2],o=i*i+n*n+r*r;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t},r.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},r.cross=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=i[0],s=i[1],u=i[2];return t[0]=r*u-o*s,t[1]=o*a-n*u,t[2]=n*s-r*a,t},r.lerp=function(t,e,i,n){var r=e[0],o=e[1],a=e[2];return t[0]=r+n*(i[0]-r),t[1]=o+n*(i[1]-o),t[2]=a+n*(i[2]-a),t},r.hermite=function(t,e,i,n,r,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,l=a*(o-1),h=a*(3-2*o);return t[0]=e[0]*s+i[0]*u+n[0]*l+r[0]*h,t[1]=e[1]*s+i[1]*u+n[1]*l+r[1]*h,t[2]=e[2]*s+i[2]*u+n[2]*l+r[2]*h,t},r.bezier=function(t,e,i,n,r,o){var a=1-o,s=a*a,u=o*o,l=s*a,h=3*o*s,c=3*u*a,f=u*o;return t[0]=e[0]*l+i[0]*h+n[0]*c+r[0]*f,t[1]=e[1]*l+i[1]*h+n[1]*c+r[1]*f,t[2]=e[2]*l+i[2]*h+n[2]*c+r[2]*f,t},r.random=function(t,e){e=e||1;var i=2*n.RANDOM()*Math.PI,r=2*n.RANDOM()-1,o=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(i)*o,t[1]=Math.sin(i)*o,t[2]=r*e,t},r.transformMat4=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=i[3]*n+i[7]*r+i[11]*o+i[15];return a=a||1,t[0]=(i[0]*n+i[4]*r+i[8]*o+i[12])/a,t[1]=(i[1]*n+i[5]*r+i[9]*o+i[13])/a,t[2]=(i[2]*n+i[6]*r+i[10]*o+i[14])/a,t},r.transformMat3=function(t,e,i){var n=e[0],r=e[1],o=e[2];return t[0]=n*i[0]+r*i[3]+o*i[6],t[1]=n*i[1]+r*i[4]+o*i[7],t[2]=n*i[2]+r*i[5]+o*i[8],t},r.transformQuat=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=i[0],s=i[1],u=i[2],l=i[3],h=l*n+s*o-u*r,c=l*r+u*n-a*o,f=l*o+a*r-s*n,d=-a*n-s*r-u*o;return t[0]=h*l+d*-a+c*-u-f*-s,t[1]=c*l+d*-s+f*-a-h*-u,t[2]=f*l+d*-u+h*-s-c*-a,t},r.rotateX=function(t,e,i,n){var r=[],o=[];return r[0]=e[0]-i[0],r[1]=e[1]-i[1],r[2]=e[2]-i[2],o[0]=r[0],o[1]=r[1]*Math.cos(n)-r[2]*Math.sin(n),o[2]=r[1]*Math.sin(n)+r[2]*Math.cos(n),t[0]=o[0]+i[0],t[1]=o[1]+i[1],t[2]=o[2]+i[2],t},r.rotateY=function(t,e,i,n){var r=[],o=[];return r[0]=e[0]-i[0],r[1]=e[1]-i[1],r[2]=e[2]-i[2],o[0]=r[2]*Math.sin(n)+r[0]*Math.cos(n),o[1]=r[1],o[2]=r[2]*Math.cos(n)-r[0]*Math.sin(n),t[0]=o[0]+i[0],t[1]=o[1]+i[1],t[2]=o[2]+i[2],t},r.rotateZ=function(t,e,i,n){var r=[],o=[];return r[0]=e[0]-i[0],r[1]=e[1]-i[1],r[2]=e[2]-i[2],o[0]=r[0]*Math.cos(n)-r[1]*Math.sin(n),o[1]=r[0]*Math.sin(n)+r[1]*Math.cos(n),o[2]=r[2],t[0]=o[0]+i[0],t[1]=o[1]+i[1],t[2]=o[2]+i[2],t},r.forEach=function(){var t=r.create();return function(e,i,n,r,o,a){var s,u;for(i||(i=3),n||(n=0),u=r?Math.min(r*i+n,e.length):e.length,s=n;u>s;s+=i)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}(),r.angle=function(t,e){var i=r.fromValues(t[0],t[1],t[2]),n=r.fromValues(e[0],e[1],e[2]);r.normalize(i,i),r.normalize(n,n);var o=r.dot(i,n);return o>1?0:Math.acos(o)},r.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},r.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},r.equals=function(t,e){var i=t[0],r=t[1],o=t[2],a=e[0],s=e[1],u=e[2];return Math.abs(i-a)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(r-s)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(o-u)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))},t.exports=r},function(t,e,i){var n=i(10),r={};r.create=function(){var t=new n.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},r.clone=function(t){var e=new n.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},r.fromValues=function(t,e,i,r){var o=new n.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=i,o[3]=r,o},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},r.set=function(t,e,i,n,r){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t},r.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t},r.subtract=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t},r.sub=r.subtract,r.multiply=function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t[3]=e[3]*i[3],t},r.mul=r.multiply,r.divide=function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t[3]=e[3]/i[3],t},r.div=r.divide,r.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},r.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},r.min=function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t[3]=Math.min(e[3],i[3]),t},r.max=function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t[3]=Math.max(e[3],i[3]),t},r.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},r.scale=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t},r.scaleAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t[3]=e[3]+i[3]*n,t},r.distance=function(t,e){var i=e[0]-t[0],n=e[1]-t[1],r=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(i*i+n*n+r*r+o*o)},r.dist=r.distance,r.squaredDistance=function(t,e){var i=e[0]-t[0],n=e[1]-t[1],r=e[2]-t[2],o=e[3]-t[3];return i*i+n*n+r*r+o*o},r.sqrDist=r.squaredDistance,r.length=function(t){var e=t[0],i=t[1],n=t[2],r=t[3];return Math.sqrt(e*e+i*i+n*n+r*r)},r.len=r.length,r.squaredLength=function(t){var e=t[0],i=t[1],n=t[2],r=t[3];return e*e+i*i+n*n+r*r},r.sqrLen=r.squaredLength,r.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},r.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},r.normalize=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=i*i+n*n+r*r+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=i*a,t[1]=n*a,t[2]=r*a,t[3]=o*a),t},r.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},r.lerp=function(t,e,i,n){var r=e[0],o=e[1],a=e[2],s=e[3];return t[0]=r+n*(i[0]-r),t[1]=o+n*(i[1]-o),t[2]=a+n*(i[2]-a),t[3]=s+n*(i[3]-s),t},r.random=function(t,e){return e=e||1,t[0]=n.RANDOM(),t[1]=n.RANDOM(),t[2]=n.RANDOM(),t[3]=n.RANDOM(),r.normalize(t,t),r.scale(t,t,e),t},r.transformMat4=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3];return t[0]=i[0]*n+i[4]*r+i[8]*o+i[12]*a,t[1]=i[1]*n+i[5]*r+i[9]*o+i[13]*a,t[2]=i[2]*n+i[6]*r+i[10]*o+i[14]*a,t[3]=i[3]*n+i[7]*r+i[11]*o+i[15]*a,t},r.transformQuat=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=i[0],s=i[1],u=i[2],l=i[3],h=l*n+s*o-u*r,c=l*r+u*n-a*o,f=l*o+a*r-s*n,d=-a*n-s*r-u*o;return t[0]=h*l+d*-a+c*-u-f*-s,t[1]=c*l+d*-s+f*-a-h*-u,t[2]=f*l+d*-u+h*-s-c*-a,t[3]=e[3],t},r.forEach=function(){var t=r.create();return function(e,i,n,r,o,a){var s,u;for(i||(i=4),n||(n=0),u=r?Math.min(r*i+n,e.length):e.length,s=n;u>s;s+=i)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}(),r.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},r.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},r.equals=function(t,e){var i=t[0],r=t[1],o=t[2],a=t[3],s=e[0],u=e[1],l=e[2],h=e[3];return Math.abs(i-s)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(r-u)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(o-l)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(a-h)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))},t.exports=r},function(t,e){e.read=function(t,e,i,n,r){var o,a,s=8*r-n-1,u=(1<<s)-1,l=u>>1,h=-7,c=i?r-1:0,f=i?-1:1,d=t[e+c];for(c+=f,o=d&(1<<-h)-1,d>>=-h,h+=s;h>0;o=256*o+t[e+c],c+=f,h-=8);for(a=o&(1<<-h)-1,o>>=-h,h+=n;h>0;a=256*a+t[e+c],c+=f,h-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:(d?-1:1)*(1/0);a+=Math.pow(2,n),o-=l}return(d?-1:1)*a*Math.pow(2,o-n)},e.write=function(t,e,i,n,r,o){var a,s,u,l=8*o-r-1,h=(1<<l)-1,c=h>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,m=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=h):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+c>=1?f/u:f*Math.pow(2,1-c),e*u>=2&&(a++,u/=2),a+c>=h?(s=0,a=h):a+c>=1?(s=(e*u-1)*Math.pow(2,r),a+=c):(s=e*Math.pow(2,c-1)*Math.pow(2,r),a=0));r>=8;t[i+d]=255&s,d+=p,s/=256,r-=8);for(a=a<<r|s,l+=r;l>0;t[i+d]=255&a,d+=p,a/=256,l-=8);t[i+d-p]|=128*m}},function(t,e){"use strict";t.exports=function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]=i[n]}return t}},function(t,e,i){"use strict";var n=i(8),r=i(14),o=i(4);t.exports=function(t){var e=t.value,i=t.valueSpec,a=t.style,s=t.styleSpec,u=t.key,l=t.arrayElementValidator||r;if("array"!==n(e))return[new o(u,e,"array expected, %s found",n(e))];if(i.length&&e.length!==i.length)return[new o(u,e,"array length %d expected, length %d found",i.length,e.length)];if(i["min-length"]&&e.length<i["min-length"])return[new o(u,e,"array length at least %d expected, length %d found",i["min-length"],e.length)];var h={type:i.value};s.$version<7&&(h["function"]=i["function"]),"object"===n(i.value)&&(h=i.value);for(var c=[],f=0;f<e.length;f++)c=c.concat(l({array:e,arrayIndex:f,value:e[f],valueSpec:h,style:a,styleSpec:s,key:u+"["+f+"]"}));return c}},function(t,e,i){"use strict";var n=i(4),r=i(8);t.exports=function(t){var e=t.key,i=t.value,o=t.styleSpec;if(o.$version>7)return i?[new n(e,i,"constants have been deprecated as of v8")]:[];var a=r(i);if("object"!==a)return[new n(e,i,"object expected, %s found",a)];var s=[];for(var u in i)"@"!==u[0]&&s.push(new n(e+"."+u,i[u],'constants must start with "@"'));return s}},function(t,e,i){"use strict";var n=i(4),r=i(8),o=i(14),a=i(17),s=i(48);t.exports=function(t){function e(t){var e=[],o=t.value;return e=e.concat(s({key:t.key,value:o,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:i})),"array"===r(o)&&0===o.length&&e.push(new n(t.key,o,"array must have at least one stop")),e}function i(t){var e=[],i=t.value,a=t.key;return"array"!==r(i)?[new n(a,i,"array expected, %s found",r(i))]:2!==i.length?[new n(a,i,"array length %d expected, length %d found",2,i.length)]:(e=e.concat(o({key:a+"[0]",value:i[0],valueSpec:{type:"number"},style:t.style,styleSpec:t.styleSpec})),e=e.concat(o({key:a+"[1]",value:i[1],valueSpec:u,style:t.style,styleSpec:t.styleSpec})),"number"===r(i[0])&&("piecewise-constant"===u["function"]&&i[0]%1!==0&&e.push(new n(a+"[0]",i[0],"zoom level for piecewise-constant functions must be an integer")),0!==t.arrayIndex&&i[0]<t.array[t.arrayIndex-1][0]&&e.push(new n(a+"[0]",i[0],"array stops must appear in ascending order"))),e)}var u=t.valueSpec;return a({key:t.key,value:t.value,valueSpec:t.styleSpec["function"],style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:e}})}},function(t,e,i){"use strict";var n=i(4),r=i(20),o=i(17),a=i(27),s=i(53),u=i(52),l=i(47);t.exports=function(t){var e=[],i=t.value,h=t.key,c=t.style,f=t.styleSpec;i.type||i.ref||e.push(new n(h,i,'either "type" or "ref" is required'));var d=r(i.type),p=r(i.ref);if(i.id)for(var m=0;m<t.arrayIndex;m++){var v=c.layers[m];r(v.id)===r(i.id)&&e.push(new n(h,i.id,'duplicate layer id "%s", previously used at line %d',i.id,v.id.__line__))}if("ref"in i){["type","source","source-layer","filter","layout"].forEach(function(t){t in i&&e.push(new n(h,i[t],'"%s" is prohibited for ref layers',t))});var g;c.layers.forEach(function(t){t.id==p&&(g=t)}),g?g.ref?e.push(new n(h,i.ref,"ref cannot reference another ref layer")):d=r(g.type):e.push(new n(h,i.ref,'ref layer "%s" not found',p))}else if("background"!==d)if(i.source){var y=c.sources[i.source];y?"vector"==y.type&&"raster"==d?e.push(new n(h,i.source,'layer "%s" requires a raster source',i.id)):"raster"==y.type&&"raster"!=d?e.push(new n(h,i.source,'layer "%s" requires a vector source',i.id)):"vector"!=y.type||i["source-layer"]||e.push(new n(h,i,'layer "%s" must specify a "source-layer"',i.id)):e.push(new n(h,i.source,'source "%s" not found',i.source))}else e.push(new n(h,i,'missing required property "source"'));return e=e.concat(o({key:h,value:i,valueSpec:f.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{filter:a,layout:function(t){return o({layer:i,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return u(l({layerType:d},t))}}})},paint:function(t){return o({layer:i,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return s(l({layerType:d},t))}}})}}}))}},function(t,e,i){"use strict";var n=i(14),r=i(4);t.exports=function(t){var e=t.key,i=t.style,o=t.styleSpec,a=t.value,s=t.objectKey,u=o["layout_"+t.layerType];return t.valueSpec||u[s]?n({key:t.key,value:a,valueSpec:t.valueSpec||u[s],style:i,styleSpec:o}):[new r(e,a,'unknown property "%s"',s)]}},function(t,e,i){"use strict";var n=i(14),r=i(4);t.exports=function(t){var e=t.key,i=t.style,o=t.styleSpec,a=t.value,s=t.objectKey,u=o["paint_"+t.layerType],l=s.match(/^(.*)-transition$/);return l&&u[l[1]]&&u[l[1]].transition?n({key:e,value:a,valueSpec:o.transition,style:i,styleSpec:o}):t.valueSpec||u[s]?n({key:t.key,value:a,valueSpec:t.valueSpec||u[s],style:i,styleSpec:o}):[new r(e,a,'unknown property "%s"',s)]}},function(t,e,i){"use strict";var n=i(4),r=i(20),o=i(17),a=i(26);t.exports=function(t){var e=t.value,i=t.key,s=t.styleSpec,u=t.style;if(!e.type)return[new n(i,e,'"type" is required')];var l=r(e.type);switch(l){case"vector":case"raster":var h=[];if(h=h.concat(o({key:i,value:e,valueSpec:s.source_tile,style:t.style,styleSpec:s})),"url"in e)for(var c in e)["type","url","tileSize"].indexOf(c)<0&&h.push(new n(i+"."+c,e[c],'a source with a "url" property may not include a "%s" property',c));return h;case"geojson":return o({key:i,value:e,valueSpec:s.source_geojson,style:u,styleSpec:s});case"video":return o({key:i,value:e,valueSpec:s.source_video,style:u,styleSpec:s});case"image":return o({key:i,value:e,valueSpec:s.source_image,style:u,styleSpec:s});default:return a({key:i+".type",value:e.type,valueSpec:{values:["vector","raster","geojson","video","image"]},style:u,styleSpec:s})}}},function(t,e,i){"use strict";function n(t){r.extend(this,r.pick(t,["url","tileSize"])),s._loadTileJSON.call(this,t)}var r=i(1),o=i(12),a=i(7),s=i(22),u=i(15).normalizeTileURL;t.exports=n,n.prototype=r.inherit(a,{minzoom:0,maxzoom:22,roundZoom:!0,tileSize:512,_loaded:!1,onAdd:function(t){this.map=t},loaded:function(){return this._pyramid&&this._pyramid.loaded()},update:function(t){this._pyramid&&this._pyramid.update(this.used,t,this.map.style.rasterFadeDuration)},reload:function(){},serialize:function(){return{type:"raster",url:this.url,tileSize:this.tileSize}},getVisibleCoordinates:s._getVisibleCoordinates,getTile:s._getTile,_loadTile:function(t){function e(e,i){if(delete t.request,!t.aborted){if(e)return t.errored=!0,void this.fire("tile.error",{tile:t,error:e});var n=this.map.painter.gl;t.texture=this.map.painter.getTexture(i.width),t.texture?(n.bindTexture(n.TEXTURE_2D,t.texture),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,i)):(t.texture=n.createTexture(),n.bindTexture(n.TEXTURE_2D,t.texture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR_MIPMAP_NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,i),t.texture.size=i.width),n.generateMipmap(n.TEXTURE_2D),t.timeAdded=(new Date).getTime(),this.map.animationLoop.set(this.style.rasterFadeDuration),t.source=this,t.loaded=!0,this.fire("tile.load",{tile:t})}}var i=u(t.coord.url(this.tiles),this.url,this.tileSize);t.request=o.getImage(i,e.bind(this))},_abortTile:function(t){t.aborted=!0,t.request&&(t.request.abort(),delete t.request)},_addTile:function(t){this.fire("tile.add",{tile:t})},_removeTile:function(t){this.fire("tile.remove",{tile:t})},_unloadTile:function(t){t.texture&&this.map.painter.saveTexture(t.texture)},featuresAt:function(t,e,i){i(null,[])},featuresIn:function(t,e,i){i(null,[])}})},function(t,e,i){"use strict";function n(t){if(r.extend(this,r.pick(t,["url","tileSize"])),this._options=r.extend({type:"vector"},t),512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");a._loadTileJSON.call(this,t)}var r=i(1),o=i(7),a=i(22),s=i(15).normalizeTileURL;t.exports=n,n.prototype=r.inherit(o,{minzoom:0,maxzoom:22,tileSize:512,reparseOverscaled:!0,_loaded:!1,isTileClipped:!0,onAdd:function(t){this.map=t},loaded:function(){return this._pyramid&&this._pyramid.loaded()},update:function(t){this._pyramid&&this._pyramid.update(this.used,t)},reload:function(){this._pyramid&&this._pyramid.reload()},serialize:function(){return r.extend({},this._options)},getVisibleCoordinates:a._getVisibleCoordinates,getTile:a._getTile,featuresAt:a._vectorFeaturesAt,featuresIn:a._vectorFeaturesIn,_loadTile:function(t){var e=t.coord.z>this.maxzoom?Math.pow(2,t.coord.z-this.maxzoom):1,i={url:s(t.coord.url(this.tiles,this.maxzoom),this.url),uid:t.uid,coord:t.coord,zoom:t.coord.z,tileSize:this.tileSize*e,source:this.id,overscaling:e,angle:this.map.transform.angle,pitch:this.map.transform.pitch,collisionDebug:this.map.collisionDebug};t.workerID?this.dispatcher.send("reload tile",i,this._tileLoaded.bind(this,t),t.workerID):t.workerID=this.dispatcher.send("load tile",i,this._tileLoaded.bind(this,t))},_tileLoaded:function(t,e,i){if(!t.aborted){if(e)return t.errored=!0,void this.fire("tile.error",{tile:t,error:e});t.loadVectorData(i),t.redoWhenDone&&(t.redoWhenDone=!1,t.redoPlacement(this)),this.fire("tile.load",{tile:t}),this.fire("tile.stats",i.bucketStats)}},_abortTile:function(t){t.aborted=!0,this.dispatcher.send("abort tile",{uid:t.uid,source:this.id},null,t.workerID)},_addTile:function(t){this.fire("tile.add",{tile:t})},_removeTile:function(t){this.fire("tile.remove",{tile:t})},_unloadTile:function(t){t.unloadVectorData(this.map.painter),this.dispatcher.send("remove tile",{uid:t.uid,source:this.id},null,t.workerID)},redoPlacement:a.redoPlacement,_redoTilePlacement:function(t){t.redoPlacement(this)}})},function(t,e){"use strict";function i(){this.n=0,this.times=[]}t.exports=i,i.prototype.stopped=function(){return this.times=this.times.filter(function(t){return t.time>=(new Date).getTime()}),!this.times.length},i.prototype.set=function(t){return this.times.push({id:this.n,time:t+(new Date).getTime()}),this.n++},i.prototype.cancel=function(t){this.times=this.times.filter(function(e){return e.id!==t})}},function(t,e,i){"use strict";function n(t){if(u[t])return u[t];if(Array.isArray(t))return t;if(t&&t.stops)return s.extend({},t,{stops:t.stops.map(r)});if("string"==typeof t){var e=a(t);if(!e)throw new Error("Invalid color "+t);var i=o(e);return u[t]=i,i}throw new Error("Invalid color "+t)}function r(t){return[t[0],n(t[1])]}function o(t){return[t[0]/255,t[1]/255,t[2]/255,t[3]/1]}var a=i(41).parseCSSColor,s=i(1),u={};t.exports=n},function(t,e,i){(function(e){"use strict";function n(t,e){this.animationLoop=e||new v,this.dispatcher=new m(Math.max(p.hardwareConcurrency-1,1),this),this.spriteAtlas=new l(512,512),this.lineAtlas=new h(256,512),this._layers={},this._order=[],this._groups=[],this.sources={},this.zoomHistory={},c.bindAll(["_forwardSourceEvent","_forwardTileEvent","_forwardLayerEvent","_redoPlacement"],this);var i=function(t,e){if(t)return void this.fire("error",{error:t});if(!g.emitErrors(this,g(e))){this._loaded=!0,this.stylesheet=e;var i=e.sources;for(var n in i)this.addSource(n,i[n]);e.sprite&&(this.sprite=new s(e.sprite),this.sprite.on("load",this.fire.bind(this,"change"))),this.glyphSource=new u(e.glyphs),this._resolve(),this.fire("load")}}.bind(this);"string"==typeof t?f.getJSON(d(t),i):p.frame(i.bind(this,null,t)),this.on("source.load",function(t){var e=t.source;if(e&&e.vectorLayerIds)for(var i in this._layers){var n=this._layers[i];n.source===e.id&&this._validateLayer(n)}})}var r=i(7),o=i(132),a=i(11),s=i(131),u=i(147),l=i(152),h=i(126),c=i(1),f=i(12),d=i(15).normalizeStyleURL,p=i(5),m=i(166),v=i(57),g=i(35);t.exports=n,n.prototype=c.inherit(r,{_loaded:!1,_validateLayer:function(t){var e=this.sources[t.source];t.sourceLayer&&e&&e.vectorLayerIds&&-1===e.vectorLayerIds.indexOf(t.sourceLayer)&&this.fire("error",{error:new Error('Source layer "'+t.sourceLayer+'" does not exist on source "'+e.id+'" as specified by style layer "'+t.id+'"')})},loaded:function(){if(!this._loaded)return!1;for(var t in this.sources)if(!this.sources[t].loaded())return!1;return!this.sprite||this.sprite.loaded()},_resolve:function(){var t,e;this._layers={},this._order=this.stylesheet.layers.map(function(t){return t.id});for(var i=0;i<this.stylesheet.layers.length;i++)e=this.stylesheet.layers[i],e.ref||(t=a.create(e),this._layers[t.id]=t,t.on("error",this._forwardLayerEvent));for(var n=0;n<this.stylesheet.layers.length;n++)if(e=this.stylesheet.layers[n],e.ref){var r=this.getLayer(e.ref);t=a.create(e,r),this._layers[t.id]=t,t.on("error",this._forwardLayerEvent)}this._groupLayers(),this._broadcastLayers()},_groupLayers:function(){var t;this._groups=[];for(var e=0;e<this._order.length;++e){var i=this._layers[this._order[e]];t&&i.source===t.source||(t=[],t.source=i.source,this._groups.push(t)),t.push(i)}},_broadcastLayers:function(t){this.dispatcher.broadcast(t?"update layers":"set layers",this._serializeLayers(t))},_serializeLayers:function(t){t=t||this._order;for(var e=[],i={includeRefProperties:!0},n=0;n<t.length;n++)e.push(this._layers[t[n]].serialize(i));return e},_cascade:function(t,e){if(this._loaded){e=e||{transition:!0};for(var i in this._layers)this._layers[i].cascade(t,e,this.stylesheet.transition||{},this.animationLoop);this.fire("change")}},_recalculate:function(t){for(var e in this.sources)this.sources[e].used=!1;this._updateZoomHistory(t),this.rasterFadeDuration=300;for(var i in this._layers){var n=this._layers[i];n.recalculate(t,this.zoomHistory),!n.isHidden(t)&&n.source&&(this.sources[n.source].used=!0)}var r=300;Math.floor(this.z)!==Math.floor(t)&&this.animationLoop.set(r),this.z=t,this.fire("zoom")},_updateZoomHistory:function(t){var e=this.zoomHistory;void 0===e.lastIntegerZoom&&(e.lastIntegerZoom=Math.floor(t),e.lastIntegerZoomTime=0,e.lastZoom=t),Math.floor(e.lastZoom)<Math.floor(t)?(e.lastIntegerZoom=Math.floor(t),e.lastIntegerZoomTime=Date.now()):Math.floor(e.lastZoom)>Math.floor(t)&&(e.lastIntegerZoom=Math.floor(t+1),e.lastIntegerZoomTime=Date.now()),e.lastZoom=t},batch:function(t){o(this,t)},addSource:function(t,e){return this.batch(function(i){i.addSource(t,e)}),this},removeSource:function(t){return this.batch(function(e){e.removeSource(t)}),this},getSource:function(t){return this.sources[t]},addLayer:function(t,e){return this.batch(function(i){i.addLayer(t,e)}),this},removeLayer:function(t){return this.batch(function(e){e.removeLayer(t)}),this},getLayer:function(t){return this._layers[t]},getReferentLayer:function(t){var e=this.getLayer(t);return e.ref&&(e=this.getLayer(e.ref)),e},setFilter:function(t,e){return this.batch(function(i){i.setFilter(t,e)}),this},setLayerZoomRange:function(t,e,i){return this.batch(function(n){n.setLayerZoomRange(t,e,i)}),this},getFilter:function(t){return this.getReferentLayer(t).filter},getLayoutProperty:function(t,e){return this.getReferentLayer(t).getLayoutProperty(e)},getPaintProperty:function(t,e,i){return this.getLayer(t).getPaintProperty(e,i)},serialize:function(){return c.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:c.mapObject(this.sources,function(t){return t.serialize()}),layers:this._order.map(function(t){return this._layers[t].serialize()},this)},function(t){return void 0!==t})},featuresAt:function(t,e,i){this._queryFeatures("featuresAt",t,e,i)},featuresIn:function(t,e,i){this._queryFeatures("featuresIn",t,e,i)},_queryFeatures:function(t,e,i,n){var r=[],o=null;i.layer&&(i.layerIds=Array.isArray(i.layer)?i.layer:[i.layer]),c.asyncAll(Object.keys(this.sources),function(n,a){var s=this.sources[n];s[t](e,i,function(t,e){e&&(r=r.concat(e)),t&&(o=t),a()})}.bind(this),function(){return o?n(o):void n(null,r.filter(function(t){return void 0!==this._layers[t.layer]}.bind(this)).map(function(t){return t.layer=this._layers[t.layer].serialize({includeRefProperties:!0}),t}.bind(this)))}.bind(this))},_remove:function(){this.dispatcher.remove()},_reloadSource:function(t){this.sources[t].reload()},_updateSources:function(t){for(var e in this.sources)this.sources[e].update(t)},_redoPlacement:function(){for(var t in this.sources)this.sources[t].redoPlacement&&this.sources[t].redoPlacement()},_forwardSourceEvent:function(t){this.fire("source."+t.type,c.extend({source:t.target},t))},_forwardTileEvent:function(t){this.fire(t.type,c.extend({source:t.target},t))},_forwardLayerEvent:function(t){this.fire("layer."+t.type,c.extend({layer:{id:t.target.id}},t))},"get sprite json":function(t,e){var i=this.sprite;i.loaded()?e(null,{sprite:i.data,retina:i.retina}):i.on("load",function(){e(null,{sprite:i.data,retina:i.retina})})},"get icons":function(t,e){var i=this.sprite,n=this.spriteAtlas;i.loaded()?(n.setSprite(i),n.addIcons(t.icons,e)):i.on("load",function(){n.setSprite(i),n.addIcons(t.icons,e)})},"get glyphs":function(t,i){function n(t,n,r){t&&e.error(t),a[r]=n,o--,0===o&&i(null,a)}var r=t.stacks,o=Object.keys(r).length,a={};for(var s in r)this.glyphSource.getSimpleGlyphs(s,r[s],t.uid,n)}})}).call(e,i(6))},function(t,e,i){"use strict";t.exports=i(105)},function(t,e,i){"use strict";function n(t,e,i,n){this.x=t,this.y=e,this.angle=i,void 0!==n&&(this.segment=n)}var r=i(2);t.exports=n,n.prototype=Object.create(r.prototype),n.prototype.clone=function(){return new n(this.x,this.y,this.angle,this.segment)}},function(t,e){"use strict";function i(t,e,i,n,r,o){this.anchorPoint=t,this.x1=e,this.y1=i,this.x2=n,this.y2=r,this.maxScale=o,this.placementScale=0,this[0]=this[1]=this[2]=this[3]=0}t.exports=i},function(t,e,i){"use strict";function n(t){a.setOptions(this,t)}var r=i(36),o=i(9),a=i(1);t.exports=n,n.prototype=a.inherit(r,{options:{position:"bottom-right"},onAdd:function(t){var e="mapboxgl-ctrl-attrib",i=this._container=o.create("div",e,t.getContainer());return this._update(),t.on("source.load",this._update.bind(this)),t.on("source.change",this._update.bind(this)),t.on("source.remove",this._update.bind(this)),t.on("moveend",this._updateEditLink.bind(this)),i},_update:function(){var t=[];if(this._map.style)for(var e in this._map.style.sources){var i=this._map.style.sources[e];i.attribution&&t.indexOf(i.attribution)<0&&t.push(i.attribution)}this._container.innerHTML=t.join(" | "),this._editLink=this._container.getElementsByClassName("mapbox-improve-map")[0],this._updateEditLink()},_updateEditLink:function(){if(this._editLink){var t=this._map.getCenter();this._editLink.href="https://www.mapbox.com/map-feedback/#/"+t.lng+"/"+t.lat+"/"+Math.round(this._map.getZoom()+1)}}})},function(t,e){"use strict";function i(t,e){this.target=t,this.parent=e,this.callbacks={},this.callbackID=0,this.receive=this.receive.bind(this),this.target.addEventListener("message",this.receive,!1)}t.exports=i,i.prototype.receive=function(t){var e,i=t.data;if("<response>"===i.type)e=this.callbacks[i.id],delete this.callbacks[i.id],e(i.error||null,i.data);else if("undefined"!=typeof i.id){var n=i.id;this.parent[i.type](i.data,function(t,e,i){this.postMessage({type:"<response>",id:String(n),error:t?String(t):null,data:e},i)}.bind(this))}else this.parent[i.type](i.data)},i.prototype.send=function(t,e,i,n){var r=null;i&&(this.callbacks[r=this.callbackID++]=i),this.postMessage({type:t,id:String(r),data:e},n)},i.prototype.postMessage=function(t,e){try{this.target.postMessage(t,e)}catch(i){this.target.postMessage(t)}}},function(t,e,i){"use strict";function n(t,e){this.canvas=document.createElement("canvas"),t&&e&&(this.canvas.style.position="absolute",this.canvas.classList.add("mapboxgl-canvas"),this.canvas.addEventListener("webglcontextlost",t._contextLost.bind(t),!1),this.canvas.addEventListener("webglcontextrestored",t._contextRestored.bind(t),!1),this.canvas.setAttribute("tabindex",0),e.appendChild(this.canvas))}var r=i(1);t.exports=n,n.prototype.resize=function(t,e){var i=window.devicePixelRatio||1;this.canvas.width=i*t,this.canvas.height=i*e,this.canvas.style.width=t+"px",this.canvas.style.height=e+"px"};var o={antialias:!1,alpha:!0,stencil:!0,depth:!0};n.prototype.getWebGLContext=function(t){return t=r.extend({},t,o),this.canvas.getContext("webgl",t)||this.canvas.getContext("experimental-webgl",t)},n.prototype.supportsWebGLContext=function(t){var e=r.extend({failIfMajorPerformanceCaveat:t},o);return"probablySupportsContext"in this.canvas?this.canvas.probablySupportsContext("webgl",e)||this.canvas.probablySupportsContext("experimental-webgl",e):"supportsContext"in this.canvas?this.canvas.supportsContext("webgl",e)||this.canvas.supportsContext("experimental-webgl",e):!!window.WebGLRenderingContext&&!!this.getWebGLContext(t)},n.prototype.getElement=function(){return this.canvas}},function(t,e){"use strict";t.exports={API_URL:"https://api.mapbox.com",REQUIRE_ACCESS_TOKEN:!0}},function(t,e){"use strict";function i(t,e){return e.replace(/{([^{}()\[\]<>$=:;.,^]+)}/g,function(e,i){return i in t?t[i]:""})}t.exports=i},function(t,e,i){(function(e){"use strict";function n(t){this.buf=d.isBuffer(t)?t:new d(t||0),this.pos=0,this.length=this.buf.length}function r(t,e){for(var i=0;i<t.length;i++)e.writeVarint(t[i])}function o(t,e){for(var i=0;i<t.length;i++)e.writeSVarint(t[i])}function a(t,e){for(var i=0;i<t.length;i++)e.writeFloat(t[i])}function s(t,e){for(var i=0;i<t.length;i++)e.writeDouble(t[i])}function u(t,e){for(var i=0;i<t.length;i++)e.writeBoolean(t[i])}function l(t,e){for(var i=0;i<t.length;i++)e.writeFixed32(t[i])}function h(t,e){for(var i=0;i<t.length;i++)e.writeSFixed32(t[i])}function c(t,e){for(var i=0;i<t.length;i++)e.writeFixed64(t[i])}function f(t,e){for(var i=0;i<t.length;i++)e.writeSFixed64(t[i])}t.exports=n;var d=e.Buffer||i(170);n.Varint=0,n.Fixed64=1,n.Bytes=2,n.Fixed32=5;var p=4294967296,m=1/p,v=Math.pow(2,63);n.prototype={destroy:function(){this.buf=null},readFields:function(t,e,i){for(i=i||this.length;this.pos<i;){var n=this.readVarint(),r=n>>3,o=this.pos;t(r,e,this),this.pos===o&&this.skip(n)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=this.buf.readUInt32LE(this.pos);return this.pos+=4,t},readSFixed32:function(){var t=this.buf.readInt32LE(this.pos);return this.pos+=4,t},readFixed64:function(){var t=this.buf.readUInt32LE(this.pos)+this.buf.readUInt32LE(this.pos+4)*p;return this.pos+=8,t},readSFixed64:function(){var t=this.buf.readUInt32LE(this.pos)+this.buf.readInt32LE(this.pos+4)*p;return this.pos+=8,t},readFloat:function(){var t=this.buf.readFloatLE(this.pos);return this.pos+=4,t},readDouble:function(){var t=this.buf.readDoubleLE(this.pos);return this.pos+=8,t},readVarint:function(){var t,e,i,n,r,o,a=this.buf;if(i=a[this.pos++],128>i)return i;if(i=127&i,n=a[this.pos++],128>n)return i|n<<7;if(n=(127&n)<<7,r=a[this.pos++],128>r)return i|n|r<<14;if(r=(127&r)<<14,o=a[this.pos++],128>o)return i|n|r|o<<21;if(t=i|n|r|(127&o)<<21,e=a[this.pos++],t+=268435456*(127&e),128>e)return t;if(e=a[this.pos++],t+=34359738368*(127&e),128>e)return t;if(e=a[this.pos++],t+=4398046511104*(127&e),128>e)return t;if(e=a[this.pos++],t+=562949953421312*(127&e),128>e)return t;if(e=a[this.pos++],t+=72057594037927940*(127&e),128>e)return t;if(e=a[this.pos++],t+=0x8000000000000000*(127&e),128>e)return t;throw new Error("Expected varint not more than 10 bytes");
},readVarint64:function(){var t=this.pos,e=this.readVarint();if(v>e)return e;for(var i=this.pos-2;255===this.buf[i];)i--;t>i&&(i=t),e=0;for(var n=0;i-t+1>n;n++){var r=127&~this.buf[t+n];e+=4>n?r<<7*n:r*Math.pow(2,7*n)}return-e-1},readSVarint:function(){var t=this.readVarint();return t%2===1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.buf.toString("utf8",this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.slice(this.pos,t);return this.pos=t,e},readPackedVarint:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readVarint());return e},readPackedSVarint:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(t){var e=7&t;if(e===n.Varint)for(;this.buf[this.pos++]>127;);else if(e===n.Bytes)this.pos=this.readVarint()+this.pos;else if(e===n.Fixed32)this.pos+=4;else{if(e!==n.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var i=new d(e);this.buf.copy(i),this.buf=i,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.slice(0,this.length)},writeFixed32:function(t){this.realloc(4),this.buf.writeUInt32LE(t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),this.buf.writeInt32LE(t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),this.buf.writeInt32LE(-1&t,this.pos),this.buf.writeUInt32LE(Math.floor(t*m),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),this.buf.writeInt32LE(-1&t,this.pos),this.buf.writeInt32LE(Math.floor(t*m),this.pos+4),this.pos+=8},writeVarint:function(t){if(t=+t,127>=t)this.realloc(1),this.buf[this.pos++]=t;else if(16383>=t)this.realloc(2),this.buf[this.pos++]=t>>>0&127|128,this.buf[this.pos++]=t>>>7&127;else if(2097151>=t)this.realloc(3),this.buf[this.pos++]=t>>>0&127|128,this.buf[this.pos++]=t>>>7&127|128,this.buf[this.pos++]=t>>>14&127;else if(268435455>=t)this.realloc(4),this.buf[this.pos++]=t>>>0&127|128,this.buf[this.pos++]=t>>>7&127|128,this.buf[this.pos++]=t>>>14&127|128,this.buf[this.pos++]=t>>>21&127;else{for(var e=this.pos;t>=128;)this.realloc(1),this.buf[this.pos++]=255&t|128,t/=128;if(this.realloc(1),this.buf[this.pos++]=0|t,this.pos-e>10)throw new Error("Given varint doesn't fit into 10 bytes")}},writeSVarint:function(t){this.writeVarint(0>t?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t);var e=d.byteLength(t);this.writeVarint(e),this.realloc(e),this.buf.write(t,this.pos),this.pos+=e},writeFloat:function(t){this.realloc(4),this.buf.writeFloatLE(t,this.pos),this.pos+=4},writeDouble:function(t){this.realloc(8),this.buf.writeDoubleLE(t,this.pos),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var i=0;e>i;i++)this.buf[this.pos++]=t[i]},writeRawMessage:function(t,e){this.pos++;var i=this.pos;t(e,this);var n=this.pos-i,r=127>=n?1:16383>=n?2:2097151>=n?3:268435455>=n?4:Math.ceil(Math.log(n)/(7*Math.LN2));if(r>1){this.realloc(r-1);for(var o=this.pos-1;o>=i;o--)this.buf[o+r-1]=this.buf[o]}this.pos=i-1,this.writeVarint(n),this.pos+=n},writeMessage:function(t,e,i){this.writeTag(t,n.Bytes),this.writeRawMessage(e,i)},writePackedVarint:function(t,e){this.writeMessage(t,r,e)},writePackedSVarint:function(t,e){this.writeMessage(t,o,e)},writePackedBoolean:function(t,e){this.writeMessage(t,u,e)},writePackedFloat:function(t,e){this.writeMessage(t,a,e)},writePackedDouble:function(t,e){this.writeMessage(t,s,e)},writePackedFixed32:function(t,e){this.writeMessage(t,l,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,h,e)},writePackedFixed64:function(t,e){this.writeMessage(t,c,e)},writePackedSFixed64:function(t,e){this.writeMessage(t,f,e)},writeBytesField:function(t,e){this.writeTag(t,n.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,n.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,n.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,n.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,n.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,n.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,n.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,n.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,n.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,n.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}}).call(e,function(){return this}())},function(t,e){function i(){l=!1,a.length?u=a.concat(u):h=-1,u.length&&n()}function n(){if(!l){var t=setTimeout(i);l=!0;for(var e=u.length;e;){for(a=u,u=[];++h<e;)a&&a[h].run();h=-1,e=u.length}a=null,l=!1,clearTimeout(t)}}function r(t,e){this.fun=t,this.array=e}function o(){}var a,s=t.exports={},u=[],l=!1,h=-1;s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];u.push(new r(t,e)),1!==u.length||l||setTimeout(n,0)},r.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=o,s.addListener=o,s.once=o,s.off=o,s.removeListener=o,s.removeAllListeners=o,s.emit=o,s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(t,e){"use strict";function i(t,e){this.width=t,this.height=e,this.shelves=[],this.stats={},this.count=function(t){this.stats[t]=(0|this.stats[t])+1}}function n(t,e,i){this.y=t,this.x=0,this.width=this.free=e,this.height=i}t.exports=i,i.prototype.allocate=function(t,e){for(var i,r,o=0,a={shelf:-1,waste:1/0},s=0;s<this.shelves.length;s++){if(i=this.shelves[s],o+=i.height,e===i.height&&t<=i.free)return this.count(e),i.alloc(t,e);e>i.height||t>i.free||e<i.height&&t<=i.free&&(r=i.height-e,r<a.waste&&(a.waste=r,a.shelf=s))}return-1!==a.shelf?(i=this.shelves[a.shelf],this.count(e),i.alloc(t,e)):e<=this.height-o&&t<=this.width?(i=new n(o,this.width,e),this.shelves.push(i),this.count(e),i.alloc(t,e)):{x:-1,y:-1}},i.prototype.resize=function(t,e){if(t<this.width||e<this.height)return!1;this.height=e,this.width=t;for(var i=0;i<this.shelves.length;i++)this.shelves[i].resize(t);return!0},n.prototype={alloc:function(t,e){if(t>this.free||e>this.height)return{x:-1,y:-1};var i=this.x;return this.x+=t,this.free-=t,{x:i,y:this.y,w:t,h:e}},resize:function(t){return t<this.width?!1:(this.free+=t-this.width,this.width=t,!0)}}},function(t,e,i){"use strict";function n(t,e,i,n,o){this.properties={},this.extent=i,this.type=0,this._pbf=t,this._geometry=-1,this._keys=n,this._values=o,t.readFields(r,this,e)}function r(t,e,i){1==t?e._id=i.readVarint():2==t?o(i,e):3==t?e.type=i.readVarint():4==t&&(e._geometry=i.pos)}function o(t,e){for(var i=t.readVarint()+t.pos;t.pos<i;){var n=e._keys[t.readVarint()],r=e._values[t.readVarint()];e.properties[n]=r}}var a=i(2);t.exports=n,n.types=["Unknown","Point","LineString","Polygon"],n.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,i=t.readVarint()+t.pos,n=1,r=0,o=0,s=0,u=[];t.pos<i;){if(!r){var l=t.readVarint();n=7&l,r=l>>3}if(r--,1===n||2===n)o+=t.readSVarint(),s+=t.readSVarint(),1===n&&(e&&u.push(e),e=[]),e.push(new a(o,s));else{if(7!==n)throw new Error("unknown command "+n);e&&e.push(e[0].clone())}}return e&&u.push(e),u},n.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,i=1,n=0,r=0,o=0,a=1/0,s=-(1/0),u=1/0,l=-(1/0);t.pos<e;){if(!n){var h=t.readVarint();i=7&h,n=h>>3}if(n--,1===i||2===i)r+=t.readSVarint(),o+=t.readSVarint(),a>r&&(a=r),r>s&&(s=r),u>o&&(u=o),o>l&&(l=o);else if(7!==i)throw new Error("unknown command "+i)}return[a,u,s,l]},n.prototype.toGeoJSON=function(t,e,i){for(var r=this.extent*Math.pow(2,i),o=this.extent*t,a=this.extent*e,s=this.loadGeometry(),u=n.types[this.type],l=0;l<s.length;l++)for(var h=s[l],c=0;c<h.length;c++){var f=h[c],d=180-360*(f.y+a)/r;h[c]=[360*(f.x+o)/r-180,360/Math.PI*Math.atan(Math.exp(d*Math.PI/180))-90]}"Point"===u&&1===s.length?s=s[0][0]:"Point"===u?(s=s[0],u="MultiPoint"):"LineString"===u&&1===s.length?s=s[0]:"LineString"===u&&(u="MultiLineString");var p={type:"Feature",geometry:{type:u,coordinates:s},properties:this.properties};return"_id"in this&&(p.id=this._id),p}},function(t,e,i){"use strict";function n(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(r,this,e),this.length=this._features.length}function r(t,e,i){15===t?e.version=i.readVarint():1===t?e.name=i.readString():5===t?e.extent=i.readVarint():2===t?e._features.push(i.pos):3===t?e._keys.push(i.readString()):4===t&&e._values.push(o(i))}function o(t){for(var e=null,i=t.readVarint()+t.pos;t.pos<i;){var n=t.readVarint()>>3;e=1===n?t.readString():2===n?t.readFloat():3===n?t.readDouble():4===n?t.readVarint64():5===n?t.readVarint():6===n?t.readSVarint():7===n?t.readBoolean():null}return e}var a=i(71);t.exports=n,n.prototype.feature=function(t){if(0>t||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new a(this._pbf,e,this.extent,this._keys,this._values)}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(184),o=n(r),a=i(183),s=n(a),u=i(185),l=n(u);e["default"]={components:{foxgisHeader:o["default"],foxgisFooter:s["default"],foxgisMap:l["default"]}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(115),o=n(r);e["default"]={attached:function(){o["default"].accessToken="pk.eyJ1IjoibWFwZXIiLCJhIjoiY2lsNmZ4MjVoMDAwZ3Zxa3U1am9ndnZjYyJ9.Po8UY7yYwu6Y2Y7HOrJVpQ";var t=new o["default"].Map({container:"map",style:"mapbox://styles/mapbox/streets-v8",center:[-245.7129,30.5354],zoom:12,attributionControl:!1});t.addControl(new o["default"].Navigation)}}},function(t,e,i){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===a||e===c?62:e===s||e===f?63:u>e?-1:u+10>e?e-u+26+26:h+26>e?e-h:l+26>e?e-l+26:void 0}function i(t){function i(t){l[c++]=t}var n,r,a,s,u,l;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var h=t.length;u="="===t.charAt(h-2)?2:"="===t.charAt(h-1)?1:0,l=new o(3*t.length/4-u),a=u>0?t.length-4:t.length;var c=0;for(n=0,r=0;a>n;n+=4,r+=3)s=e(t.charAt(n))<<18|e(t.charAt(n+1))<<12|e(t.charAt(n+2))<<6|e(t.charAt(n+3)),i((16711680&s)>>16),i((65280&s)>>8),i(255&s);return 2===u?(s=e(t.charAt(n))<<2|e(t.charAt(n+1))>>4,i(255&s)):1===u&&(s=e(t.charAt(n))<<10|e(t.charAt(n+1))<<4|e(t.charAt(n+2))>>2,i(s>>8&255),i(255&s)),l}function r(t){function e(t){return n.charAt(t)}function i(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var r,o,a,s=t.length%3,u="";for(r=0,a=t.length-s;a>r;r+=3)o=(t[r]<<16)+(t[r+1]<<8)+t[r+2],u+=i(o);switch(s){case 1:o=t[t.length-1],u+=e(o>>2),u+=e(o<<4&63),u+="==";break;case 2:o=(t[t.length-2]<<8)+t[t.length-1],u+=e(o>>10),u+=e(o>>4&63),u+=e(o<<2&63),u+="="}return u}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),s="/".charCodeAt(0),u="0".charCodeAt(0),l="a".charCodeAt(0),h="A".charCodeAt(0),c="-".charCodeAt(0),f="_".charCodeAt(0);t.toByteArray=i,t.fromByteArray=r}(e)},function(t,e){var i={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},function(t,e,i){e=t.exports=i(19)(),e.push([t.id,"",""])},function(t,e,i){e=t.exports=i(19)(),e.push([t.id,"#map{position:absolute;top:0;bottom:0;width:100%;height:100%}",""])},function(t,e,i){e=t.exports=i(19)(),e.push([t.id,"img[_v-765b8c2a]{max-width:100%}.mdl-layout.has-drawer .mdl-layout__header>.mdl-layout-icon[_v-765b8c2a]{display:block}",""])},function(t,e,i){e=t.exports=i(19)(),e.push([t.id,"",""])},function(t,e){function i(){return(new Date).getTime()}t.exports=i},function(t,e){"use strict";function i(t){return new Function("f","return "+n(t))}function n(t){if(!t)return"true";var e=t[0];if(t.length<=1)return"any"===e?"false":"true";var i="=="===e?o(t[1],t[2],"===",!1):"!="===e?o(t[1],t[2],"!==",!1):"<"===e||">"===e||"<="===e||">="===e?o(t[1],t[2],e,!0):"any"===e?t.slice(1).map(n).join("||"):"all"===e?t.slice(1).map(n).join("&&"):"none"===e?"!("+t.slice(1).map(n).join("||")+")":"in"===e?a(t[1],t.slice(2)):"!in"===e?"!("+a(t[1],t.slice(2))+")":"true";return"("+i+")"}function r(t){return"$type"===t?"f.type":"(f.properties || {})["+JSON.stringify(t)+"]"}function o(t,e,i,n){var o=r(t),a="$type"===t?u.indexOf(e):JSON.stringify(e);return(n?"typeof "+o+"=== typeof "+a+"&&":"")+o+i+a}function a(t,e){"$type"===t&&(e=e.map(function(t){return u.indexOf(t)}));var i=JSON.stringify(e.sort(s)),n=r(t);return e.length<=200?i+".indexOf("+n+") !== -1":"function(v, a, i, j) {while (i <= j) { var m = (i + j) >> 1;    if (a[m] === v) return true; if (a[m] > v) j = m - 1; else i = m + 1;}return false; }("+n+", "+i+",0,"+(e.length-1)+")"}function s(t,e){return e>t?-1:t>e?1:0}t.exports=i;var u=["Unknown","Point","LineString","Polygon"]},function(t,e,i){"use strict";function n(t,e){var i=[];if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)r(i,t.features[n],e);else"Feature"===t.type?r(i,t,e):r(i,{geometry:t},e);return i}function r(t,e,i){var n,u,l,h=e.geometry,c=h.type,f=h.coordinates,d=e.properties;if("Point"===c)t.push(o(d,1,[s(f)]));else if("MultiPoint"===c)t.push(o(d,1,a(f)));else if("LineString"===c)t.push(o(d,2,[a(f,i)]));else if("MultiLineString"===c||"Polygon"===c){for(l=[],n=0;n<f.length;n++)l.push(a(f[n],i));t.push(o(d,"Polygon"===c?3:2,l))}else if("MultiPolygon"===c){for(l=[],n=0;n<f.length;n++)for(u=0;u<f[n].length;u++)l.push(a(f[n][u],i));t.push(o(d,3,l))}else{if("GeometryCollection"!==c)throw new Error("Input data is not a valid GeoJSON object.");for(n=0;n<h.geometries.length;n++)r(t,{geometry:h.geometries[n],properties:d},i)}}function o(t,e,i){var n={geometry:i,type:e,tags:t||null,min:[2,1],max:[-1,0]};return l(n),n}function a(t,e){for(var i=[],n=0;n<t.length;n++)i.push(s(t[n]));return e&&(c(i,e),u(i)),i}function s(t){var e=Math.sin(t[1]*Math.PI/180),i=t[0]/360+.5,n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n=-1>n?-1:n>1?1:n,[i,n,0]}function u(t){for(var e,i,n=0,r=0,o=0;o<t.length-1;o++)e=i||t[o],i=t[o+1],n+=e[0]*i[1]-i[0]*e[1],r+=Math.abs(i[0]-e[0])+Math.abs(i[1]-e[1]);t.area=Math.abs(n/2),t.dist=r}function l(t){var e=t.geometry,i=t.min,n=t.max;if(1===t.type)h(i,n,e);else for(var r=0;r<e.length;r++)h(i,n,e[r]);return t}function h(t,e,i){for(var n,r=0;r<i.length;r++)n=i[r],t[0]=Math.min(n[0],t[0]),e[0]=Math.max(n[0],e[0]),t[1]=Math.min(n[1],t[1]),e[1]=Math.max(n[1],e[1])}t.exports=n;var c=i(87)},function(t,e,i){(function(e){"use strict";function n(t,e){return new r(t,e)}function r(t,i){i=this.options=u(Object.create(this.options),i);var n=i.debug;n&&e.time("preprocess data");var r=1<<i.maxZoom,o=h(t,i.tolerance/(r*i.extent));this.tiles={},this.tileCoords=[],n&&(e.timeEnd("preprocess data"),e.log("index: maxZoom: %d, maxPoints: %d",i.indexMaxZoom,i.indexMaxPoints),e.time("generate tiles"),this.stats={},this.total=0),o=d(o,i.buffer/i.extent,a),o.length&&this.splitTile(o,0,0,0),n&&(o.length&&e.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),e.timeEnd("generate tiles"),e.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function o(t,e,i){return 32*((1<<t)*i+e)+t}function a(t,e,i){return[i,(i-t[0])*(e[1]-t[1])/(e[0]-t[0])+t[1],1]}function s(t,e,i){return[(i-t[1])*(e[0]-t[0])/(e[1]-t[1])+t[0],i,1]}function u(t,e){for(var i in e)t[i]=e[i];return t}function l(t,e,i){var n=t.source;if(1!==n.length)return!1;var r=n[0];if(3!==r.type||r.geometry.length>1)return!1;var o=r.geometry[0].length;if(5!==o)return!1;for(var a=0;o>a;a++){var s=c.point(r.geometry[0][a],e,t.z2,t.x,t.y);if(s[0]!==-i&&s[0]!==e+i||s[1]!==-i&&s[1]!==e+i)return!1}return!0}t.exports=n;var h=i(85),c=i(89),f=i(42),d=i(90),p=i(88);r.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,solidChildren:!1,tolerance:3,extent:4096,buffer:64,debug:0},r.prototype.splitTile=function(t,i,n,r,u,h,c){for(var d=[t,i,n,r],m=this.options,v=m.debug,g=null;d.length;){r=d.pop(),n=d.pop(),i=d.pop(),t=d.pop();var y=1<<i,_=o(i,n,r),x=this.tiles[_],b=i===m.maxZoom?0:m.tolerance/(y*m.extent);if(!x&&(v>1&&e.time("creation"),x=this.tiles[_]=p(t,y,n,r,b,i===m.maxZoom),this.tileCoords.push({z:i,x:n,y:r}),v)){v>1&&(e.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",i,n,r,x.numFeatures,x.numPoints,x.numSimplified),e.timeEnd("creation"));var w="z"+i;this.stats[w]=(this.stats[w]||0)+1,this.total++}if(x.source=t,u){if(i===m.maxZoom||i===u)continue;var M=1<<u-i;if(n!==Math.floor(h/M)||r!==Math.floor(c/M))continue}else if(i===m.indexMaxZoom||x.numPoints<=m.indexMaxPoints)continue;if(m.solidChildren||!l(x,m.extent,m.buffer)){x.source=null,v>1&&e.time("clipping");var S,E,T,I,A,D,z=.5*m.buffer/m.extent,P=.5-z,C=.5+z,L=1+z;S=E=T=I=null,A=f(t,y,n-z,n+C,0,a,x.min[0],x.max[0]),D=f(t,y,n+P,n+L,0,a,x.min[0],x.max[0]),A&&(S=f(A,y,r-z,r+C,1,s,x.min[1],x.max[1]),E=f(A,y,r+P,r+L,1,s,x.min[1],x.max[1])),D&&(T=f(D,y,r-z,r+C,1,s,x.min[1],x.max[1]),I=f(D,y,r+P,r+L,1,s,x.min[1],x.max[1])),v>1&&e.timeEnd("clipping"),S&&d.push(S,i+1,2*n,2*r),E&&d.push(E,i+1,2*n,2*r+1),T&&d.push(T,i+1,2*n+1,2*r),I&&d.push(I,i+1,2*n+1,2*r+1)}else u&&(g=i)}return g},r.prototype.getTile=function(t,i,n){var r=this.options,a=r.extent,s=r.debug,u=1<<t;i=(i%u+u)%u;var h=o(t,i,n);if(this.tiles[h])return c.tile(this.tiles[h],a);s>1&&e.log("drilling down to z%d-%d-%d",t,i,n);for(var f,d=t,p=i,m=n;!f&&d>0;)d--,p=Math.floor(p/2),m=Math.floor(m/2),f=this.tiles[o(d,p,m)];if(!f||!f.source)return null;if(s>1&&e.log("found parent tile z%d-%d-%d",d,p,m),l(f,a,r.buffer))return c.tile(f,a);s>1&&e.time("drilling down");var v=this.splitTile(f.source,d,p,m,t,i,n);if(s>1&&e.timeEnd("drilling down"),null!==v){var g=1<<t-v;h=o(v,Math.floor(i/g),Math.floor(n/g))}return this.tiles[h]?c.tile(this.tiles[h],a):null}}).call(e,i(6))},function(t,e){"use strict";function i(t,e){var i,r,o,a,s=e*e,u=t.length,l=0,h=u-1,c=[];for(t[l][2]=1,t[h][2]=1;h;){for(r=0,i=l+1;h>i;i++)o=n(t[i],t[l],t[h]),o>r&&(a=i,r=o);r>s?(t[a][2]=r,c.push(l),c.push(a),l=a):(h=c.pop(),l=c.pop())}}function n(t,e,i){var n=e[0],r=e[1],o=i[0],a=i[1],s=t[0],u=t[1],l=o-n,h=a-r;if(0!==l||0!==h){var c=((s-n)*l+(u-r)*h)/(l*l+h*h);c>1?(n=o,r=a):c>0&&(n+=l*c,r+=h*c)}return l=s-n,h=u-r,l*l+h*h}t.exports=i},function(t,e){"use strict";function i(t,e,i,r,o,a){for(var s={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:i,y:r,z2:e,transformed:!1,min:[2,1],max:[-1,0]},u=0;u<t.length;u++){s.numFeatures++,n(s,t[u],o,a);var l=t[u].min,h=t[u].max;l[0]<s.min[0]&&(s.min[0]=l[0]),l[1]<s.min[1]&&(s.min[1]=l[1]),h[0]>s.max[0]&&(s.max[0]=h[0]),h[1]>s.max[1]&&(s.max[1]=h[1])}return s}function n(t,e,i,n){var r,o,a,s,u=e.geometry,l=e.type,h=[],c=i*i;if(1===l)for(r=0;r<u.length;r++)h.push(u[r]),t.numPoints++,t.numSimplified++;else for(r=0;r<u.length;r++)if(a=u[r],n||!(2===l&&a.dist<i||3===l&&a.area<c)){var f=[];for(o=0;o<a.length;o++)s=a[o],(n||s[2]>c)&&(f.push(s),t.numSimplified++),t.numPoints++;h.push(f)}else t.numPoints+=a.length;h.length&&t.features.push({geometry:h,type:l,tags:e.tags||null})}t.exports=i},function(t,e){"use strict";function i(t,e){if(t.transformed)return t;var i,r,o,a=t.z2,s=t.x,u=t.y;for(i=0;i<t.features.length;i++){var l=t.features[i],h=l.geometry,c=l.type;if(1===c)for(r=0;r<h.length;r++)h[r]=n(h[r],e,a,s,u);else for(r=0;r<h.length;r++){var f=h[r];for(o=0;o<f.length;o++)f[o]=n(f[o],e,a,s,u)}}return t.transformed=!0,t}function n(t,e,i,n,r){var o=Math.round(e*(t[0]*i-n)),a=Math.round(e*(t[1]*i-r));return[o,a]}e.tile=i,e.point=n},function(t,e,i){"use strict";function n(t,e,i){var n=t,o=a(t,1,-1-e,e,0,i,-1,2),s=a(t,1,1-e,2+e,0,i,-1,2);return(o||s)&&(n=a(t,1,-e,1+e,0,i,-1,2),o&&(n=r(o,1).concat(n)),s&&(n=n.concat(r(s,-1)))),n}function r(t,e){for(var i=[],n=0;n<t.length;n++){var r,a=t[n],s=a.type;if(1===s)r=o(a.geometry,e);else{r=[];for(var u=0;u<a.geometry.length;u++)r.push(o(a.geometry[u],e))}i.push({geometry:r,type:s,tags:a.tags,min:[a.min[0]+e,a.min[1]],max:[a.max[0]+e,a.max[1]]})}return i}function o(t,e){var i=[];i.area=t.area,i.dist=t.dist;for(var n=0;n<t.length;n++)i.push([t[n][0]+e,t[n][1],t[n][2]]);return i}var a=i(42);t.exports=n},function(t,e,i){var n=i(10),r={};r.create=function(){var t=new n.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},r.clone=function(t){var e=new n.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},r.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},r.fromValues=function(t,e,i,r){var o=new n.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=i,o[3]=r,o},r.set=function(t,e,i,n,r){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t},r.transpose=function(t,e){if(t===e){var i=e[1];t[1]=e[2],t[2]=i}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},r.invert=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=i*o-r*n;return a?(a=1/a,t[0]=o*a,t[1]=-n*a,t[2]=-r*a,t[3]=i*a,t):null},r.adjoint=function(t,e){var i=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=i,t},r.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},r.multiply=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=i[0],u=i[1],l=i[2],h=i[3];return t[0]=n*s+o*u,t[1]=r*s+a*u,t[2]=n*l+o*h,t[3]=r*l+a*h,t},r.mul=r.multiply,r.rotate=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=Math.sin(i),u=Math.cos(i);return t[0]=n*u+o*s,t[1]=r*u+a*s,t[2]=n*-s+o*u,t[3]=r*-s+a*u,t},r.scale=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=i[0],u=i[1];return t[0]=n*s,t[1]=r*s,t[2]=o*u,t[3]=a*u,t},r.fromRotation=function(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=-i,t[3]=n,t},r.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},r.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},r.LDU=function(t,e,i,n){return t[2]=n[2]/n[0],i[0]=n[0],i[1]=n[1],i[3]=n[3]-t[2]*i[1],[t,e,i]},r.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t},r.subtract=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t},r.sub=r.subtract,r.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},r.equals=function(t,e){var i=t[0],r=t[1],o=t[2],a=t[3],s=e[0],u=e[1],l=e[2],h=e[3];return Math.abs(i-s)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(r-u)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(o-l)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(a-h)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))},r.multiplyScalar=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t},r.multiplyScalarAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t[3]=e[3]+i[3]*n,t},t.exports=r},function(t,e,i){var n=i(10),r={};r.create=function(){var t=new n.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},r.clone=function(t){var e=new n.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},r.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},r.fromValues=function(t,e,i,r,o,a){var s=new n.ARRAY_TYPE(6);return s[0]=t,s[1]=e,s[2]=i,s[3]=r,s[4]=o,s[5]=a,s},r.set=function(t,e,i,n,r,o,a){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t[4]=o,t[5]=a,t},r.invert=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=e[4],s=e[5],u=i*o-n*r;return u?(u=1/u,t[0]=o*u,t[1]=-n*u,t[2]=-r*u,t[3]=i*u,t[4]=(r*s-o*a)*u,t[5]=(n*a-i*s)*u,t):null},r.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},r.multiply=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=i[0],h=i[1],c=i[2],f=i[3],d=i[4],p=i[5];return t[0]=n*l+o*h,t[1]=r*l+a*h,t[2]=n*c+o*f,t[3]=r*c+a*f,t[4]=n*d+o*p+s,t[5]=r*d+a*p+u,t},r.mul=r.multiply,r.rotate=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=Math.sin(i),h=Math.cos(i);return t[0]=n*h+o*l,t[1]=r*h+a*l,t[2]=n*-l+o*h,t[3]=r*-l+a*h,t[4]=s,t[5]=u,t},r.scale=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=i[0],h=i[1];return t[0]=n*l,t[1]=r*l,t[2]=o*h,t[3]=a*h,t[4]=s,t[5]=u,t},r.translate=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=i[0],h=i[1];return t[0]=n,t[1]=r,t[2]=o,t[3]=a,t[4]=n*l+o*h+s,t[5]=r*l+a*h+u,t},r.fromRotation=function(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=-i,t[3]=n,t[4]=0,t[5]=0,t},r.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},r.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},r.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},r.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t},r.subtract=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t},r.sub=r.subtract,r.multiplyScalar=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t},r.multiplyScalarAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t[3]=e[3]+i[3]*n,t[4]=e[4]+i[4]*n,t[5]=e[5]+i[5]*n,t},r.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]},r.equals=function(t,e){var i=t[0],r=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=e[0],h=e[1],c=e[2],f=e[3],d=e[4],p=e[5];return Math.abs(i-l)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(r-h)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(o-c)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(a-f)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(s-d)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(u-p)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(p))},t.exports=r},function(t,e,i){var n=i(10),r={scalar:{},SIMD:{}};r.create=function(){var t=new n.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.clone=function(t){var e=new n.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},r.fromValues=function(t,e,i,r,o,a,s,u,l,h,c,f,d,p,m,v){var g=new n.ARRAY_TYPE(16);return g[0]=t,g[1]=e,g[2]=i,g[3]=r,g[4]=o,g[5]=a,g[6]=s,g[7]=u,g[8]=l,g[9]=h,g[10]=c,g[11]=f,g[12]=d,g[13]=p,g[14]=m,g[15]=v,g},r.set=function(t,e,i,n,r,o,a,s,u,l,h,c,f,d,p,m,v){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=l,t[9]=h,t[10]=c,t[11]=f,t[12]=d,t[13]=p,t[14]=m,t[15]=v,t},r.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.scalar.transpose=function(t,e){if(t===e){var i=e[1],n=e[2],r=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=i,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=o,t[11]=e[14],t[12]=r,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},r.SIMD.transpose=function(t,e){var i,n,r,o,a,s,u,l,h,c;return i=SIMD.Float32x4.load(e,0),n=SIMD.Float32x4.load(e,4),r=SIMD.Float32x4.load(e,8),o=SIMD.Float32x4.load(e,12),a=SIMD.Float32x4.shuffle(i,n,0,1,4,5),s=SIMD.Float32x4.shuffle(r,o,0,1,4,5),u=SIMD.Float32x4.shuffle(a,s,0,2,4,6),l=SIMD.Float32x4.shuffle(a,s,1,3,5,7),SIMD.Float32x4.store(t,0,u),SIMD.Float32x4.store(t,4,l),a=SIMD.Float32x4.shuffle(i,n,2,3,6,7),s=SIMD.Float32x4.shuffle(r,o,2,3,6,7),h=SIMD.Float32x4.shuffle(a,s,0,2,4,6),c=SIMD.Float32x4.shuffle(a,s,1,3,5,7),SIMD.Float32x4.store(t,8,h),SIMD.Float32x4.store(t,12,c),t},r.transpose=n.USE_SIMD?r.SIMD.transpose:r.scalar.transpose,r.scalar.invert=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],h=e[8],c=e[9],f=e[10],d=e[11],p=e[12],m=e[13],v=e[14],g=e[15],y=i*s-n*a,_=i*u-r*a,x=i*l-o*a,b=n*u-r*s,w=n*l-o*s,M=r*l-o*u,S=h*m-c*p,E=h*v-f*p,T=h*g-d*p,I=c*v-f*m,A=c*g-d*m,D=f*g-d*v,z=y*D-_*A+x*I+b*T-w*E+M*S;return z?(z=1/z,t[0]=(s*D-u*A+l*I)*z,t[1]=(r*A-n*D-o*I)*z,t[2]=(m*M-v*w+g*b)*z,t[3]=(f*w-c*M-d*b)*z,t[4]=(u*T-a*D-l*E)*z,t[5]=(i*D-r*T+o*E)*z,t[6]=(v*x-p*M-g*_)*z,t[7]=(h*M-f*x+d*_)*z,t[8]=(a*A-s*T+l*S)*z,t[9]=(n*T-i*A-o*S)*z,t[10]=(p*w-m*x+g*y)*z,t[11]=(c*x-h*w-d*y)*z,t[12]=(s*E-a*I-u*S)*z,t[13]=(i*I-n*E+r*S)*z,t[14]=(m*_-p*b-v*y)*z,t[15]=(h*b-c*_+f*y)*z,t):null},r.SIMD.invert=function(t,e){var i,n,r,o,a,s,u,l,h,c,f=SIMD.Float32x4.load(e,0),d=SIMD.Float32x4.load(e,4),p=SIMD.Float32x4.load(e,8),m=SIMD.Float32x4.load(e,12);return a=SIMD.Float32x4.shuffle(f,d,0,1,4,5),n=SIMD.Float32x4.shuffle(p,m,0,1,4,5),i=SIMD.Float32x4.shuffle(a,n,0,2,4,6),n=SIMD.Float32x4.shuffle(n,a,1,3,5,7),a=SIMD.Float32x4.shuffle(f,d,2,3,6,7),o=SIMD.Float32x4.shuffle(p,m,2,3,6,7),r=SIMD.Float32x4.shuffle(a,o,0,2,4,6),o=SIMD.Float32x4.shuffle(o,a,1,3,5,7),a=SIMD.Float32x4.mul(r,o),a=SIMD.Float32x4.swizzle(a,1,0,3,2),s=SIMD.Float32x4.mul(n,a),u=SIMD.Float32x4.mul(i,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,a),s),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,a),u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),a=SIMD.Float32x4.mul(n,r),a=SIMD.Float32x4.swizzle(a,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),s),h=SIMD.Float32x4.mul(i,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(o,a)),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,a),h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),a=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(n,2,3,0,1),o),a=SIMD.Float32x4.swizzle(a,1,0,3,2),r=SIMD.Float32x4.swizzle(r,2,3,0,1),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,a),s),l=SIMD.Float32x4.mul(i,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(r,a)),
l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,a),l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),a=SIMD.Float32x4.mul(i,n),a=SIMD.Float32x4.swizzle(a,1,0,3,2),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),l),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,a),h),a=SIMD.Float32x4.swizzle(a,2,3,0,1),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,a),l),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(r,a)),a=SIMD.Float32x4.mul(i,o),a=SIMD.Float32x4.swizzle(a,1,0,3,2),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(r,a)),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,a),l),a=SIMD.Float32x4.swizzle(a,2,3,0,1),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,a),u),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(n,a)),a=SIMD.Float32x4.mul(i,r),a=SIMD.Float32x4.swizzle(a,1,0,3,2),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),u),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(n,a)),a=SIMD.Float32x4.swizzle(a,2,3,0,1),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(o,a)),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,a),h),c=SIMD.Float32x4.mul(i,s),c=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(c,2,3,0,1),c),c=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(c,1,0,3,2),c),a=SIMD.Float32x4.reciprocalApproximation(c),c=SIMD.Float32x4.sub(SIMD.Float32x4.add(a,a),SIMD.Float32x4.mul(c,SIMD.Float32x4.mul(a,a))),(c=SIMD.Float32x4.swizzle(c,0,0,0,0))?(SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(c,s)),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(c,u)),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(c,l)),SIMD.Float32x4.store(t,12,SIMD.Float32x4.mul(c,h)),t):null},r.invert=n.USE_SIMD?r.SIMD.invert:r.scalar.invert,r.scalar.adjoint=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],h=e[8],c=e[9],f=e[10],d=e[11],p=e[12],m=e[13],v=e[14],g=e[15];return t[0]=s*(f*g-d*v)-c*(u*g-l*v)+m*(u*d-l*f),t[1]=-(n*(f*g-d*v)-c*(r*g-o*v)+m*(r*d-o*f)),t[2]=n*(u*g-l*v)-s*(r*g-o*v)+m*(r*l-o*u),t[3]=-(n*(u*d-l*f)-s*(r*d-o*f)+c*(r*l-o*u)),t[4]=-(a*(f*g-d*v)-h*(u*g-l*v)+p*(u*d-l*f)),t[5]=i*(f*g-d*v)-h*(r*g-o*v)+p*(r*d-o*f),t[6]=-(i*(u*g-l*v)-a*(r*g-o*v)+p*(r*l-o*u)),t[7]=i*(u*d-l*f)-a*(r*d-o*f)+h*(r*l-o*u),t[8]=a*(c*g-d*m)-h*(s*g-l*m)+p*(s*d-l*c),t[9]=-(i*(c*g-d*m)-h*(n*g-o*m)+p*(n*d-o*c)),t[10]=i*(s*g-l*m)-a*(n*g-o*m)+p*(n*l-o*s),t[11]=-(i*(s*d-l*c)-a*(n*d-o*c)+h*(n*l-o*s)),t[12]=-(a*(c*v-f*m)-h*(s*v-u*m)+p*(s*f-u*c)),t[13]=i*(c*v-f*m)-h*(n*v-r*m)+p*(n*f-r*c),t[14]=-(i*(s*v-u*m)-a*(n*v-r*m)+p*(n*u-r*s)),t[15]=i*(s*f-u*c)-a*(n*f-r*c)+h*(n*u-r*s),t},r.SIMD.adjoint=function(t,e){var i,n,r,o,a,s,u,l,h,c,f,d,p,i=SIMD.Float32x4.load(e,0),n=SIMD.Float32x4.load(e,4),r=SIMD.Float32x4.load(e,8),o=SIMD.Float32x4.load(e,12);return h=SIMD.Float32x4.shuffle(i,n,0,1,4,5),s=SIMD.Float32x4.shuffle(r,o,0,1,4,5),a=SIMD.Float32x4.shuffle(h,s,0,2,4,6),s=SIMD.Float32x4.shuffle(s,h,1,3,5,7),h=SIMD.Float32x4.shuffle(i,n,2,3,6,7),l=SIMD.Float32x4.shuffle(r,o,2,3,6,7),u=SIMD.Float32x4.shuffle(h,l,0,2,4,6),l=SIMD.Float32x4.shuffle(l,h,1,3,5,7),h=SIMD.Float32x4.mul(u,l),h=SIMD.Float32x4.swizzle(h,1,0,3,2),c=SIMD.Float32x4.mul(s,h),f=SIMD.Float32x4.mul(a,h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,h),c),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,h),f),f=SIMD.Float32x4.swizzle(f,2,3,0,1),h=SIMD.Float32x4.mul(s,u),h=SIMD.Float32x4.swizzle(h,1,0,3,2),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,h),c),p=SIMD.Float32x4.mul(a,h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(l,h)),p=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,h),p),p=SIMD.Float32x4.swizzle(p,2,3,0,1),h=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,3,0,1),l),h=SIMD.Float32x4.swizzle(h,1,0,3,2),u=SIMD.Float32x4.swizzle(u,2,3,0,1),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,h),c),d=SIMD.Float32x4.mul(a,h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(u,h)),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,h),d),d=SIMD.Float32x4.swizzle(d,2,3,0,1),h=SIMD.Float32x4.mul(a,s),h=SIMD.Float32x4.swizzle(h,1,0,3,2),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,h),d),p=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,h),p),h=SIMD.Float32x4.swizzle(h,2,3,0,1),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,h),d),p=SIMD.Float32x4.sub(p,SIMD.Float32x4.mul(u,h)),h=SIMD.Float32x4.mul(a,l),h=SIMD.Float32x4.swizzle(h,1,0,3,2),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(u,h)),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,h),d),h=SIMD.Float32x4.swizzle(h,2,3,0,1),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,h),f),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(s,h)),h=SIMD.Float32x4.mul(a,u),h=SIMD.Float32x4.swizzle(h,1,0,3,2),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,h),f),p=SIMD.Float32x4.sub(p,SIMD.Float32x4.mul(s,h)),h=SIMD.Float32x4.swizzle(h,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(l,h)),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,h),p),SIMD.Float32x4.store(t,0,c),SIMD.Float32x4.store(t,4,f),SIMD.Float32x4.store(t,8,d),SIMD.Float32x4.store(t,12,p),t},r.adjoint=n.USE_SIMD?r.SIMD.adjoint:r.scalar.adjoint,r.determinant=function(t){var e=t[0],i=t[1],n=t[2],r=t[3],o=t[4],a=t[5],s=t[6],u=t[7],l=t[8],h=t[9],c=t[10],f=t[11],d=t[12],p=t[13],m=t[14],v=t[15],g=e*a-i*o,y=e*s-n*o,_=e*u-r*o,x=i*s-n*a,b=i*u-r*a,w=n*u-r*s,M=l*p-h*d,S=l*m-c*d,E=l*v-f*d,T=h*m-c*p,I=h*v-f*p,A=c*v-f*m;return g*A-y*I+_*T+x*E-b*S+w*M},r.SIMD.multiply=function(t,e,i){var n=SIMD.Float32x4.load(e,0),r=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8),a=SIMD.Float32x4.load(e,12),s=SIMD.Float32x4.load(i,0),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,1,1,1,1),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,3,3,3,3),a))));SIMD.Float32x4.store(t,0,u);var l=SIMD.Float32x4.load(i,4),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,1,1,1,1),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,3,3,3,3),a))));SIMD.Float32x4.store(t,4,h);var c=SIMD.Float32x4.load(i,8),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,1,1,1,1),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,3,3,3,3),a))));SIMD.Float32x4.store(t,8,f);var d=SIMD.Float32x4.load(i,12),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,1,1,1,1),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,3,3,3,3),a))));return SIMD.Float32x4.store(t,12,p),t},r.scalar.multiply=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],h=e[7],c=e[8],f=e[9],d=e[10],p=e[11],m=e[12],v=e[13],g=e[14],y=e[15],_=i[0],x=i[1],b=i[2],w=i[3];return t[0]=_*n+x*s+b*c+w*m,t[1]=_*r+x*u+b*f+w*v,t[2]=_*o+x*l+b*d+w*g,t[3]=_*a+x*h+b*p+w*y,_=i[4],x=i[5],b=i[6],w=i[7],t[4]=_*n+x*s+b*c+w*m,t[5]=_*r+x*u+b*f+w*v,t[6]=_*o+x*l+b*d+w*g,t[7]=_*a+x*h+b*p+w*y,_=i[8],x=i[9],b=i[10],w=i[11],t[8]=_*n+x*s+b*c+w*m,t[9]=_*r+x*u+b*f+w*v,t[10]=_*o+x*l+b*d+w*g,t[11]=_*a+x*h+b*p+w*y,_=i[12],x=i[13],b=i[14],w=i[15],t[12]=_*n+x*s+b*c+w*m,t[13]=_*r+x*u+b*f+w*v,t[14]=_*o+x*l+b*d+w*g,t[15]=_*a+x*h+b*p+w*y,t},r.multiply=n.USE_SIMD?r.SIMD.multiply:r.scalar.multiply,r.mul=r.multiply,r.scalar.translate=function(t,e,i){var n,r,o,a,s,u,l,h,c,f,d,p,m=i[0],v=i[1],g=i[2];return e===t?(t[12]=e[0]*m+e[4]*v+e[8]*g+e[12],t[13]=e[1]*m+e[5]*v+e[9]*g+e[13],t[14]=e[2]*m+e[6]*v+e[10]*g+e[14],t[15]=e[3]*m+e[7]*v+e[11]*g+e[15]):(n=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],h=e[7],c=e[8],f=e[9],d=e[10],p=e[11],t[0]=n,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=l,t[7]=h,t[8]=c,t[9]=f,t[10]=d,t[11]=p,t[12]=n*m+s*v+c*g+e[12],t[13]=r*m+u*v+f*g+e[13],t[14]=o*m+l*v+d*g+e[14],t[15]=a*m+h*v+p*g+e[15]),t},r.SIMD.translate=function(t,e,i){var n=SIMD.Float32x4.load(e,0),r=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8),a=SIMD.Float32x4.load(e,12),s=SIMD.Float32x4(i[0],i[1],i[2],0);e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11]),n=SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(s,0,0,0,0)),r=SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(s,1,1,1,1)),o=SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(s,2,2,2,2));var u=SIMD.Float32x4.add(n,SIMD.Float32x4.add(r,SIMD.Float32x4.add(o,a)));return SIMD.Float32x4.store(t,12,u),t},r.translate=n.USE_SIMD?r.SIMD.translate:r.scalar.translate,r.scalar.scale=function(t,e,i){var n=i[0],r=i[1],o=i[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},r.SIMD.scale=function(t,e,i){var n,r,o,a=SIMD.Float32x4(i[0],i[1],i[2],0);return n=SIMD.Float32x4.load(e,0),SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(a,0,0,0,0))),r=SIMD.Float32x4.load(e,4),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(a,1,1,1,1))),o=SIMD.Float32x4.load(e,8),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(a,2,2,2,2))),t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},r.scale=n.USE_SIMD?r.SIMD.scale:r.scalar.scale,r.rotate=function(t,e,i,r){var o,a,s,u,l,h,c,f,d,p,m,v,g,y,_,x,b,w,M,S,E,T,I,A,D=r[0],z=r[1],P=r[2],C=Math.sqrt(D*D+z*z+P*P);return Math.abs(C)<n.EPSILON?null:(C=1/C,D*=C,z*=C,P*=C,o=Math.sin(i),a=Math.cos(i),s=1-a,u=e[0],l=e[1],h=e[2],c=e[3],f=e[4],d=e[5],p=e[6],m=e[7],v=e[8],g=e[9],y=e[10],_=e[11],x=D*D*s+a,b=z*D*s+P*o,w=P*D*s-z*o,M=D*z*s-P*o,S=z*z*s+a,E=P*z*s+D*o,T=D*P*s+z*o,I=z*P*s-D*o,A=P*P*s+a,t[0]=u*x+f*b+v*w,t[1]=l*x+d*b+g*w,t[2]=h*x+p*b+y*w,t[3]=c*x+m*b+_*w,t[4]=u*M+f*S+v*E,t[5]=l*M+d*S+g*E,t[6]=h*M+p*S+y*E,t[7]=c*M+m*S+_*E,t[8]=u*T+f*I+v*A,t[9]=l*T+d*I+g*A,t[10]=h*T+p*I+y*A,t[11]=c*T+m*I+_*A,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},r.scalar.rotateX=function(t,e,i){var n=Math.sin(i),r=Math.cos(i),o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],h=e[9],c=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*r+l*n,t[5]=a*r+h*n,t[6]=s*r+c*n,t[7]=u*r+f*n,t[8]=l*r-o*n,t[9]=h*r-a*n,t[10]=c*r-s*n,t[11]=f*r-u*n,t},r.SIMD.rotateX=function(t,e,i){var n=SIMD.Float32x4.splat(Math.sin(i)),r=SIMD.Float32x4.splat(Math.cos(i));e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,4),a=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,r),SIMD.Float32x4.mul(a,n))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,r),SIMD.Float32x4.mul(o,n))),t},r.rotateX=n.USE_SIMD?r.SIMD.rotateX:r.scalar.rotateX,r.scalar.rotateY=function(t,e,i){var n=Math.sin(i),r=Math.cos(i),o=e[0],a=e[1],s=e[2],u=e[3],l=e[8],h=e[9],c=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*r-l*n,t[1]=a*r-h*n,t[2]=s*r-c*n,t[3]=u*r-f*n,t[8]=o*n+l*r,t[9]=a*n+h*r,t[10]=s*n+c*r,t[11]=u*n+f*r,t},r.SIMD.rotateY=function(t,e,i){var n=SIMD.Float32x4.splat(Math.sin(i)),r=SIMD.Float32x4.splat(Math.cos(i));e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,0),a=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,r),SIMD.Float32x4.mul(a,n))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,n),SIMD.Float32x4.mul(a,r))),t},r.rotateY=n.USE_SIMD?r.SIMD.rotateY:r.scalar.rotateY,r.scalar.rotateZ=function(t,e,i){var n=Math.sin(i),r=Math.cos(i),o=e[0],a=e[1],s=e[2],u=e[3],l=e[4],h=e[5],c=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*r+l*n,t[1]=a*r+h*n,t[2]=s*r+c*n,t[3]=u*r+f*n,t[4]=l*r-o*n,t[5]=h*r-a*n,t[6]=c*r-s*n,t[7]=f*r-u*n,t},r.SIMD.rotateZ=function(t,e,i){var n=SIMD.Float32x4.splat(Math.sin(i)),r=SIMD.Float32x4.splat(Math.cos(i));e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,0),a=SIMD.Float32x4.load(e,4);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,r),SIMD.Float32x4.mul(a,n))),SIMD.Float32x4.store(t,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,r),SIMD.Float32x4.mul(o,n))),t},r.rotateZ=n.USE_SIMD?r.SIMD.rotateZ:r.scalar.rotateZ,r.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},r.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromRotation=function(t,e,i){var r,o,a,s=i[0],u=i[1],l=i[2],h=Math.sqrt(s*s+u*u+l*l);return Math.abs(h)<n.EPSILON?null:(h=1/h,s*=h,u*=h,l*=h,r=Math.sin(e),o=Math.cos(e),a=1-o,t[0]=s*s*a+o,t[1]=u*s*a+l*r,t[2]=l*s*a-u*r,t[3]=0,t[4]=s*u*a-l*r,t[5]=u*u*a+o,t[6]=l*u*a+s*r,t[7]=0,t[8]=s*l*a+u*r,t[9]=u*l*a-s*r,t[10]=l*l*a+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},r.fromXRotation=function(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=i,t[7]=0,t[8]=0,t[9]=-i,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromYRotation=function(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-i,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=i,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromZRotation=function(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=0,t[3]=0,t[4]=-i,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromRotationTranslation=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=n+n,u=r+r,l=o+o,h=n*s,c=n*u,f=n*l,d=r*u,p=r*l,m=o*l,v=a*s,g=a*u,y=a*l;return t[0]=1-(d+m),t[1]=c+y,t[2]=f-g,t[3]=0,t[4]=c-y,t[5]=1-(h+m),t[6]=p+v,t[7]=0,t[8]=f+g,t[9]=p-v,t[10]=1-(h+d),t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t},r.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},r.getRotation=function(t,e){var i=e[0]+e[5]+e[10],n=0;return i>0?(n=2*Math.sqrt(i+1),t[3]=.25*n,t[0]=(e[6]-e[9])/n,t[1]=(e[8]-e[2])/n,t[2]=(e[1]-e[4])/n):e[0]>e[5]&e[0]>e[10]?(n=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/n,t[0]=.25*n,t[1]=(e[1]+e[4])/n,t[2]=(e[8]+e[2])/n):e[5]>e[10]?(n=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/n,t[0]=(e[1]+e[4])/n,t[1]=.25*n,t[2]=(e[6]+e[9])/n):(n=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/n,t[0]=(e[8]+e[2])/n,t[1]=(e[6]+e[9])/n,t[2]=.25*n),t},r.fromRotationTranslationScale=function(t,e,i,n){var r=e[0],o=e[1],a=e[2],s=e[3],u=r+r,l=o+o,h=a+a,c=r*u,f=r*l,d=r*h,p=o*l,m=o*h,v=a*h,g=s*u,y=s*l,_=s*h,x=n[0],b=n[1],w=n[2];return t[0]=(1-(p+v))*x,t[1]=(f+_)*x,t[2]=(d-y)*x,t[3]=0,t[4]=(f-_)*b,t[5]=(1-(c+v))*b,t[6]=(m+g)*b,t[7]=0,t[8]=(d+y)*w,t[9]=(m-g)*w,t[10]=(1-(c+p))*w,t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t},r.fromRotationTranslationScaleOrigin=function(t,e,i,n,r){var o=e[0],a=e[1],s=e[2],u=e[3],l=o+o,h=a+a,c=s+s,f=o*l,d=o*h,p=o*c,m=a*h,v=a*c,g=s*c,y=u*l,_=u*h,x=u*c,b=n[0],w=n[1],M=n[2],S=r[0],E=r[1],T=r[2];return t[0]=(1-(m+g))*b,t[1]=(d+x)*b,t[2]=(p-_)*b,t[3]=0,t[4]=(d-x)*w,t[5]=(1-(f+g))*w,t[6]=(v+y)*w,t[7]=0,t[8]=(p+_)*M,t[9]=(v-y)*M,t[10]=(1-(f+m))*M,t[11]=0,t[12]=i[0]+S-(t[0]*S+t[4]*E+t[8]*T),t[13]=i[1]+E-(t[1]*S+t[5]*E+t[9]*T),t[14]=i[2]+T-(t[2]*S+t[6]*E+t[10]*T),t[15]=1,t},r.fromQuat=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=i+i,s=n+n,u=r+r,l=i*a,h=n*a,c=n*s,f=r*a,d=r*s,p=r*u,m=o*a,v=o*s,g=o*u;return t[0]=1-c-p,t[1]=h+g,t[2]=f-v,t[3]=0,t[4]=h-g,t[5]=1-l-p,t[6]=d+m,t[7]=0,t[8]=f+v,t[9]=d-m,t[10]=1-l-c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.frustum=function(t,e,i,n,r,o,a){var s=1/(i-e),u=1/(r-n),l=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*u,t[6]=0,t[7]=0,t[8]=(i+e)*s,t[9]=(r+n)*u,t[10]=(a+o)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*l,t[15]=0,t},r.perspective=function(t,e,i,n,r){var o=1/Math.tan(e/2),a=1/(n-r);return t[0]=o/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(r+n)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*r*n*a,t[15]=0,t},r.perspectiveFromFieldOfView=function(t,e,i,n){var r=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(a+s),l=2/(r+o);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=0,t[7]=0,t[8]=-((a-s)*u*.5),t[9]=(r-o)*l*.5,t[10]=n/(i-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*i/(i-n),t[15]=0,t},r.ortho=function(t,e,i,n,r,o,a){var s=1/(e-i),u=1/(n-r),l=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+i)*s,t[13]=(r+n)*u,t[14]=(a+o)*l,t[15]=1,t},r.lookAt=function(t,e,i,o){var a,s,u,l,h,c,f,d,p,m,v=e[0],g=e[1],y=e[2],_=o[0],x=o[1],b=o[2],w=i[0],M=i[1],S=i[2];return Math.abs(v-w)<n.EPSILON&&Math.abs(g-M)<n.EPSILON&&Math.abs(y-S)<n.EPSILON?r.identity(t):(f=v-w,d=g-M,p=y-S,m=1/Math.sqrt(f*f+d*d+p*p),f*=m,d*=m,p*=m,a=x*p-b*d,s=b*f-_*p,u=_*d-x*f,m=Math.sqrt(a*a+s*s+u*u),m?(m=1/m,a*=m,s*=m,u*=m):(a=0,s=0,u=0),l=d*u-p*s,h=p*a-f*u,c=f*s-d*a,m=Math.sqrt(l*l+h*h+c*c),m?(m=1/m,l*=m,h*=m,c*=m):(l=0,h=0,c=0),t[0]=a,t[1]=l,t[2]=f,t[3]=0,t[4]=s,t[5]=h,t[6]=d,t[7]=0,t[8]=u,t[9]=c,t[10]=p,t[11]=0,t[12]=-(a*v+s*g+u*y),t[13]=-(l*v+h*g+c*y),t[14]=-(f*v+d*g+p*y),t[15]=1,t)},r.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},r.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t[6]=e[6]+i[6],t[7]=e[7]+i[7],t[8]=e[8]+i[8],t[9]=e[9]+i[9],t[10]=e[10]+i[10],t[11]=e[11]+i[11],t[12]=e[12]+i[12],t[13]=e[13]+i[13],t[14]=e[14]+i[14],t[15]=e[15]+i[15],t},r.subtract=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t[6]=e[6]-i[6],t[7]=e[7]-i[7],t[8]=e[8]-i[8],t[9]=e[9]-i[9],t[10]=e[10]-i[10],t[11]=e[11]-i[11],t[12]=e[12]-i[12],t[13]=e[13]-i[13],t[14]=e[14]-i[14],t[15]=e[15]-i[15],t},r.sub=r.subtract,r.multiplyScalar=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12]*i,t[13]=e[13]*i,t[14]=e[14]*i,t[15]=e[15]*i,t},r.multiplyScalarAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t[3]=e[3]+i[3]*n,t[4]=e[4]+i[4]*n,t[5]=e[5]+i[5]*n,t[6]=e[6]+i[6]*n,t[7]=e[7]+i[7]*n,t[8]=e[8]+i[8]*n,t[9]=e[9]+i[9]*n,t[10]=e[10]+i[10]*n,t[11]=e[11]+i[11]*n,t[12]=e[12]+i[12]*n,t[13]=e[13]+i[13]*n,t[14]=e[14]+i[14]*n,t[15]=e[15]+i[15]*n,t},r.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},r.equals=function(t,e){var i=t[0],r=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],h=t[7],c=t[8],f=t[9],d=t[10],p=t[11],m=t[12],v=t[13],g=t[14],y=t[15],_=e[0],x=e[1],b=e[2],w=e[3],M=e[4],S=e[5],E=e[6],T=e[7],I=e[8],A=e[9],D=e[10],z=e[11],P=e[12],C=e[13],L=e[14],F=e[15];return Math.abs(i-_)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(r-x)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(o-b)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(b))&&Math.abs(a-w)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(s-M)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(M))&&Math.abs(u-S)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(S))&&Math.abs(l-E)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(E))&&Math.abs(h-T)<=n.EPSILON*Math.max(1,Math.abs(h),Math.abs(T))&&Math.abs(c-I)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(I))&&Math.abs(f-A)<=n.EPSILON*Math.max(1,Math.abs(f),Math.abs(A))&&Math.abs(d-D)<=n.EPSILON*Math.max(1,Math.abs(d),Math.abs(D))&&Math.abs(p-z)<=n.EPSILON*Math.max(1,Math.abs(p),Math.abs(z))&&Math.abs(m-P)<=n.EPSILON*Math.max(1,Math.abs(m),Math.abs(P))&&Math.abs(v-C)<=n.EPSILON*Math.max(1,Math.abs(v),Math.abs(C))&&Math.abs(g-L)<=n.EPSILON*Math.max(1,Math.abs(g),Math.abs(L))&&Math.abs(y-F)<=n.EPSILON*Math.max(1,Math.abs(y),Math.abs(F))},t.exports=r},function(t,e,i){var n=i(10),r=i(43),o=i(44),a=i(45),s={};s.create=function(){var t=new n.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},s.rotationTo=function(){var t=o.create(),e=o.fromValues(1,0,0),i=o.fromValues(0,1,0);return function(n,r,a){var u=o.dot(r,a);return-.999999>u?(o.cross(t,e,r),o.length(t)<1e-6&&o.cross(t,i,r),o.normalize(t,t),s.setAxisAngle(n,t,Math.PI),n):u>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(o.cross(t,r,a),n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=1+u,s.normalize(n,n))}}(),s.setAxes=function(){var t=r.create();return function(e,i,n,r){return t[0]=n[0],t[3]=n[1],t[6]=n[2],t[1]=r[0],t[4]=r[1],t[7]=r[2],t[2]=-i[0],t[5]=-i[1],t[8]=-i[2],s.normalize(e,s.fromMat3(e,t))}}(),s.clone=a.clone,s.fromValues=a.fromValues,s.copy=a.copy,s.set=a.set,s.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},s.setAxisAngle=function(t,e,i){i=.5*i;var n=Math.sin(i);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(i),t},s.getAxisAngle=function(t,e){var i=2*Math.acos(e[3]),n=Math.sin(i/2);return 0!=n?(t[0]=e[0]/n,t[1]=e[1]/n,t[2]=e[2]/n):(t[0]=1,t[1]=0,t[2]=0),i},s.add=a.add,s.multiply=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=i[0],u=i[1],l=i[2],h=i[3];return t[0]=n*h+a*s+r*l-o*u,t[1]=r*h+a*u+o*s-n*l,t[2]=o*h+a*l+n*u-r*s,t[3]=a*h-n*s-r*u-o*l,t},s.mul=s.multiply,s.scale=a.scale,s.rotateX=function(t,e,i){i*=.5;var n=e[0],r=e[1],o=e[2],a=e[3],s=Math.sin(i),u=Math.cos(i);return t[0]=n*u+a*s,t[1]=r*u+o*s,t[2]=o*u-r*s,t[3]=a*u-n*s,t},s.rotateY=function(t,e,i){i*=.5;var n=e[0],r=e[1],o=e[2],a=e[3],s=Math.sin(i),u=Math.cos(i);return t[0]=n*u-o*s,t[1]=r*u+a*s,t[2]=o*u+n*s,t[3]=a*u-r*s,t},s.rotateZ=function(t,e,i){i*=.5;var n=e[0],r=e[1],o=e[2],a=e[3],s=Math.sin(i),u=Math.cos(i);return t[0]=n*u+r*s,t[1]=r*u-n*s,t[2]=o*u+a*s,t[3]=a*u-o*s,t},s.calculateW=function(t,e){var i=e[0],n=e[1],r=e[2];return t[0]=i,t[1]=n,t[2]=r,t[3]=Math.sqrt(Math.abs(1-i*i-n*n-r*r)),t},s.dot=a.dot,s.lerp=a.lerp,s.slerp=function(t,e,i,n){var r,o,a,s,u,l=e[0],h=e[1],c=e[2],f=e[3],d=i[0],p=i[1],m=i[2],v=i[3];return o=l*d+h*p+c*m+f*v,0>o&&(o=-o,d=-d,p=-p,m=-m,v=-v),1-o>1e-6?(r=Math.acos(o),a=Math.sin(r),s=Math.sin((1-n)*r)/a,u=Math.sin(n*r)/a):(s=1-n,u=n),t[0]=s*l+u*d,t[1]=s*h+u*p,t[2]=s*c+u*m,t[3]=s*f+u*v,t},s.sqlerp=function(){var t=s.create(),e=s.create();return function(i,n,r,o,a,u){return s.slerp(t,n,a,u),s.slerp(e,r,o,u),s.slerp(i,t,e,2*u*(1-u)),i}}(),s.invert=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=i*i+n*n+r*r+o*o,s=a?1/a:0;return t[0]=-i*s,t[1]=-n*s,t[2]=-r*s,t[3]=o*s,t},s.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},s.length=a.length,s.len=s.length,s.squaredLength=a.squaredLength,s.sqrLen=s.squaredLength,s.normalize=a.normalize,s.fromMat3=function(t,e){var i,n=e[0]+e[4]+e[8];if(n>0)i=Math.sqrt(n+1),t[3]=.5*i,i=.5/i,t[0]=(e[5]-e[7])*i,t[1]=(e[6]-e[2])*i,t[2]=(e[1]-e[3])*i;else{var r=0;e[4]>e[0]&&(r=1),e[8]>e[3*r+r]&&(r=2);var o=(r+1)%3,a=(r+2)%3;i=Math.sqrt(e[3*r+r]-e[3*o+o]-e[3*a+a]+1),t[r]=.5*i,i=.5/i,t[3]=(e[3*o+a]-e[3*a+o])*i,t[o]=(e[3*o+r]+e[3*r+o])*i,t[a]=(e[3*a+r]+e[3*r+a])*i}return t},s.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},s.exactEquals=a.exactEquals,s.equals=a.equals,t.exports=s},function(t,e,i){var n=i(10),r={};r.create=function(){var t=new n.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},r.clone=function(t){var e=new n.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},r.fromValues=function(t,e){var i=new n.ARRAY_TYPE(2);return i[0]=t,i[1]=e,i},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},r.set=function(t,e,i){return t[0]=e,t[1]=i,t},r.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t},r.subtract=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t},r.sub=r.subtract,r.multiply=function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t},r.mul=r.multiply,r.divide=function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t},r.div=r.divide,r.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},r.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},r.min=function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t},r.max=function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t},r.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},r.scale=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t},r.scaleAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t},r.distance=function(t,e){var i=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(i*i+n*n)},r.dist=r.distance,r.squaredDistance=function(t,e){var i=e[0]-t[0],n=e[1]-t[1];return i*i+n*n},r.sqrDist=r.squaredDistance,r.length=function(t){var e=t[0],i=t[1];return Math.sqrt(e*e+i*i)},r.len=r.length,r.squaredLength=function(t){var e=t[0],i=t[1];return e*e+i*i},r.sqrLen=r.squaredLength,r.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},r.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},r.normalize=function(t,e){var i=e[0],n=e[1],r=i*i+n*n;return r>0&&(r=1/Math.sqrt(r),t[0]=e[0]*r,t[1]=e[1]*r),t},r.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},r.cross=function(t,e,i){var n=e[0]*i[1]-e[1]*i[0];return t[0]=t[1]=0,t[2]=n,t},r.lerp=function(t,e,i,n){var r=e[0],o=e[1];return t[0]=r+n*(i[0]-r),t[1]=o+n*(i[1]-o),t},r.random=function(t,e){e=e||1;var i=2*n.RANDOM()*Math.PI;return t[0]=Math.cos(i)*e,t[1]=Math.sin(i)*e,t},r.transformMat2=function(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[2]*r,t[1]=i[1]*n+i[3]*r,t},r.transformMat2d=function(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[2]*r+i[4],t[1]=i[1]*n+i[3]*r+i[5],t},r.transformMat3=function(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[3]*r+i[6],t[1]=i[1]*n+i[4]*r+i[7],t},r.transformMat4=function(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[4]*r+i[12],t[1]=i[1]*n+i[5]*r+i[13],t},r.forEach=function(){var t=r.create();return function(e,i,n,r,o,a){var s,u;for(i||(i=2),n||(n=0),u=r?Math.min(r*i+n,e.length):e.length,s=n;u>s;s+=i)t[0]=e[s],t[1]=e[s+1],o(t,t,a),e[s]=t[0],e[s+1]=t[1];return e}}(),r.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},r.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},r.equals=function(t,e){var i=t[0],r=t[1],o=e[0],a=e[1];return Math.abs(i-o)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(r-a)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))},t.exports=r},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}},function(t,e){t.exports={$version:8,$root:{version:{required:!0,type:"enum",values:[8],doc:"Stylesheet version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:[-73.9749,40.7736]},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number","default":0,period:360,units:"degrees",doc:"Default bearing, in degrees.  The style bearing will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:29},pitch:{type:"number","default":0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface.  The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50},sources:{required:!0,type:"sources",doc:"Data source specifications.",example:{"mapbox-streets":{type:"vector",url:"mapbox://mapbox.mapbox-streets-v6"}}},sprite:{type:"string",doc:"A base URL for retrieving the sprite image and metadata. The extensions `.png`, `.json` and scale factor `@2x.png` will be automatically appended.",example:"mapbox://sprites/mapbox/bright-v8"},glyphs:{type:"string",doc:"A URL template for loading signed-distance-field glyph sets in PBF format. Valid tokens are {fontstack} and {range}.",example:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},transition:{type:"transition",doc:"A global transition definition to use as a default across properties.",example:{duration:300,delay:0}},layers:{required:!0,type:"array",value:"layer",doc:"Layers will be drawn in the order of this array.",example:[{id:"water",source:"mapbox-streets","source-layer":"water",type:"fill",paint:{"fill-color":"#00ffff"}}]}},sources:{"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For GeoJSON and video sources, a URL must be provided."}},source:["source_tile","source_geojson","source_video","source_image"],source_tile:{type:{required:!0,type:"enum",values:["vector","raster"],doc:"The data type of the tile source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<mapid>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},minzoom:{type:"number","default":0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number","default":22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number","default":512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},"*":{type:"*",doc:"Other keys to configure the data source."}},source_geojson:{type:{required:!0,type:"enum",values:["geojson"],doc:"The data type of the GeoJSON source."},data:{type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number","default":14,doc:"Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels)."},buffer:{type:"number","default":64,doc:"Tile buffer size on each side (higher means fewer rendering artifacts near tile edges but slower performance)."},tolerance:{type:"number","default":3,doc:"Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance)."},cluster:{type:"boolean","default":!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups."},clusterRadius:{type:"number","default":400,doc:"Radius of each cluster when clustering points, relative to 4096 tile."},clusterMaxZoom:{type:"number",doc:"Max zoom to cluster points on. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered)."}},source_video:{type:{required:!0,type:"enum",values:["video"],doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,
doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},source_image:{type:{required:!0,type:"enum",values:["image"],doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image"},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},layer:{id:{type:"string",doc:"Unique layer name.",required:!0},type:{type:"enum",values:["fill","line","symbol","circle","raster","background"],doc:"Rendering type of this layer."},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},ref:{type:"string",doc:"References another layer to copy `type`, `source`, `source-layer`, `minzoom`, `maxzoom`, `filter`, and `layout` properties from. This allows the layers to share processing and be more efficient."},source:{type:"string",doc:"Name of a source description to be used for this layer."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required if the source supports multiple layers."},minzoom:{type:"number",minimum:0,maximum:22,doc:"The minimum zoom level on which the layer gets parsed and appears on."},maxzoom:{type:"number",minimum:0,maximum:22,doc:"The maximum zoom level on which the layer gets parsed and appears on."},interactive:{type:"boolean",doc:"Enable querying of feature data from this layer for interactivity.","default":!1},filter:{type:"filter",doc:"A expression specifying conditions on source features. Only features that match the filter are displayed."},layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."},"paint.*":{type:"paint",doc:"Class-specific paint properties for this layer. The class name is the part after the first dot."}},layout:["layout_fill","layout_line","layout_circle","layout_symbol","layout_raster","layout_background"],layout_background:{visibility:{type:"enum","function":"piecewise-constant",values:["visible","none"],"default":"visible",doc:"The display of this layer. `none` hides this layer."}},layout_fill:{visibility:{type:"enum","function":"piecewise-constant",values:["visible","none"],"default":"visible",doc:"The display of this layer. `none` hides this layer."}},layout_circle:{visibility:{type:"enum","function":"piecewise-constant",values:["visible","none"],"default":"visible",doc:"The display of this layer. `none` hides this layer."}},layout_line:{"line-cap":{type:"enum","function":"piecewise-constant",values:["butt","round","square"],"default":"butt",doc:"The display of line endings."},"line-join":{type:"enum","function":"piecewise-constant",values:["bevel","round","miter"],"default":"miter",doc:"The display of lines when joining."},"line-miter-limit":{type:"number","default":2,"function":"interpolated",doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}]},"line-round-limit":{type:"number","default":1.05,"function":"interpolated",doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}]},visibility:{type:"enum","function":"piecewise-constant",values:["visible","none"],"default":"visible",doc:"The display of this layer. `none` hides this layer."}},layout_symbol:{"symbol-placement":{type:"enum","function":"piecewise-constant",values:["point","line"],"default":"point",doc:"Label placement relative to its geometry. `line` can only be used on LineStrings and Polygons."},"symbol-spacing":{type:"number","default":250,minimum:1,"function":"interpolated",units:"pixels",doc:"Distance between two symbol anchors.",requires:[{"symbol-placement":"line"}]},"symbol-avoid-edges":{type:"boolean","function":"piecewise-constant","default":!1,doc:"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don't have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer."},"icon-allow-overlap":{type:"boolean","function":"piecewise-constant","default":!1,doc:"If true, the icon will be visible even if it collides with other previously drawn symbols.",requires:["icon-image"]},"icon-ignore-placement":{type:"boolean","function":"piecewise-constant","default":!1,doc:"If true, other symbols can be visible even if they collide with the icon.",requires:["icon-image"]},"icon-optional":{type:"boolean","function":"piecewise-constant","default":!1,doc:"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.",requires:["icon-image","text-field"]},"icon-rotation-alignment":{type:"enum","function":"piecewise-constant",values:["map","viewport"],"default":"viewport",doc:"Orientation of icon when map is rotated.",requires:["icon-image"]},"icon-size":{type:"number","default":1,minimum:0,"function":"interpolated",doc:"Scale factor for icon. 1 is original size, 3 triples the size.",requires:["icon-image"]},"icon-image":{type:"string","function":"piecewise-constant",doc:"A string with {tokens} replaced, referencing the data property to pull from.",tokens:!0},"icon-rotate":{type:"number","default":0,period:360,"function":"interpolated",units:"degrees",doc:"Rotates the icon clockwise.",requires:["icon-image"]},"icon-padding":{type:"number","default":2,minimum:0,"function":"interpolated",units:"pixels",doc:"Size of the additional area around the icon bounding box used for detecting symbol collisions.",requires:["icon-image"]},"icon-keep-upright":{type:"boolean","function":"piecewise-constant","default":!1,doc:"If true, the icon may be flipped to prevent it from being rendered upside-down.",requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":"line"}]},"icon-offset":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated",doc:"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"]},"text-rotation-alignment":{type:"enum","function":"piecewise-constant",values:["map","viewport"],"default":"viewport",doc:"Orientation of text when map is rotated.",requires:["text-field"]},"text-field":{type:"string","function":"piecewise-constant","default":"",tokens:!0,doc:"Value to use for a text label. Feature properties are specified using tokens like {field_name}."},"text-font":{type:"array",value:"string","function":"piecewise-constant","default":["Open Sans Regular","Arial Unicode MS Regular"],doc:"Font stack to use for displaying text.",requires:["text-field"]},"text-size":{type:"number","default":16,minimum:0,units:"pixels","function":"interpolated",doc:"Font size.",requires:["text-field"]},"text-max-width":{type:"number","default":10,minimum:0,units:"em","function":"interpolated",doc:"The maximum line width for text wrapping.",requires:["text-field"]},"text-line-height":{type:"number","default":1.2,units:"em","function":"interpolated",doc:"Text leading value for multi-line text.",requires:["text-field"]},"text-letter-spacing":{type:"number","default":0,units:"em","function":"interpolated",doc:"Text tracking amount.",requires:["text-field"]},"text-justify":{type:"enum","function":"piecewise-constant",values:["left","center","right"],"default":"center",doc:"Text justification options.",requires:["text-field"]},"text-anchor":{type:"enum","function":"piecewise-constant",values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],"default":"center",doc:"Part of the text placed closest to the anchor.",requires:["text-field"]},"text-max-angle":{type:"number","default":45,units:"degrees","function":"interpolated",doc:"Maximum angle change between adjacent characters.",requires:["text-field",{"symbol-placement":"line"}]},"text-rotate":{type:"number","default":0,period:360,units:"degrees","function":"interpolated",doc:"Rotates the text clockwise.",requires:["text-field"]},"text-padding":{type:"number","default":2,minimum:0,units:"pixels","function":"interpolated",doc:"Size of the additional area around the text bounding box used for detecting symbol collisions.",requires:["text-field"]},"text-keep-upright":{type:"boolean","function":"piecewise-constant","default":!0,doc:"If true, the text may be flipped vertically to prevent it from being rendered upside-down.",requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":"line"}]},"text-transform":{type:"enum","function":"piecewise-constant",values:["none","uppercase","lowercase"],"default":"none",doc:"Specifies how to capitalize text, similar to the CSS `text-transform` property.",requires:["text-field"]},"text-offset":{type:"array",doc:"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up.",value:"number",units:"ems","function":"interpolated",length:2,"default":[0,0],requires:["text-field"]},"text-allow-overlap":{type:"boolean","function":"piecewise-constant","default":!1,doc:"If true, the text will be visible even if it collides with other previously drawn symbols.",requires:["text-field"]},"text-ignore-placement":{type:"boolean","function":"piecewise-constant","default":!1,doc:"If true, other symbols can be visible even if they collide with the text.",requires:["text-field"]},"text-optional":{type:"boolean","function":"piecewise-constant","default":!1,doc:"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.",requires:["text-field","icon-image"]},visibility:{type:"enum","function":"piecewise-constant",values:["visible","none"],"default":"visible",doc:"The display of this layer. `none` hides this layer."}},layout_raster:{visibility:{type:"enum","function":"piecewise-constant",values:["visible","none"],"default":"visible",doc:"The display of this layer. `none` hides this layer."}},filter:{type:"array",value:"*",doc:"A filter selects specific features from a layer."},filter_operator:{type:"enum",values:["==","!=",">",">=","<","<=","in","!in","all","any","none"],doc:"The filter operator."},geometry_type:{type:"enum",values:["Point","LineString","Polygon"],doc:"The geometry type for the filter to select."},color_operation:{type:"enum",values:["lighten","saturate","spin","fade","mix"],doc:"A color operation to apply."},"function":{stops:{type:"array",required:!0,doc:"An array of stops.",value:"function_stop"},base:{type:"number","default":1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2,doc:"Zoom level and value pair."},paint:["paint_fill","paint_line","paint_circle","paint_symbol","paint_raster","paint_background"],paint_fill:{"fill-antialias":{type:"boolean","function":"piecewise-constant","default":!0,doc:"Whether or not the fill should be antialiased."},"fill-opacity":{type:"number","function":"interpolated","default":1,minimum:0,maximum:1,doc:"The opacity given to the fill color.",transition:!0},"fill-color":{type:"color","default":"#000000",doc:"The color of the fill.","function":"interpolated",transition:!0,requires:[{"!":"fill-pattern"}]},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.","function":"interpolated",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}]},"fill-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated",transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively."},"fill-translate-anchor":{type:"enum","function":"piecewise-constant",values:["map","viewport"],doc:"Control whether the translation is relative to the map (north) or viewport (screen)","default":"map",requires:["fill-translate"]},"fill-pattern":{type:"string","function":"piecewise-constant",transition:!0,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512)."}},paint_line:{"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.","function":"interpolated","default":1,minimum:0,maximum:1,transition:!0},"line-color":{type:"color",doc:"The color with which the line will be drawn.","default":"#000000","function":"interpolated",transition:!0,requires:[{"!":"line-pattern"}]},"line-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated",transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively."},"line-translate-anchor":{type:"enum","function":"piecewise-constant",values:["map","viewport"],doc:"Control whether the translation is relative to the map (north) or viewport (screen)","default":"map",requires:["line-translate"]},"line-width":{type:"number","default":1,minimum:0,"function":"interpolated",transition:!0,units:"pixels",doc:"Stroke thickness."},"line-gap-width":{type:"number","default":0,minimum:0,doc:"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.","function":"interpolated",transition:!0,units:"pixels"},"line-offset":{type:"number","default":0,doc:'The line\'s offset perpendicular to its direction. Values may be positive or negative, where positive indicates "rightwards" (if you were moving in the direction of the line) and negative indicates "leftwards."',"function":"interpolated",transition:!0,units:"pixels"},"line-blur":{type:"number","default":0,minimum:0,"function":"interpolated",transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels."},"line-dasharray":{type:"array",value:"number","function":"piecewise-constant",doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width.",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}]},"line-pattern":{type:"string","function":"piecewise-constant",transition:!0,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512)."}},paint_circle:{"circle-radius":{type:"number","default":5,minimum:0,"function":"interpolated",transition:!0,units:"pixels",doc:"Circle radius."},"circle-color":{type:"color","default":"#000000",doc:"The color of the circle.","function":"interpolated",transition:!0},"circle-blur":{type:"number","default":0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.","function":"interpolated",transition:!0},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.","default":1,minimum:0,maximum:1,"function":"interpolated",transition:!0},"circle-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated",transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively."},"circle-translate-anchor":{type:"enum","function":"piecewise-constant",values:["map","viewport"],doc:"Control whether the translation is relative to the map (north) or viewport (screen)","default":"map",requires:["circle-translate"]}},paint_symbol:{"icon-opacity":{doc:"The opacity at which the icon will be drawn.",type:"number","default":1,minimum:0,maximum:1,"function":"interpolated",transition:!0,requires:["icon-image"]},"icon-color":{type:"color","default":"#000000","function":"interpolated",transition:!0,doc:"The color of the icon. This can only be used with sdf icons.",requires:["icon-image"]},"icon-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)","function":"interpolated",transition:!0,doc:"The color of the icon's halo. Icon halos can only be used with sdf icons.",requires:["icon-image"]},"icon-halo-width":{type:"number","default":0,minimum:0,"function":"interpolated",transition:!0,units:"pixels",doc:"Distance of halo to the icon outline.",requires:["icon-image"]},"icon-halo-blur":{type:"number","default":0,minimum:0,"function":"interpolated",transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"]},"icon-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated",transition:!0,units:"pixels",doc:"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"]},"icon-translate-anchor":{type:"enum","function":"piecewise-constant",values:["map","viewport"],doc:"Control whether the translation is relative to the map (north) or viewport (screen).","default":"map",requires:["icon-image","icon-translate"]},"text-opacity":{type:"number",doc:"The opacity at which the text will be drawn.","default":1,minimum:0,maximum:1,"function":"interpolated",transition:!0,requires:["text-field"]},"text-color":{type:"color",doc:"The color with which the text will be drawn.","default":"#000000","function":"interpolated",transition:!0,requires:["text-field"]},"text-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)","function":"interpolated",transition:!0,doc:"The color of the text's halo, which helps it stand out from backgrounds.",requires:["text-field"]},"text-halo-width":{type:"number","default":0,minimum:0,"function":"interpolated",transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"]},"text-halo-blur":{type:"number","default":0,minimum:0,"function":"interpolated",transition:!0,units:"pixels",doc:"The halo's fadeout distance towards the outside.",requires:["text-field"]},"text-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated",transition:!0,units:"pixels",doc:"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"]},"text-translate-anchor":{type:"enum","function":"piecewise-constant",values:["map","viewport"],doc:"Control whether the translation is relative to the map (north) or viewport (screen).","default":"map",requires:["text-field","text-translate"]}},paint_raster:{"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.","default":1,minimum:0,maximum:1,"function":"interpolated",transition:!0},"raster-hue-rotate":{type:"number","default":0,period:360,"function":"interpolated",transition:!0,units:"degrees",doc:"Rotates hues around the color wheel."},"raster-brightness-min":{type:"number","function":"interpolated",doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.","default":0,minimum:0,maximum:1,transition:!0},"raster-brightness-max":{type:"number","function":"interpolated",doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.","default":1,minimum:0,maximum:1,transition:!0},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.","default":0,minimum:-1,maximum:1,"function":"interpolated",transition:!0},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.","default":0,minimum:-1,maximum:1,"function":"interpolated",transition:!0},"raster-fade-duration":{type:"number","default":300,minimum:0,"function":"interpolated",transition:!0,units:"milliseconds",doc:"Fade duration when a new tile is added."}},paint_background:{"background-color":{type:"color","default":"#000000",doc:"The color with which the background will be drawn.","function":"interpolated",transition:!0,requires:[{"!":"background-pattern"}]},"background-pattern":{type:"string","function":"piecewise-constant",transition:!0,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512)."},"background-opacity":{type:"number","default":1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.","function":"interpolated",transition:!0}},transition:{duration:{type:"number","default":300,minimum:0,units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number","default":0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}}}},function(t,e){t.exports={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number","default":0,period:360,units:"degrees"},pitch:{type:"number","default":0,units:"degrees"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_tile","source_geojson","source_video","source_image"],source_tile:{type:{required:!0,type:"enum",values:["vector","raster"]},url:{type:"string"},tiles:{type:"array",value:"string"},minzoom:{type:"number","default":0},maxzoom:{type:"number","default":22},tileSize:{type:"number","default":512,units:"pixels"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:["geojson"]},data:{type:"*"},maxzoom:{type:"number","default":14},buffer:{type:"number","default":64},tolerance:{type:"number","default":3},cluster:{type:"boolean","default":!1},clusterRadius:{type:"number","default":400},clusterMaxZoom:{type:"number"}},source_video:{type:{required:!0,type:"enum",values:["video"]},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:["image"]},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:["fill","line","symbol","circle","raster","background"]},metadata:{type:"*"},ref:{type:"string"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:22},maxzoom:{type:"number",minimum:0,maximum:22},interactive:{type:"boolean","default":!1},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"},"paint.*":{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_symbol","layout_raster","layout_background"],layout_background:{visibility:{type:"enum","function":"piecewise-constant",values:["visible","none"],"default":"visible"}},layout_fill:{visibility:{type:"enum","function":"piecewise-constant",values:["visible","none"],"default":"visible"}},layout_circle:{visibility:{type:"enum","function":"piecewise-constant",values:["visible","none"],"default":"visible"}},layout_line:{"line-cap":{type:"enum","function":"piecewise-constant",values:["butt","round","square"],"default":"butt"},"line-join":{type:"enum","function":"piecewise-constant",values:["bevel","round","miter"],"default":"miter"},"line-miter-limit":{type:"number","default":2,"function":"interpolated",requires:[{"line-join":"miter"}]},"line-round-limit":{type:"number","default":1.05,"function":"interpolated",requires:[{"line-join":"round"}]},visibility:{type:"enum","function":"piecewise-constant",values:["visible","none"],"default":"visible"}},layout_symbol:{"symbol-placement":{type:"enum","function":"piecewise-constant",values:["point","line"],"default":"point"},"symbol-spacing":{type:"number","default":250,minimum:1,"function":"interpolated",units:"pixels",requires:[{"symbol-placement":"line"}]},"symbol-avoid-edges":{type:"boolean","function":"piecewise-constant","default":!1},"icon-allow-overlap":{type:"boolean","function":"piecewise-constant","default":!1,requires:["icon-image"]},"icon-ignore-placement":{type:"boolean","function":"piecewise-constant","default":!1,requires:["icon-image"]},"icon-optional":{type:"boolean","function":"piecewise-constant","default":!1,requires:["icon-image","text-field"]},"icon-rotation-alignment":{type:"enum","function":"piecewise-constant",values:["map","viewport"],"default":"viewport",requires:["icon-image"]},"icon-size":{type:"number","default":1,minimum:0,"function":"interpolated",requires:["icon-image"]},"icon-image":{type:"string","function":"piecewise-constant",tokens:!0},"icon-rotate":{type:"number","default":0,period:360,"function":"interpolated",units:"degrees",requires:["icon-image"]},"icon-padding":{type:"number","default":2,minimum:0,"function":"interpolated",units:"pixels",requires:["icon-image"]},"icon-keep-upright":{type:"boolean","function":"piecewise-constant","default":!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":"line"}]},"icon-offset":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated",requires:["icon-image"]},"text-rotation-alignment":{type:"enum","function":"piecewise-constant",values:["map","viewport"],"default":"viewport",requires:["text-field"]},"text-field":{type:"string","function":"piecewise-constant","default":"",tokens:!0},"text-font":{type:"array",value:"string","function":"piecewise-constant","default":["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"]},"text-size":{type:"number","default":16,minimum:0,units:"pixels","function":"interpolated",requires:["text-field"]},"text-max-width":{type:"number","default":10,minimum:0,units:"em","function":"interpolated",requires:["text-field"]},"text-line-height":{type:"number","default":1.2,units:"em","function":"interpolated",requires:["text-field"]},"text-letter-spacing":{type:"number","default":0,units:"em","function":"interpolated",requires:["text-field"]},"text-justify":{type:"enum","function":"piecewise-constant",values:["left","center","right"],"default":"center",requires:["text-field"]},"text-anchor":{type:"enum","function":"piecewise-constant",values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],"default":"center",requires:["text-field"]},"text-max-angle":{type:"number","default":45,units:"degrees","function":"interpolated",requires:["text-field",{"symbol-placement":"line"}]},"text-rotate":{type:"number","default":0,period:360,units:"degrees","function":"interpolated",requires:["text-field"]},"text-padding":{type:"number","default":2,minimum:0,units:"pixels","function":"interpolated",requires:["text-field"]},"text-keep-upright":{type:"boolean","function":"piecewise-constant","default":!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":"line"}]},"text-transform":{type:"enum","function":"piecewise-constant",values:["none","uppercase","lowercase"],"default":"none",requires:["text-field"]},"text-offset":{type:"array",value:"number",units:"ems","function":"interpolated",length:2,"default":[0,0],requires:["text-field"]},"text-allow-overlap":{type:"boolean","function":"piecewise-constant","default":!1,requires:["text-field"]},"text-ignore-placement":{type:"boolean","function":"piecewise-constant","default":!1,requires:["text-field"]},"text-optional":{type:"boolean","function":"piecewise-constant","default":!1,requires:["text-field","icon-image"]},visibility:{type:"enum","function":"piecewise-constant",values:["visible","none"],"default":"visible"}},layout_raster:{visibility:{type:"enum","function":"piecewise-constant",values:["visible","none"],"default":"visible"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:["==","!=",">",">=","<","<=","in","!in","all","any","none"]},geometry_type:{type:"enum",values:["Point","LineString","Polygon"]},color_operation:{type:"enum",values:["lighten","saturate","spin","fade","mix"]},"function":{stops:{type:"array",required:!0,value:"function_stop"},base:{type:"number","default":1,minimum:0}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},paint:["paint_fill","paint_line","paint_circle","paint_symbol","paint_raster","paint_background"],paint_fill:{"fill-antialias":{type:"boolean","function":"piecewise-constant","default":!0},"fill-opacity":{type:"number","function":"interpolated","default":1,minimum:0,maximum:1,transition:!0},"fill-color":{type:"color","default":"#000000","function":"interpolated",transition:!0,requires:[{"!":"fill-pattern"}]},"fill-outline-color":{type:"color","function":"interpolated",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}]},"fill-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated",transition:!0,units:"pixels"},"fill-translate-anchor":{type:"enum","function":"piecewise-constant",values:["map","viewport"],"default":"map",requires:["fill-translate"]},"fill-pattern":{type:"string","function":"piecewise-constant",transition:!0}},paint_line:{"line-opacity":{type:"number","function":"interpolated","default":1,minimum:0,maximum:1,transition:!0},"line-color":{type:"color","default":"#000000","function":"interpolated",transition:!0,requires:[{"!":"line-pattern"}]},"line-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated",transition:!0,units:"pixels"},"line-translate-anchor":{type:"enum","function":"piecewise-constant",values:["map","viewport"],"default":"map",requires:["line-translate"]},"line-width":{type:"number","default":1,minimum:0,"function":"interpolated",transition:!0,units:"pixels"},"line-gap-width":{type:"number","default":0,minimum:0,"function":"interpolated",transition:!0,units:"pixels"},"line-offset":{type:"number","default":0,"function":"interpolated",transition:!0,units:"pixels"},"line-blur":{type:"number","default":0,minimum:0,"function":"interpolated",transition:!0,units:"pixels"},"line-dasharray":{type:"array",value:"number","function":"piecewise-constant",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}]},"line-pattern":{type:"string","function":"piecewise-constant",transition:!0}},paint_circle:{"circle-radius":{type:"number","default":5,minimum:0,"function":"interpolated",transition:!0,units:"pixels"},"circle-color":{type:"color","default":"#000000","function":"interpolated",transition:!0},"circle-blur":{type:"number","default":0,"function":"interpolated",transition:!0},"circle-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated",transition:!0},"circle-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated",transition:!0,units:"pixels"},"circle-translate-anchor":{type:"enum","function":"piecewise-constant",values:["map","viewport"],"default":"map",requires:["circle-translate"]}},paint_symbol:{"icon-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated",transition:!0,requires:["icon-image"]},"icon-color":{type:"color","default":"#000000","function":"interpolated",transition:!0,requires:["icon-image"]},"icon-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)","function":"interpolated",transition:!0,requires:["icon-image"]},"icon-halo-width":{type:"number","default":0,minimum:0,"function":"interpolated",transition:!0,units:"pixels",requires:["icon-image"]},"icon-halo-blur":{type:"number","default":0,minimum:0,"function":"interpolated",transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated",transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate-anchor":{
type:"enum","function":"piecewise-constant",values:["map","viewport"],"default":"map",requires:["icon-image","icon-translate"]},"text-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated",transition:!0,requires:["text-field"]},"text-color":{type:"color","default":"#000000","function":"interpolated",transition:!0,requires:["text-field"]},"text-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)","function":"interpolated",transition:!0,requires:["text-field"]},"text-halo-width":{type:"number","default":0,minimum:0,"function":"interpolated",transition:!0,units:"pixels",requires:["text-field"]},"text-halo-blur":{type:"number","default":0,minimum:0,"function":"interpolated",transition:!0,units:"pixels",requires:["text-field"]},"text-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated",transition:!0,units:"pixels",requires:["text-field"]},"text-translate-anchor":{type:"enum","function":"piecewise-constant",values:["map","viewport"],"default":"map",requires:["text-field","text-translate"]}},paint_raster:{"raster-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated",transition:!0},"raster-hue-rotate":{type:"number","default":0,period:360,"function":"interpolated",transition:!0,units:"degrees"},"raster-brightness-min":{type:"number","function":"interpolated","default":0,minimum:0,maximum:1,transition:!0},"raster-brightness-max":{type:"number","function":"interpolated","default":1,minimum:0,maximum:1,transition:!0},"raster-saturation":{type:"number","default":0,minimum:-1,maximum:1,"function":"interpolated",transition:!0},"raster-contrast":{type:"number","default":0,minimum:-1,maximum:1,"function":"interpolated",transition:!0},"raster-fade-duration":{type:"number","default":300,minimum:0,"function":"interpolated",transition:!0,units:"milliseconds"}},paint_background:{"background-color":{type:"color","default":"#000000","function":"interpolated",transition:!0,requires:[{"!":"background-pattern"}]},"background-pattern":{type:"string","function":"piecewise-constant",transition:!0},"background-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated",transition:!0}},transition:{duration:{type:"number","default":300,minimum:0,units:"milliseconds"},delay:{type:"number","default":0,minimum:0,units:"milliseconds"}}}},function(t,e){"use strict";function i(t){return function(){return t}}function n(t,e,i){return t*(1-i)+e*i}function r(t,e,i){for(var r=[],o=0;o<t.length;o++)r[o]=n(t[o],e[o],i);return r}e.interpolated=function(t){if(!t.stops)return i(t);var e=t.stops,o=t.base||1,a=Array.isArray(e[0][1])?r:n;return function(t){for(var i,n,r=0;r<e.length;r++){var s=e[r];if(s[0]<=t&&(i=s),s[0]>t){n=s;break}}if(i&&n){var u=n[0]-i[0],l=t-i[0],h=1===o?l/u:(Math.pow(o,l)-1)/(Math.pow(o,u)-1);return a(i[1],n[1],h)}return i?i[1]:n?n[1]:void 0}},e["piecewise-constant"]=function(t){if(!t.stops)return i(t);var e=t.stops;return function(t){for(var i=0;i<e.length;i++)if(e[i][0]>t)return e[0===i?0:i-1][1];return e[e.length-1][1]}}},function(t,e,i){"use strict";var n=i(8),r=i(4);t.exports=function(t){var e=t.value,i=t.key,o=n(e);return"boolean"!==o?[new r(i,e,"boolean expected, %s found",o)]:[]}},function(t,e,i){"use strict";var n=i(4),r=i(8),o=i(41).parseCSSColor;t.exports=function(t){var e=t.key,i=t.value,a=r(i);return"string"!==a?[new n(e,i,"color expected, %s found",a)]:null===o(i)?[new n(e,i,'color expected, "%s" found',i)]:[]}},function(t,e,i){"use strict";var n=i(8),r=i(4);t.exports=function(t){var e=t.key,i=t.value,o=t.valueSpec,a=n(i);return"number"!==a?[new r(e,i,"number expected, %s found",a)]:"minimum"in o&&i<o.minimum?[new r(e,i,"%s is less than the minimum value %s",i,o.minimum)]:"maximum"in o&&i>o.maximum?[new r(e,i,"%s is greater than the maximum value %s",i,o.maximum)]:[]}},function(t,e,i){"use strict";var n=i(8),r=i(4);t.exports=function(t){var e=t.value,i=t.key,o=n(e);return"string"!==o?[new r(i,e,"string expected, %s found",o)]:[]}},function(t,e,i){"use strict";function n(t,e){e=e||u;var i=[];return i=i.concat(s({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t})),e.$version>7&&t.constants&&(i=i.concat(a({key:"constants",value:t.constants,style:t,styleSpec:e}))),r(i)}function r(t){return[].concat(t).sort(function(t,e){return t.line-e.line})}function o(t){return function(){return r(t.apply(this,arguments))}}var a=i(49),s=i(14),u=i(106);n.source=o(i(54)),n.layer=o(i(51)),n.filter=o(i(27)),n.paintProperty=o(i(53)),n.layoutProperty=o(i(52)),t.exports=n},function(t,e,i){t.exports=i(97)},function(t,e,i){t.exports=i(98)},function(t,e,i){"use strict";function n(){r.apply(this,arguments)}var r=i(3),o=i(1),a=i(18),s=r.EXTENT;t.exports=n,n.prototype=o.inherit(r,{}),n.prototype.shaderInterfaces={circle:{vertexBuffer:!0,elementBuffer:!0,attributeArgs:["x","y","extrudeX","extrudeY"],attributes:[{name:"pos",components:2,type:r.AttributeType.SHORT,value:["(x * 2) + ((extrudeX + 1) / 2)","(y * 2) + ((extrudeY + 1) / 2)"]}]}},n.prototype.addFeature=function(t){for(var e=a(t),i=0;i<e.length;i++)for(var n=e[i],r=0;r<n.length;r++){var o=this.makeRoomFor("circle",4),u=n[r].x,l=n[r].y;if(!(0>u||u>=s||0>l||l>=s)){var h=this.addCircleVertex(u,l,-1,-1)-o.vertexStartIndex;this.addCircleVertex(u,l,1,-1),this.addCircleVertex(u,l,1,1),this.addCircleVertex(u,l,-1,1),o.vertexLength+=4,this.addCircleElement(h,h+1,h+2),this.addCircleElement(h,h+3,h+2),o.elementLength+=2}}}},function(t,e,i){"use strict";function n(){r.apply(this,arguments)}var r=i(3),o=i(1),a=i(18);t.exports=n,n.prototype=o.inherit(r,{}),n.prototype.shaderInterfaces={fill:{vertexBuffer:!0,elementBuffer:!0,secondElementBuffer:!0,secondElementBufferComponents:2,attributeArgs:["x","y"],attributes:[{name:"pos",components:2,type:r.AttributeType.SHORT,value:["x","y"]}]}},n.prototype.addFeature=function(t){for(var e=a(t),i=0;i<e.length;i++)this.addFill(e[i])},n.prototype.addFill=function(t){if(!(t.length<3))for(var e,i,n=t.length,r=this.makeRoomFor("fill",n+1),o=0;o<t.length;o++){var a=t[o],s=this.addFillVertex(a.x,a.y)-r.vertexStartIndex;r.vertexLength++,0===o&&(e=s),o>=2&&(a.x!==t[0].x||a.y!==t[0].y)&&(this.addFillElement(e,i,s),r.elementLength++),o>=1&&(this.addFillSecondElement(i,s),r.secondElementLength++),i=s}}},function(t,e,i){"use strict";function n(){r.apply(this,arguments)}var r=i(3),o=i(1),a=i(18),s=r.EXTENT,u=63,l=Math.cos(37.5*(Math.PI/180)),h=15,c=14,f=.5,d=Math.pow(2,c)/f;t.exports=n,n.prototype=o.inherit(r,{}),n.prototype.shaderInterfaces={line:{vertexBuffer:!0,elementBuffer:!0,attributeArgs:["point","extrude","tx","ty","dir","linesofar"],attributes:[{name:"pos",components:2,type:r.AttributeType.SHORT,value:["(point.x << 1) | tx","(point.y << 1) | ty"]},{name:"data",components:4,type:r.AttributeType.UNSIGNED_BYTE,value:["Math.round("+u+" * extrude.x) + 128","Math.round("+u+" * extrude.y) + 128","((dir === 0 ? 0 : (dir < 0 ? -1 : 1)) + 1) | (((linesofar * "+f+") & 0x3F) << 2)","(linesofar * "+f+") >> 6"]}]}},n.prototype.addFeature=function(t){for(var e=a(t),i=0;i<e.length;i++)this.addLine(e[i],this.layer.layout["line-join"],this.layer.layout["line-cap"],this.layer.layout["line-miter-limit"],this.layer.layout["line-round-limit"])},n.prototype.addLine=function(t,e,i,n,r){for(var o=t.length;o>2&&t[o-1].equals(t[o-2]);)o--;if(!(t.length<2)){"bevel"===e&&(n=1.05);var a=h*(s/(512*this.overscaling)),u=t[0],c=t[o-1],f=u.equals(c);if(this.makeRoomFor("line",10*o),2!==o||!f){this.distance=0;var d,p,m,v,g,y,_,x=i,b=f?"butt":i,w=!0;this.e1=this.e2=this.e3=-1,f&&(d=t[o-2],g=u.sub(d)._unit()._perp());for(var M=0;o>M;M++)if(m=f&&M===o-1?t[1]:t[M+1],!m||!t[M].equals(m)){g&&(v=g),d&&(p=d),d=t[M],g=m?m.sub(d)._unit()._perp():v,v=v||g;var S=v.add(g)._unit(),E=S.x*g.x+S.y*g.y,T=1/E,I=l>E&&p&&m;if(I&&M>0){var A=d.dist(p);if(A>2*a){var D=d.sub(d.sub(p)._mult(a/A)._round());this.distance+=D.dist(p),this.addCurrentVertex(D,this.distance,v.mult(1),0,0,!1),p=D}}var z=p&&m,P=z?e:m?x:b;if(z&&"round"===P&&(r>T?P="miter":2>=T&&(P="fakeround")),"miter"===P&&T>n&&(P="bevel"),"bevel"===P&&(T>2&&(P="flipbevel"),n>T&&(P="miter")),p&&(this.distance+=d.dist(p)),"miter"===P)S._mult(T),this.addCurrentVertex(d,this.distance,S,0,0,!1);else if("flipbevel"===P){if(T>100)S=g.clone();else{var C=v.x*g.y-v.y*g.x>0?-1:1,L=T*v.add(g).mag()/v.sub(g).mag();S._perp()._mult(L*C)}this.addCurrentVertex(d,this.distance,S,0,0,!1),this.addCurrentVertex(d,this.distance,S.mult(-1),0,0,!1)}else if("bevel"===P||"fakeround"===P){var F=v.x*g.y-v.y*g.x>0,R=-Math.sqrt(T*T-1);if(F?(_=0,y=R):(y=0,_=R),w||this.addCurrentVertex(d,this.distance,v,y,_,!1),"fakeround"===P){for(var k,B=Math.floor(8*(.5-(E-.5))),O=0;B>O;O++)k=g.mult((O+1)/(B+1))._add(v)._unit(),this.addPieSliceVertex(d,this.distance,k,F);this.addPieSliceVertex(d,this.distance,S,F);for(var N=B-1;N>=0;N--)k=v.mult((N+1)/(B+1))._add(g)._unit(),this.addPieSliceVertex(d,this.distance,k,F)}m&&this.addCurrentVertex(d,this.distance,g,-y,-_,!1)}else"butt"===P?(w||this.addCurrentVertex(d,this.distance,v,0,0,!1),m&&this.addCurrentVertex(d,this.distance,g,0,0,!1)):"square"===P?(w||(this.addCurrentVertex(d,this.distance,v,1,1,!1),this.e1=this.e2=-1),m&&this.addCurrentVertex(d,this.distance,g,-1,-1,!1)):"round"===P&&(w||(this.addCurrentVertex(d,this.distance,v,0,0,!1),this.addCurrentVertex(d,this.distance,v,1,1,!0),this.e1=this.e2=-1),m&&(this.addCurrentVertex(d,this.distance,g,-1,-1,!0),this.addCurrentVertex(d,this.distance,g,0,0,!1)));if(I&&o-1>M){var j=d.dist(m);if(j>2*a){var U=d.add(m.sub(d)._mult(a/j)._round());this.distance+=U.dist(d),this.addCurrentVertex(U,this.distance,g.mult(1),0,0,!1),d=U}}w=!1}}}},n.prototype.addCurrentVertex=function(t,e,i,n,r,o){var a,s=o?1:0,u=this.elementGroups.line[this.elementGroups.line.length-1];u.vertexLength+=2,a=i.clone(),n&&a._sub(i.perp()._mult(n)),this.e3=this.addLineVertex(t,a,s,0,n,e)-u.vertexStartIndex,this.e1>=0&&this.e2>=0&&(this.addLineElement(this.e1,this.e2,this.e3),u.elementLength++),this.e1=this.e2,this.e2=this.e3,a=i.mult(-1),r&&a._sub(i.perp()._mult(r)),this.e3=this.addLineVertex(t,a,s,1,-r,e)-u.vertexStartIndex,this.e1>=0&&this.e2>=0&&(this.addLineElement(this.e1,this.e2,this.e3),u.elementLength++),this.e1=this.e2,this.e2=this.e3,e>d/2&&(this.distance=0,this.addCurrentVertex(t,this.distance,i,n,r,o))},n.prototype.addPieSliceVertex=function(t,e,i,n){var r=n?1:0;i=i.mult(n?-1:1);var o=this.elementGroups.line[this.elementGroups.line.length-1];this.e3=this.addLineVertex(t,i,0,r,0,e)-o.vertexStartIndex,o.vertexLength++,this.e1>=0&&this.e2>=0&&(this.addLineElement(this.e1,this.e2,this.e3),o.elementLength++),n?this.e2=this.e3:this.e1=this.e3}},function(t,e,i){(function(e){"use strict";function n(t){a.apply(this,arguments),this.collisionDebug=t.collisionDebug,this.overscaling=t.overscaling}function r(t,e,i,n,r,o,a,s,u,l,h,c,f){this.x=t.x,this.y=t.y,this.index=a,this.hasText=!!i,this.hasIcon=!!n,this.hasText&&(this.glyphQuads=o?x(t,i,s,e,r,l):[],this.textCollisionFeature=new g(e,t,i,s,u,l,!1)),this.hasIcon&&(this.iconQuads=o?b(t,n,h,e,r,f):[],this.iconCollisionFeature=new g(e,t,n,h,c,f,!0))}var o=i(2),a=i(3),s=i(61),u=i(145),l=i(67),h=i(149),c=i(151),f=i(150),d=i(148),p=i(142),m=i(1),v=i(18),g=i(143),y=c.shapeText,_=c.shapeIcon,x=h.getGlyphQuads,b=h.getIconQuads,w=a.EXTENT;t.exports=n,n.prototype=m.inherit(a,{});var M=["x","y","ox","oy","tx","ty","minzoom","maxzoom","labelminzoom"],S=[{name:"pos",components:2,type:a.AttributeType.SHORT,value:["x","y"]},{name:"offset",components:2,type:a.AttributeType.SHORT,value:["Math.round(ox * 64)","Math.round(oy * 64)"]},{name:"data1",components:4,type:a.AttributeType.UNSIGNED_BYTE,value:["tx / 4","ty / 4","(labelminzoom || 0) * 10","0"]},{name:"data2",components:2,type:a.AttributeType.UNSIGNED_BYTE,value:["(minzoom || 0) * 10","Math.min(maxzoom || 25, 25) * 10"]}];n.prototype.shaderInterfaces={glyph:{vertexBuffer:!0,elementBuffer:!0,attributeArgs:M,attributes:S},icon:{vertexBuffer:!0,elementBuffer:!0,attributeArgs:M,attributes:S},collisionBox:{vertexBuffer:!0,attributeArgs:["point","extrude","maxZoom","placementZoom"],attributes:[{name:"pos",components:2,type:a.AttributeType.SHORT,value:["point.x","point.y"]},{name:"extrude",components:2,type:a.AttributeType.SHORT,value:["Math.round(extrude.x)","Math.round(extrude.y)"]},{name:"data",components:2,type:a.AttributeType.UNSIGNED_BYTE,value:["maxZoom * 10","placementZoom * 10"]}]}},n.prototype.populateBuffers=function(t,i,n){this.createStyleLayer(),this.createBuffers();var r={lastIntegerZoom:1/0,lastIntegerZoomTime:0,lastZoom:0};this.adjustedTextMaxSize=this.layer.getLayoutValue("text-size",18,r),this.adjustedTextSize=this.layer.getLayoutValue("text-size",this.zoom+1,r),this.adjustedIconMaxSize=this.layer.getLayoutValue("icon-size",18,r),this.adjustedIconSize=this.layer.getLayoutValue("icon-size",this.zoom+1,r);var o=512*this.overscaling;this.tilePixelRatio=w/o,this.compareText={},this.symbolInstances=[],this.iconsNeedLinear=!1;var a=this.layer.layout,s=this.features,u=this.textFeatures,h=.5,c=.5;switch(a["text-anchor"]){case"right":case"top-right":case"bottom-right":h=1;break;case"left":case"top-left":case"bottom-left":h=0}switch(a["text-anchor"]){case"bottom":case"bottom-right":case"bottom-left":c=1;break;case"top":case"top-right":case"top-left":c=0}for(var f="right"===a["text-justify"]?1:"left"===a["text-justify"]?0:.5,p=24,m=a["text-line-height"]*p,g="line"!==a["symbol-placement"]?a["text-max-width"]*p:0,x=a["text-letter-spacing"]*p,b=[a["text-offset"][0]*p,a["text-offset"][1]*p],M=a["text-font"].join(","),S=[],E=0;E<s.length;E++)S.push(v(s[E]));if("line"===a["symbol-placement"]){var T=d(s,u,S);S=T.geometries,s=T.features,u=T.textFeatures}for(var I,A,D=0;D<s.length;D++)if(S[D]){if(I=u[D]?y(u[D],i[M],g,m,h,c,f,x,b):null,a["icon-image"]){var z=l(s[D].properties,a["icon-image"]),P=n[z];A=_(P,a),P&&(void 0===this.sdfIcons?this.sdfIcons=P.sdf:this.sdfIcons!==P.sdf&&e.warn("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),1!==P.pixelRatio&&(this.iconsNeedLinear=!0))}else A=null;(I||A)&&this.addFeature(S[D],I,A)}this.placeFeatures(t,this.collisionDebug),this.trimBuffers()},n.prototype.addFeature=function(t,e,i){var n=this.layer.layout,o=24,a=this.adjustedTextSize/o,l=void 0!==this.adjustedTextMaxSize?this.adjustedTextMaxSize:this.adjustedTextSize,h=this.tilePixelRatio*a,c=this.tilePixelRatio*l/o,f=this.tilePixelRatio*this.adjustedIconSize,d=this.tilePixelRatio*n["symbol-spacing"],m=n["symbol-avoid-edges"],v=n["text-padding"]*this.tilePixelRatio,g=n["icon-padding"]*this.tilePixelRatio,y=n["text-max-angle"]/180*Math.PI,_="map"===n["text-rotation-alignment"]&&"line"===n["symbol-placement"],x="map"===n["icon-rotation-alignment"]&&"line"===n["symbol-placement"],b=n["text-allow-overlap"]||n["icon-allow-overlap"]||n["text-ignore-placement"]||n["icon-ignore-placement"],M="line"===n["symbol-placement"],S=d/2;M&&(t=p(t,0,0,w,w));for(var E=0;E<t.length;E++){var T,I=t[E];T=M?u(I,d,y,e,i,o,c,this.overscaling,w):[new s(I[0].x,I[0].y,0)];for(var A=0,D=T.length;D>A;A++){var z=T[A];if(!(e&&M&&this.anchorIsTooClose(e.text,S,z))){var P=!(z.x<0||z.x>w||z.y<0||z.y>w);if(!m||P){var C=P||b;this.symbolInstances.push(new r(z,I,e,i,n,C,this.symbolInstances.length,h,v,_,f,g,x))}}}}},n.prototype.anchorIsTooClose=function(t,e,i){var n=this.compareText;if(t in n){for(var r=n[t],o=r.length-1;o>=0;o--)if(i.dist(r[o])<e)return!0}else n[t]=[];return n[t].push(i),!1},n.prototype.placeFeatures=function(t,e){var i=this.elementGroups={glyph:[],icon:[],sdfIcons:this.sdfIcons,iconsNeedLinear:this.iconsNeedLinear},n=this.layer.layout,r=t.maxScale;i.glyph.adjustedSize=this.adjustedTextSize,i.icon.adjustedSize=this.adjustedIconSize,i.glyph.fontstack=n["text-font"].join(",");var o="map"===n["text-rotation-alignment"]&&"line"===n["symbol-placement"],a="map"===n["icon-rotation-alignment"]&&"line"===n["symbol-placement"],s=n["text-allow-overlap"]||n["icon-allow-overlap"]||n["text-ignore-placement"]||n["icon-ignore-placement"];if(s){var u=t.angle,l=Math.sin(u),h=Math.cos(u);this.symbolInstances.sort(function(t,e){var i=l*t.x+h*t.y|0,n=l*e.x+h*e.y|0;return i-n||e.index-t.index})}for(var c=0;c<this.symbolInstances.length;c++){var f=this.symbolInstances[c],d=f.hasText,p=f.hasIcon,m=n["text-optional"]||!d,v=n["icon-optional"]||!p,g=d?t.placeCollisionFeature(f.textCollisionFeature,n["text-allow-overlap"],n["symbol-avoid-edges"]):t.minScale,y=p?t.placeCollisionFeature(f.iconCollisionFeature,n["icon-allow-overlap"],n["symbol-avoid-edges"]):t.minScale;m||v?!v&&g?g=Math.max(y,g):!m&&y&&(y=Math.max(y,g)):y=g=Math.max(y,g),d&&(n["text-ignore-placement"]||t.insertCollisionFeature(f.textCollisionFeature,g),r>=g&&this.addSymbols("glyph",f.glyphQuads,g,n["text-keep-upright"],o,t.angle)),p&&(n["icon-ignore-placement"]||t.insertCollisionFeature(f.iconCollisionFeature,y),r>=y&&this.addSymbols("icon",f.iconQuads,y,n["icon-keep-upright"],a,t.angle))}e&&this.addToDebugBuffers(t)},n.prototype.addSymbols=function(t,e,i,n,r,o){for(var a=this.makeRoomFor(t,4*e.length),s=this[this.getAddMethodName(t,"element")].bind(this),u=this[this.getAddMethodName(t,"vertex")].bind(this),l=this.zoom,h=Math.max(Math.log(i)/Math.LN2+l,0),c=0;c<e.length;c++){var f=e[c],d=f.angle,p=(d+o+Math.PI)%(2*Math.PI);if(!(n&&r&&(p<=Math.PI/2||p>3*Math.PI/2))){var m=f.tl,v=f.tr,g=f.bl,y=f.br,_=f.tex,x=f.anchorPoint,b=Math.max(l+Math.log(f.minScale)/Math.LN2,h),w=Math.min(l+Math.log(f.maxScale)/Math.LN2,25);if(!(b>=w)){b===h&&(b=0);var M=u(x.x,x.y,m.x,m.y,_.x,_.y,b,w,h)-a.vertexStartIndex;u(x.x,x.y,v.x,v.y,_.x+_.w,_.y,b,w,h),u(x.x,x.y,g.x,g.y,_.x,_.y+_.h,b,w,h),u(x.x,x.y,y.x,y.y,_.x+_.w,_.y+_.h,b,w,h),a.vertexLength+=4,s(M,M+1,M+2),s(M+1,M+2,M+3),a.elementLength+=2}}}},n.prototype.updateIcons=function(t){this.createStyleLayer();var e=this.layer.layout["icon-image"];if(e)for(var i=0;i<this.features.length;i++){var n=l(this.features[i].properties,e);n&&(t[n]=!0)}},n.prototype.updateFont=function(t){this.createStyleLayer();var e=this.layer.layout["text-font"],i=t[e]=t[e]||{};this.textFeatures=f(this.features,this.layer.layout,i)},n.prototype.addToDebugBuffers=function(t){this.elementGroups.collisionBox=[];for(var e=this.makeRoomFor("collisionBox",0),i=-t.angle,n=t.yStretch,r=0;r<this.symbolInstances.length;r++)for(var a=0;2>a;a++){var s=this.symbolInstances[r][0===a?"textCollisionFeature":"iconCollisionFeature"];if(s)for(var u=s.boxes,l=0;l<u.length;l++){var h=u[l],c=h.anchorPoint,f=new o(h.x1,h.y1*n)._rotate(i),d=new o(h.x2,h.y1*n)._rotate(i),p=new o(h.x1,h.y2*n)._rotate(i),m=new o(h.x2,h.y2*n)._rotate(i),v=Math.max(0,Math.min(25,this.zoom+Math.log(h.maxScale)/Math.LN2)),g=Math.max(0,Math.min(25,this.zoom+Math.log(h.placementScale)/Math.LN2));this.addCollisionBoxVertex(c,f,v,g),this.addCollisionBoxVertex(c,d,v,g),this.addCollisionBoxVertex(c,d,v,g),this.addCollisionBoxVertex(c,m,v,g),this.addCollisionBoxVertex(c,m,v,g),this.addCollisionBoxVertex(c,p,v,g),this.addCollisionBoxVertex(c,p,v,g),this.addCollisionBoxVertex(c,f,v,g),e.vertexLength+=8}}}}).call(e,i(6))},function(t,e,i){"use strict";function n(t){if(this.type=t.type,t.arrayBuffer)this.capacity=t.capacity,this.arrayBuffer=t.arrayBuffer,this.attributes=t.attributes,this.itemSize=t.itemSize,this.length=t.length;else{this.capacity=r(n.CAPACITY_DEFAULT,n.CAPACITY_ALIGNMENT),this.arrayBuffer=new ArrayBuffer(this.capacity),this.attributes=[],this.itemSize=0,this.length=0;var e=this.type===n.BufferType.VERTEX?n.VERTEX_ATTRIBUTE_ALIGNMENT:1;this.attributes=t.attributes.map(function(t){var i={};return i.name=t.name,i.components=t.components||1,i.type=t.type||n.AttributeType.UNSIGNED_BYTE,i.size=i.type.size*i.components,i.offset=this.itemSize,this.itemSize=r(i.offset+i.size,e),o(!isNaN(this.itemSize)),o(!isNaN(i.size)),o(i.type.name in n.AttributeType),i},this),this._createPushMethod(),this._refreshViews()}}function r(t,e){e=e||1;var i=t%e;return 1!==e&&0!==i&&(t+=e-i),t}var o=i(25);n.prototype.serialize=function(){return{type:this.type,capacity:this.capacity,arrayBuffer:this.arrayBuffer,attributes:this.attributes,itemSize:this.itemSize,length:this.length}},n.prototype.bind=function(t){var e=t[this.type];this.buffer?t.bindBuffer(e,this.buffer):(this.buffer=t.createBuffer(),t.bindBuffer(e,this.buffer),t.bufferData(e,this.arrayBuffer,t.STATIC_DRAW),this.arrayBuffer=null)},n.prototype.destroy=function(t){this.buffer&&t.deleteBuffer(this.buffer)},n.prototype.setAttribPointers=function(t,e,i){for(var n=0;n<this.attributes.length;n++){var r=this.attributes[n];t.vertexAttribPointer(e["a_"+r.name],r.components,t[r.type.name],!1,this.itemSize,i+r.offset)}},n.prototype.trim=function(){this.capacity=r(this.itemSize*this.length,n.CAPACITY_ALIGNMENT),this.arrayBuffer=this.arrayBuffer.slice(0,this.capacity),this._refreshViews()},n.prototype.get=function(t){this._refreshViews();for(var e={},i=t*this.itemSize,n=0;n<this.attributes.length;n++)for(var r=this.attributes[n],o=e[r.name]=[],a=0;a<r.components;a++){var s=(i+r.offset)/r.type.size+a;o.push(this.views[r.type.name][s])}return e},n.prototype.validate=function(t){for(var e=0,i=0;i<this.attributes.length;i++)for(var n=0;n<this.attributes[i].components;n++)o(!isNaN(t[e++]));o(e===t.length)},n.prototype._resize=function(t){var e=this.views.UNSIGNED_BYTE;this.capacity=r(t,n.CAPACITY_ALIGNMENT),this.arrayBuffer=new ArrayBuffer(this.capacity),this._refreshViews(),this.views.UNSIGNED_BYTE.set(e)},n.prototype._refreshViews=function(){this.views={UNSIGNED_BYTE:new Uint8Array(this.arrayBuffer),BYTE:new Int8Array(this.arrayBuffer),UNSIGNED_SHORT:new Uint16Array(this.arrayBuffer),SHORT:new Int16Array(this.arrayBuffer)}};var a={};n.prototype._createPushMethod=function(){var t="",e=[];t+="var i = this.length++;\n",t+="var o = i * "+this.itemSize+";\n",t+="if (o + "+this.itemSize+" > this.capacity) { this._resize(this.capacity * "+n.CAPACITY_RESIZE_MULTIPLIER+"); }\n";for(var i=0;i<this.attributes.length;i++){var r=this.attributes[i],o="o"+i;t+="\nvar "+o+" = (o + "+r.offset+") / "+r.type.size+";\n";for(var s=0;s<r.components;s++){var u="v"+e.length,l="this.views."+r.type.name+"["+o+" + "+s+"]";t+=l+" = "+u+";\n",e.push(u)}}t+="\nreturn i;\n",a[t]||(a[t]=new Function(e,t)),this.push=a[t]},n.BufferType={VERTEX:"ARRAY_BUFFER",ELEMENT:"ELEMENT_ARRAY_BUFFER"},n.AttributeType={BYTE:{size:1,name:"BYTE"},UNSIGNED_BYTE:{size:1,name:"UNSIGNED_BYTE"},SHORT:{size:2,name:"SHORT"},UNSIGNED_SHORT:{size:2,name:"UNSIGNED_SHORT"}},n.ELEMENT_ATTRIBUTE_TYPE=n.AttributeType.UNSIGNED_SHORT,n.CAPACITY_DEFAULT=1024,n.CAPACITY_RESIZE_MULTIPLIER=5,n.CAPACITY_ALIGNMENT=2,n.VERTEX_ATTRIBUTE_ALIGNMENT=4,t.exports=n},function(t,e,i){"use strict";function n(t,e){this.x=t.x,this.y=t.y,this.z=t.z-Math.log(e)/Math.LN2,this.rtree=p(9),this.toBeInserted=[]}function r(t,e,i){return"Point"===e?u(t,i):"LineString"===e?a(t,i):"Polygon"===e?o(t,i)||a(t,i):!1}function o(t,e){return f(t,new m(e[0],e[1]))||f(t,new m(e[0],e[3]))||f(t,new m(e[2],e[1]))||f(t,new m(e[2],e[3]))?!0:a(t,e)}function a(t,e){for(var i=0;i<t.length;i++)for(var n=t[i],r=0,o=n.length-1;r<n.length;o=r++){var a=n[r],l=n[o],h=new m(a.y,a.x),c=new m(l.y,l.x);if(s(a,l,e[0],e[2],e[1])||s(a,l,e[0],e[2],e[3])||s(h,c,e[1],e[3],e[0])||s(h,c,e[1],e[3],e[2]))return!0}return u(t,e)}function s(t,e,i,n,r){if(e.y===t.y)return e.y===r&&Math.min(t.x,e.x)<=n&&Math.max(t.x,e.x)>=i;var o=(r-t.y)/(e.y-t.y),a=t.x+o*(e.x-t.x);return a>=i&&n>=a&&1>=o&&o>=0}function u(t,e){for(var i=0;i<t.length;i++)for(var n=t[i],r=0;r<n.length;r++)if(n[r].x>=e[0]&&n[r].y>=e[1]&&n[r].x<=e[2]&&n[r].y<=e[3])return!0;return!1}function l(t,e,i,n){return"Point"===e?d(t,i,n):"LineString"===e?c(t,i,n):"Polygon"===e?f(t,i)||c(t,i,n):!1}function h(t,e,i){var n=e.distSqr(i);if(0===n)return t.distSqr(e);var r=((t.x-e.x)*(i.x-e.x)+(t.y-e.y)*(i.y-e.y))/n;return 0>r?t.distSqr(e):r>1?t.distSqr(i):t.distSqr(i.sub(e)._mult(r)._add(e))}function c(t,e,i){for(var n=i*i,r=0;r<t.length;r++)for(var o=t[r],a=1;a<o.length;a++){var s=o[a-1],u=o[a];if(h(e,s,u)<n)return!0}return!1}function f(t,e){for(var i,n,r,o=!1,a=0;a<t.length;a++){i=t[a];for(var s=0,u=i.length-1;s<i.length;u=s++)n=i[s],r=i[u],n.y>e.y!=r.y>e.y&&e.x<(r.x-n.x)*(e.y-n.y)/(r.y-n.y)+n.x&&(o=!o)}return o}function d(t,e,i){for(var n=i*i,r=0;r<t.length;r++)for(var o=t[r],a=0;a<o.length;a++)if(o[a].distSqr(e)<=n)return!0;return!1}var p=i(37),m=i(2),v=i(39),g=i(1),y=i(18),_=i(3).EXTENT;t.exports=n,n.prototype.insert=function(t,e,i){var n=_/i.extent;t[0]*=n,t[1]*=n,t[2]*=n,t[3]*=n,t.layers=e,t.feature=i,this.toBeInserted.push(t)},n.prototype._load=function(){this.rtree.load(this.toBeInserted),this.toBeInserted=[]},n.prototype.query=function(t,e){this.toBeInserted.length&&this._load();var i,n,o=t.params||{},a=t.x,s=t.y,u=[];"undefined"!=typeof a&&"undefined"!=typeof s?(i=(o.radius||0)*_/t.tileSize/t.scale,n=[a-i,s-i,a+i,s+i]):n=[t.minX,t.minY,t.maxX,t.maxY];for(var h=this.rtree.search(n),c=0;c<h.length;c++){var f=h[c].feature,d=h[c].layers,p=v.VectorTileFeature.types[f.type];if((!o.$type||p===o.$type)&&(!i||l(y(f),p,new m(a,s),i))&&r(y(f),p,n)){var x=f.toGeoJSON(this.x,this.y,this.z);o.includeGeometry||(x.geometry=null);for(var b=0;b<d.length;b++){var w=d[b];o.layerIds&&o.layerIds.indexOf(w)<0||u.push(g.extend({layer:w},x))}}}e(null,u)}},function(t,e,i){"use strict";function n(t,e){this.tileSize=512,this._minZoom=t||0,this._maxZoom=e||22,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this._center=new r(0,0),this.zoom=0,this.angle=0,this._altitude=1.5,this._pitch=0,this._unmodified=!0}var r=i(13),o=i(2),a=i(28),s=i(1).wrap,u=i(23),l=i(16),h=l.vec4,c=l.mat4,f=l.mat2;t.exports=n,n.prototype={get minZoom(){return this._minZoom},set minZoom(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},get maxZoom(){return this._maxZoom},set maxZoom(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},get worldSize(){return this.tileSize*this.scale},get centerPoint(){return this.size._div(2)},get size(){return new o(this.width,this.height)},get bearing(){return-this.angle/Math.PI*180},set bearing(t){var e=-s(t,-180,180)*Math.PI/180;this.angle!==e&&(this._unmodified=!1,this.angle=e,this._calcProjMatrix(),this.rotationMatrix=f.create(),f.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},get pitch(){return this._pitch/Math.PI*180},set pitch(t){var e=Math.min(60,t)/180*Math.PI;this._pitch!==e&&(this._unmodified=!1,this._pitch=e,this._calcProjMatrix())},get altitude(){return this._altitude},set altitude(t){var e=Math.max(.75,t);this._altitude!==e&&(this._unmodified=!1,this._altitude=e,this._calcProjMatrix())},get zoom(){return this._zoom},set zoom(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._calcProjMatrix(),this._constrain())},get center(){return this._center},set center(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._calcProjMatrix(),this._constrain())},resize:function(t,e){this.width=t,this.height=e,this.exMatrix=c.create(),c.ortho(this.exMatrix,0,t,e,0,0,-1),this._calcProjMatrix(),this._constrain()},get unmodified(){return this._unmodified},zoomScale:function(t){return Math.pow(2,t)},scaleZoom:function(t){return Math.log(t)/Math.LN2},project:function(t,e){return new o(this.lngX(t.lng,e),this.latY(t.lat,e))},unproject:function(t,e){return new r(this.xLng(t.x,e),this.yLat(t.y,e))},get x(){return this.lngX(this.center.lng)},get y(){return this.latY(this.center.lat)},get point(){return new o(this.x,this.y)},lngX:function(t,e){return(180+t)*(e||this.worldSize)/360},latY:function(t,e){var i=180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360));return(180-i)*(e||this.worldSize)/360},xLng:function(t,e){return 360*t/(e||this.worldSize)-180},yLat:function(t,e){var i=180-360*t/(e||this.worldSize);return 360/Math.PI*Math.atan(Math.exp(i*Math.PI/180))-90},panBy:function(t){var e=this.centerPoint._add(t);this.center=this.pointLocation(e)},setLocationAtPoint:function(t,e){var i=this.locationCoordinate(t),n=this.pointCoordinate(e),r=this.pointCoordinate(this.centerPoint),o=n._sub(i);this._unmodified=!1,this.center=this.coordinateLocation(r._sub(o))},locationPoint:function(t){return this.coordinatePoint(this.locationCoordinate(t))},pointLocation:function(t){return this.coordinateLocation(this.pointCoordinate(t))},locationCoordinate:function(t){var e=this.zoomScale(this.tileZoom)/this.worldSize,i=r.convert(t);return new a(this.lngX(i.lng)*e,this.latY(i.lat)*e,this.tileZoom)},coordinateLocation:function(t){var e=this.zoomScale(t.zoom);return new r(this.xLng(t.column,e),this.yLat(t.row,e))},pointCoordinate:function(t,e){void 0===e&&(e=0);var i=this.coordinatePointMatrix(this.tileZoom);if(c.invert(i,i),!i)throw new Error("failed to invert matrix");var n=[t.x,t.y,0,1],r=[t.x,t.y,1,1];h.transformMat4(n,n,i),h.transformMat4(r,r,i);var o=n[3],s=r[3],l=n[0]/o,f=r[0]/s,d=n[1]/o,p=r[1]/s,m=n[2]/o,v=r[2]/s,g=m===v?0:(e-m)/(v-m);return new a(u(l,f,g),u(d,p,g),this.tileZoom)},coordinatePoint:function(t){var e=this.coordinatePointMatrix(t.zoom),i=[t.column,t.row,0,1];return h.transformMat4(i,i,e),new o(i[0]/i[3],i[1]/i[3])},coordinatePointMatrix:function(t){var e=c.copy(new Float64Array(16),this.projMatrix),i=this.worldSize/this.zoomScale(t);return c.scale(e,e,[i,i,1]),c.multiply(e,this.getPixelMatrix(),e),e},getPixelMatrix:function(){var t=c.create();return c.scale(t,t,[this.width/2,-this.height/2,1]),c.translate(t,t,[1,-1,0]),t},_constrain:function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,e,i,n,r,a,s,u,l=this.size,h=this._unmodified;this.latRange&&(t=this.latY(this.latRange[1]),e=this.latY(this.latRange[0]),r=e-t<l.y?l.y/(e-t):0),this.lngRange&&(i=this.lngX(this.lngRange[0]),n=this.lngX(this.lngRange[1]),a=n-i<l.x?l.x/(n-i):0);var c=Math.max(a||0,r||0);if(c)return this.center=this.unproject(new o(a?(n+i)/2:this.x,r?(e+t)/2:this.y)),this.zoom+=this.scaleZoom(c),this._unmodified=h,void(this._constraining=!1);if(this.latRange){var f=this.y,d=l.y/2;t>f-d&&(u=t+d),f+d>e&&(u=e-d)}if(this.lngRange){var p=this.x,m=l.x/2;i>p-m&&(s=i+m),p+m>n&&(s=n-m)}void 0===s&&void 0===u||(this.center=this.unproject(new o(void 0!==s?s:this.x,void 0!==u?u:this.y))),this._unmodified=h,this._constraining=!1}},_calcProjMatrix:function(){var t=new Float64Array(16),e=Math.atan(.5/this.altitude),i=Math.sin(e)*this.altitude/Math.sin(Math.PI/2-this._pitch-e),n=Math.cos(Math.PI/2-this._pitch)*i+this.altitude;c.perspective(t,2*Math.atan(this.height/2/this.altitude),this.width/this.height,.1,n),c.translate(t,t,[0,0,-this.altitude]),c.scale(t,t,[1,-1,1/this.height]),c.rotateX(t,t,this._pitch),c.rotateZ(t,t,this.angle),c.translate(t,t,[-this.x,-this.y,0]),this.projMatrix=t}}},function(t,e){"use strict";var i={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],
3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]};t.exports=function(t,e,n,r){r=r||1;var o,a,s,u,l,h,c,f,d=[];for(o=0,a=t.length;a>o;o++)if(l=i[t[o]]){for(f=null,s=0,u=l[1].length;u>s;s+=2)-1===l[1][s]&&-1===l[1][s+1]?f=null:(h=e+l[1][s]*r,c=n-l[1][s+1]*r,f&&d.push(f.x,f.y,h,c),f={x:h,y:c});e+=l[0]*r}return d}},function(t,e,i){"use strict";var n=t.exports={};n.Map=i(164),n.Control=i(36),n.Navigation=i(154),n.Attribution=i(63),n.Popup=i(165),n.GeoJSONSource=i(29),n.VideoSource=i(34),n.ImageSource=i(30),n.Style=i(59),n.LngLat=i(13),n.LngLatBounds=i(21),n.Point=i(2),n.Evented=i(7),n.util=i(1),n.supported=i(5).supported;var r=i(12);n.util.getJSON=r.getJSON,n.util.getArrayBuffer=r.getArrayBuffer;var o=i(66);n.config=o,Object.defineProperty(n,"accessToken",{get:function(){return o.ACCESS_TOKEN},set:function(t){o.ACCESS_TOKEN=t}})},function(t,e,i){"use strict";function n(t,e,i){var n,r=t.gl,u=t.transform,l=a.premultiply(i.paint["background-color"],i.paint["background-opacity"]),h=i.paint["background-pattern"],c=i.paint["background-opacity"],f=h?t.spriteAtlas.getPosition(h.from,!0):null,d=h?t.spriteAtlas.getPosition(h.to,!0):null;if(t.setDepthSublayer(0),f&&d){if(t.isOpaquePass)return;n=t.patternShader,r.switchShader(n),r.uniform1i(n.u_image,0),r.uniform2fv(n.u_pattern_tl_a,f.tl),r.uniform2fv(n.u_pattern_br_a,f.br),r.uniform2fv(n.u_pattern_tl_b,d.tl),r.uniform2fv(n.u_pattern_br_b,d.br),r.uniform1f(n.u_opacity,c),r.uniform1f(n.u_mix,h.t);var p=s/u.tileSize/Math.pow(2,0);r.uniform2fv(n.u_patternscale_a,[1/(f.size[0]*p*h.fromScale),1/(f.size[1]*p*h.fromScale)]),r.uniform2fv(n.u_patternscale_b,[1/(d.size[0]*p*h.toScale),1/(d.size[1]*p*h.toScale)]),t.spriteAtlas.bind(r,!0)}else{if(t.isOpaquePass!==(1===l[3]))return;n=t.fillShader,r.switchShader(n),r.uniform4fv(n.u_color,l)}r.disable(r.STENCIL_TEST),r.bindBuffer(r.ARRAY_BUFFER,t.tileExtentBuffer),r.vertexAttribPointer(n.a_pos,t.tileExtentBuffer.itemSize,r.SHORT,!1,0,0);for(var m=o.coveringTiles(u),v=0;v<m.length;v++)r.setPosMatrix(t.calculatePosMatrix(m[v])),r.drawArrays(r.TRIANGLE_STRIP,0,t.tileExtentBuffer.itemCount);r.stencilMask(0),r.stencilFunc(r.EQUAL,128,128)}var r=i(33),o=new r({tileSize:512}),a=i(1),s=i(3).EXTENT;t.exports=n},function(t,e,i){"use strict";function n(t,e,i,n){if(!t.isOpaquePass){var a=t.gl,s=t.circleShader;t.gl.switchShader(s),t.setDepthSublayer(0),t.depthMask(!1),a.disable(a.STENCIL_TEST);var u=1/r.devicePixelRatio/i.paint["circle-radius"],l=o.premultiply(i.paint["circle-color"],i.paint["circle-opacity"]);a.uniform4fv(s.u_color,l),a.uniform1f(s.u_blur,Math.max(i.paint["circle-blur"],u)),a.uniform1f(s.u_size,i.paint["circle-radius"]);for(var h=0;h<n.length;h++){var c=n[h],f=e.getTile(c),d=f.getBucket(i);if(d){var p=d.elementGroups.circle;if(p){var m=d.buffers.circleVertex,v=d.buffers.circleElement;a.setPosMatrix(t.translatePosMatrix(t.calculatePosMatrix(c,e.maxzoom),f,i.paint["circle-translate"],i.paint["circle-translate-anchor"])),a.setExMatrix(t.transform.exMatrix);for(var g=0;g<p.length;g++){var y=p[g],_=y.vertexStartIndex*m.itemSize;m.bind(a),m.setAttribPointers(a,s,_),v.bind(a);var x=3*y.elementLength,b=y.elementStartIndex*v.itemSize;a.drawElements(a.TRIANGLES,x,a.UNSIGNED_SHORT,b)}}}}}}var r=i(5),o=i(1);t.exports=n},function(t,e){"use strict";function i(t,e,i,n){var r=t.gl,o=t.collisionBoxShader;r.enable(r.STENCIL_TEST),r.switchShader(o);for(var a=0;a<n.length;a++){var s=n[a],u=e.getTile(s),l=u.getBucket(i);if(l){var h=l.elementGroups.collisionBox;if(h&&l.buffers&&0!==h[0].vertexLength){var c=l.buffers.collisionBoxVertex;c.bind(r),c.setAttribPointers(r,o,0);var f=t.calculatePosMatrix(s,e.maxzoom);r.setPosMatrix(f),t.enableTileClippingMask(s),r.lineWidth(1),r.uniform1f(o.u_scale,Math.pow(2,t.transform.zoom-u.coord.z)),r.uniform1f(o.u_zoom,10*t.transform.zoom),r.uniform1f(o.u_maxzoom,10*(u.coord.z+1)),r.drawArrays(r.LINES,h[0].vertexStartIndex,h[0].vertexLength)}}}}t.exports=i},function(t,e,i){"use strict";function n(t,e,i){if(!t.isOpaquePass&&t.options.debug)for(var n=0;n<i.length;n++)r(t,e,i[n])}function r(t,e,i){var n=t.gl;n.disable(n.STENCIL_TEST),n.lineWidth(1*a.devicePixelRatio);var r=t.calculatePosMatrix(i,e.maxzoom),l=t.debugShader;n.switchShader(l,r),n.bindBuffer(n.ARRAY_BUFFER,t.debugBuffer),n.vertexAttribPointer(l.a_pos,t.debugBuffer.itemSize,n.SHORT,!1,0,0),n.uniform4f(l.u_color,1,0,0,1),n.drawArrays(n.LINE_STRIP,0,t.debugBuffer.itemCount);var h=o(i.toString(),50,200,5);n.bindBuffer(n.ARRAY_BUFFER,t.debugTextBuffer),n.bufferData(n.ARRAY_BUFFER,new Int16Array(h),n.STREAM_DRAW),n.vertexAttribPointer(l.a_pos,t.debugTextBuffer.itemSize,n.SHORT,!1,0,0),n.uniform4f(l.u_color,1,1,1,1);for(var c=e.getTile(i).tileSize,f=u/(Math.pow(2,t.transform.zoom-i.z)*c),d=[[-1,-1],[-1,1],[1,-1],[1,1]],p=0;p<d.length;p++){var m=d[p];n.setPosMatrix(s.translate([],r,[f*m[0],f*m[1],0])),n.drawArrays(n.LINES,0,h.length/t.debugTextBuffer.itemSize)}n.uniform4f(l.u_color,0,0,0,1),n.setPosMatrix(r),n.drawArrays(n.LINES,0,h.length/t.debugTextBuffer.itemSize)}var o=i(114),a=i(5),s=i(16).mat4,u=i(3).EXTENT;t.exports=n},function(t,e,i){"use strict";function n(t,e,i,n){var u=t.gl;u.enable(u.STENCIL_TEST);var l=s.premultiply(i.paint["fill-color"],i.paint["fill-opacity"]),h=i.paint["fill-pattern"],c=s.premultiply(i.paint["fill-outline-color"],i.paint["fill-opacity"]);if(h?!t.isOpaquePass:t.isOpaquePass===(1===l[3]))for(var f=0;f<n.length;f++)r(t,e,i,n[f]);if(!t.isOpaquePass&&i.paint["fill-antialias"]&&(!i.paint["fill-pattern"]||c)){u.switchShader(t.outlineShader),u.lineWidth(2*a.devicePixelRatio*10),c?t.setDepthSublayer(2):t.setDepthSublayer(0),u.uniform2f(t.outlineShader.u_world,u.drawingBufferWidth,u.drawingBufferHeight),u.uniform4fv(t.outlineShader.u_color,c?c:l);for(var d=0;d<n.length;d++)o(t,e,i,n[d])}}function r(t,e,i,n){var r=e.getTile(n),o=r.getBucket(i);if(o){var a=o.elementGroups.fill;if(a){var u=t.gl,l=s.premultiply(i.paint["fill-color"],i.paint["fill-opacity"]),h=i.paint["fill-pattern"],c=i.paint["fill-opacity"],f=t.calculatePosMatrix(n,e.maxzoom),d=t.translatePosMatrix(f,r,i.paint["fill-translate"],i.paint["fill-translate-anchor"]);t.setDepthSublayer(1),u.stencilMask(7),u.clear(u.STENCIL_BUFFER_BIT),t.enableTileClippingMask(n),u.stencilOpSeparate(u.FRONT,u.KEEP,u.KEEP,u.INCR_WRAP),u.stencilOpSeparate(u.BACK,u.KEEP,u.KEEP,u.DECR_WRAP),u.colorMask(!1,!1,!1,!1),t.depthMask(!1),u.switchShader(t.fillShader,d);var p=o.buffers.fillVertex;p.bind(u);var m=o.buffers.fillElement;m.bind(u);for(var v=0;v<a.length;v++){var g=a[v],y=g.vertexStartIndex*p.itemSize;p.setAttribPointers(u,t.fillShader,y);var _=3*g.elementLength,x=g.elementStartIndex*m.itemSize;u.drawElements(u.TRIANGLES,_,u.UNSIGNED_SHORT,x)}u.colorMask(!0,!0,!0,!0),t.depthMask(!0),u.stencilOp(u.KEEP,u.KEEP,u.KEEP),u.stencilMask(0);var b;if(h){var w=t.spriteAtlas.getPosition(h.from,!0),M=t.spriteAtlas.getPosition(h.to,!0);if(!w||!M)return;b=t.patternShader,u.switchShader(b,f),u.uniform1i(b.u_image,0),u.uniform2fv(b.u_pattern_tl_a,w.tl),u.uniform2fv(b.u_pattern_br_a,w.br),u.uniform2fv(b.u_pattern_tl_b,M.tl),u.uniform2fv(b.u_pattern_br_b,M.br),u.uniform1f(b.u_opacity,c),u.uniform1f(b.u_mix,h.t);var S=[w.size[0]*h.fromScale,w.size[1]*h.fromScale],E=[M.size[0]*h.toScale,M.size[1]*h.toScale];u.uniform2fv(b.u_patternscale_a,[1/r.pixelsToTileUnits(S[0],t.transform.tileZoom),1/r.pixelsToTileUnits(S[1],t.transform.tileZoom)]),u.uniform2fv(b.u_patternscale_b,[1/r.pixelsToTileUnits(E[0],t.transform.tileZoom),1/r.pixelsToTileUnits(E[1],t.transform.tileZoom)]);var T=r.tileSize*Math.pow(2,t.transform.tileZoom-r.coord.z),I=T/S[0]%1*(r.coord.x+n.w*Math.pow(2,r.coord.z)),A=T/S[1]%1*r.coord.y,D=T/E[0]%1*(r.coord.x+n.w*Math.pow(2,r.coord.z)),z=T/E[1]%1*r.coord.y;u.uniform2fv(b.u_offset_a,[I,A]),u.uniform2fv(b.u_offset_b,[D,z]),t.spriteAtlas.bind(u,!0)}else b=t.fillShader,u.switchShader(b,f),u.uniform4fv(b.u_color,l);u.stencilFunc(u.NOTEQUAL,0,7),u.bindBuffer(u.ARRAY_BUFFER,t.tileExtentBuffer),u.vertexAttribPointer(b.a_pos,t.tileExtentBuffer.itemSize,u.SHORT,!1,0,0),u.drawArrays(u.TRIANGLE_STRIP,0,t.tileExtentBuffer.itemCount),u.stencilMask(0)}}}function o(t,e,i,n){var r=e.getTile(n),o=r.getBucket(i);if(o){var a=t.gl,s=o.elementGroups.fill;a.setPosMatrix(t.translatePosMatrix(t.calculatePosMatrix(n,e.maxzoom),r,i.paint["fill-translate"],i.paint["fill-translate-anchor"]));var u=o.buffers.fillVertex,l=o.buffers.fillSecondElement;u.bind(a),l.bind(a),t.enableTileClippingMask(n);for(var h=0;h<s.length;h++){var c=s[h],f=c.vertexStartIndex*u.itemSize;u.setAttribPointers(a,t.outlineShader,f);var d=2*c.secondElementLength,p=c.secondElementStartIndex*l.itemSize;a.drawElements(a.LINES,d,a.UNSIGNED_SHORT,p)}}}var a=i(5),s=i(1);t.exports=n},function(t,e,i){"use strict";var n=i(5),r=i(16).mat2,o=i(1);t.exports=function(t,e,i,a){if(!t.isOpaquePass){t.setDepthSublayer(0),t.depthMask(!1);var s=a.some(function(t){var n=e.getTile(t).getBucket(i);return n&&n.elementGroups.line});if(s){var u=t.gl;if(u.enable(u.STENCIL_TEST),!(i.paint["line-width"]<=0)){var l=1/n.devicePixelRatio,h=i.paint["line-blur"]+l,c=i.paint["line-width"]/2,f=-1,d=0,p=0;i.paint["line-gap-width"]>0&&(f=i.paint["line-gap-width"]/2+.5*l,c=i.paint["line-width"],d=f-l/2);var m=d+c+l/2+p,v=o.premultiply(i.paint["line-color"],i.paint["line-opacity"]),g=t.transform,y=r.create();r.scale(y,y,[1,Math.cos(g._pitch)]),r.rotate(y,y,t.transform.angle);var _,x,b,w,M,S=Math.sqrt(g.height*g.height/4*(1+g.altitude*g.altitude)),E=g.height/2*Math.tan(g._pitch),T=(S+E)/S-1,I=i.paint["line-dasharray"],A=i.paint["line-pattern"];if(I)_=t.linesdfpatternShader,u.switchShader(_),u.uniform2fv(_.u_linewidth,[m,f]),u.uniform1f(_.u_blur,h),u.uniform4fv(_.u_color,v),x=t.lineAtlas.getDash(I.from,"round"===i.layout["line-cap"]),b=t.lineAtlas.getDash(I.to,"round"===i.layout["line-cap"]),t.lineAtlas.bind(u),u.uniform1f(_.u_tex_y_a,x.y),u.uniform1f(_.u_tex_y_b,b.y),u.uniform1i(_.u_image,0),u.uniform1f(_.u_mix,I.t),u.uniform1f(_.u_extra,T),u.uniform1f(_.u_offset,-i.paint["line-offset"]),u.uniformMatrix2fv(_.u_antialiasingmatrix,!1,y);else if(A){if(w=t.spriteAtlas.getPosition(A.from,!0),M=t.spriteAtlas.getPosition(A.to,!0),!w||!M)return;t.spriteAtlas.bind(u,!0),_=t.linepatternShader,u.switchShader(_),u.uniform2fv(_.u_linewidth,[m,f]),u.uniform1f(_.u_blur,h),u.uniform2fv(_.u_pattern_tl_a,w.tl),u.uniform2fv(_.u_pattern_br_a,w.br),u.uniform2fv(_.u_pattern_tl_b,M.tl),u.uniform2fv(_.u_pattern_br_b,M.br),u.uniform1f(_.u_fade,A.t),u.uniform1f(_.u_opacity,i.paint["line-opacity"]),u.uniform1f(_.u_extra,T),u.uniform1f(_.u_offset,-i.paint["line-offset"]),u.uniformMatrix2fv(_.u_antialiasingmatrix,!1,y)}else _=t.lineShader,u.switchShader(_),u.uniform2fv(_.u_linewidth,[m,f]),u.uniform1f(_.u_blur,h),u.uniform1f(_.u_extra,T),u.uniform1f(_.u_offset,-i.paint["line-offset"]),u.uniformMatrix2fv(_.u_antialiasingmatrix,!1,y),u.uniform4fv(_.u_color,v);for(var D=0;D<a.length;D++){var z=a[D],P=e.getTile(z),C=P.getBucket(i);if(C){var L=C.elementGroups.line;if(L){t.enableTileClippingMask(z);var F=t.translatePosMatrix(t.calculatePosMatrix(z,e.maxzoom),P,i.paint["line-translate"],i.paint["line-translate-anchor"]);u.setPosMatrix(F),u.setExMatrix(t.transform.exMatrix);var R=1/P.pixelsToTileUnits(1,t.transform.zoom);if(I){var k=x.width*I.fromScale,B=b.width*I.toScale,O=[1/P.pixelsToTileUnits(k,t.transform.tileZoom),-x.height/2],N=[1/P.pixelsToTileUnits(B,t.transform.tileZoom),-b.height/2],j=t.lineAtlas.width/(256*Math.min(k,B)*n.devicePixelRatio)/2;u.uniform1f(_.u_ratio,R),u.uniform2fv(_.u_patternscale_a,O),u.uniform2fv(_.u_patternscale_b,N),u.uniform1f(_.u_sdfgamma,j)}else A?(u.uniform1f(_.u_ratio,R),u.uniform2fv(_.u_pattern_size_a,[P.pixelsToTileUnits(w.size[0]*A.fromScale,t.transform.tileZoom),M.size[1]]),u.uniform2fv(_.u_pattern_size_b,[P.pixelsToTileUnits(M.size[0]*A.toScale,t.transform.tileZoom),M.size[1]])):u.uniform1f(_.u_ratio,R);var U=C.buffers.lineVertex;U.bind(u);var q=C.buffers.lineElement;q.bind(u);for(var V=0;V<L.length;V++){var Y=L[V],G=Y.vertexStartIndex*U.itemSize;u.vertexAttribPointer(_.a_pos,2,u.SHORT,!1,8,G+0),u.vertexAttribPointer(_.a_data,4,u.UNSIGNED_BYTE,!1,8,G+4);var $=3*Y.elementLength,H=Y.elementStartIndex*q.itemSize;u.drawElements(u.TRIANGLES,$,u.UNSIGNED_SHORT,H)}}}}}}}}},function(t,e,i){"use strict";function n(t,e,i,n){if(!t.isOpaquePass){var o=t.gl;o.depthFunc(o.LESS);for(var a=0;a<n.length;a++)r(t,e,i,n[a]);o.depthFunc(o.LEQUAL)}}function r(t,e,i,n){t.setDepthSublayer(0);var r=t.gl;r.disable(r.STENCIL_TEST);var l=e.getTile(n),h=t.calculatePosMatrix(n,e.maxzoom),c=t.rasterShader;r.switchShader(c,h),r.uniform1f(c.u_brightness_low,i.paint["raster-brightness-min"]),r.uniform1f(c.u_brightness_high,i.paint["raster-brightness-max"]),r.uniform1f(c.u_saturation_factor,s(i.paint["raster-saturation"])),r.uniform1f(c.u_contrast_factor,a(i.paint["raster-contrast"])),r.uniform3fv(c.u_spin_weights,o(i.paint["raster-hue-rotate"]));var f,d,p=l.source&&l.source._pyramid.findLoadedParent(n,0,{}),m=u(l,p,i,t.transform);r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,l.texture),p?(r.activeTexture(r.TEXTURE1),r.bindTexture(r.TEXTURE_2D,p.texture),f=Math.pow(2,p.coord.z-l.coord.z),d=[l.coord.x*f%1,l.coord.y*f%1]):m[1]=0,r.uniform2fv(c.u_tl_parent,d||[0,0]),r.uniform1f(c.u_scale_parent,f||1),r.uniform1f(c.u_buffer_scale,1),r.uniform1f(c.u_opacity0,m[0]),r.uniform1f(c.u_opacity1,m[1]),r.uniform1i(c.u_image0,0),r.uniform1i(c.u_image1,1),r.bindBuffer(r.ARRAY_BUFFER,l.boundsBuffer||t.tileExtentBuffer),r.vertexAttribPointer(c.a_pos,2,r.SHORT,!1,8,0),r.vertexAttribPointer(c.a_texture_pos,2,r.SHORT,!1,8,4),r.drawArrays(r.TRIANGLE_STRIP,0,4)}function o(t){t*=Math.PI/180;var e=Math.sin(t),i=Math.cos(t);return[(2*i+1)/3,(-Math.sqrt(3)*e-i+1)/3,(Math.sqrt(3)*e-i+1)/3]}function a(t){return t>0?1/(1-t):1+t}function s(t){return t>0?1-1/(1.001-t):-t}function u(t,e,i,n){var r=[1,0],o=i.paint["raster-fade-duration"];if(t.source&&o>0){var a=(new Date).getTime(),s=(a-t.timeAdded)/o,u=e?(a-e.timeAdded)/o:-1,h=t.source._pyramid.coveringZoomLevel(n),c=e?Math.abs(e.coord.z-h)>Math.abs(t.coord.z-h):!1;!e||c?(r[0]=l.clamp(s,0,1),r[1]=1-r[0]):(r[0]=l.clamp(1-u,0,1),r[1]=1-r[0])}var f=i.paint["raster-opacity"];return r[0]*=f,r[1]*=f,r}var l=i(1);t.exports=n},function(t,e,i){"use strict";function n(t,e,i,n){if(!t.isOpaquePass){var o=!(i.layout["text-allow-overlap"]||i.layout["icon-allow-overlap"]||i.layout["text-ignore-placement"]||i.layout["icon-ignore-placement"]),a=t.gl;o?a.disable(a.STENCIL_TEST):a.enable(a.STENCIL_TEST),t.setDepthSublayer(0),t.depthMask(!1),a.disable(a.DEPTH_TEST);for(var u,l,h,c,f=0;f<n.length;f++)u=e.getTile(n[f]),h=u.getBucket(i),h&&(l=h.elementGroups,l.icon.length&&(c=t.calculatePosMatrix(n[f],e.maxzoom),t.enableTileClippingMask(n[f]),r(t,i,c,u,h,l.icon,"icon",l.sdfIcons,l.iconsNeedLinear)));for(var d=0;d<n.length;d++)u=e.getTile(n[d]),h=u.getBucket(i),h&&(l=h.elementGroups,l.glyph.length&&(c=t.calculatePosMatrix(n[d],e.maxzoom),t.enableTileClippingMask(n[d]),r(t,i,c,u,h,l.glyph,"text",!0,!1)));a.enable(a.DEPTH_TEST),s(t,e,i,n)}}function r(t,e,i,n,r,s,h,c,f){var d=t.gl;i=t.translatePosMatrix(i,n,e.paint[h+"-translate"],e.paint[h+"-translate-anchor"]);var p,m,v,g=t.transform,y="map"===e.layout[h+"-rotation-alignment"],_=y;_?(p=o.create(),m=n.pixelsToTileUnits(1,t.transform.zoom),v=1/Math.cos(g._pitch)):(p=o.clone(t.transform.exMatrix),m=t.transform.altitude,v=1),o.scale(p,p,[m,m,1]);var x=e.layout[h+"-size"],b=x/l[h];o.scale(p,p,[b,b,1]);var w,M,S,E,T=Math.sqrt(g.height*g.height/4*(1+g.altitude*g.altitude)),I=g.height/2*Math.tan(g._pitch),A=(T+I)/T-1,D="text"===h;if(D||t.style.sprite.loaded()){if(d.activeTexture(d.TEXTURE0),w=c?t.sdfShader:t.iconShader,D){var z=s.fontstack,P=z&&t.glyphSource.getGlyphAtlas(z);if(!P)return;P.updateTexture(d),M=r.buffers.glyphVertex,S=r.buffers.glyphElement,E=[P.width/4,P.height/4]}else{var C=t.options.rotating||t.options.zooming,L=1!==b||a.devicePixelRatio!==t.spriteAtlas.pixelRatio||f,F=y||t.transform.pitch;t.spriteAtlas.bind(d,c||C||L||F),M=r.buffers.iconVertex,S=r.buffers.iconElement,E=[t.spriteAtlas.width/4,t.spriteAtlas.height/4]}d.switchShader(w,i,p),d.uniform1i(w.u_texture,0),d.uniform2fv(w.u_texsize,E),d.uniform1i(w.u_skewed,_),d.uniform1f(w.u_extra,A);var R=Math.log(x/s.adjustedSize)/Math.LN2||0;d.uniform1f(w.u_zoom,10*(t.transform.zoom-R));var k=t.frameHistory.getFadeProperties(300);d.uniform1f(w.u_fadedist,10*k.fadedist),d.uniform1f(w.u_minfadezoom,Math.floor(10*k.minfadezoom)),d.uniform1f(w.u_maxfadezoom,Math.floor(10*k.maxfadezoom)),d.uniform1f(w.u_fadezoom,10*(t.transform.zoom+k.bump));var B,O,N,j;if(S.bind(d),c){var U=8,q=1.19,V=6,Y=.105*l[h]/x/a.devicePixelRatio;if(e.paint[h+"-halo-width"]){var G=u.premultiply(e.paint[h+"-halo-color"],e.paint[h+"-opacity"]);d.uniform1f(w.u_gamma,(e.paint[h+"-halo-blur"]*q/b/U+Y)*v),d.uniform4fv(w.u_color,G),d.uniform1f(w.u_buffer,(V-e.paint[h+"-halo-width"]/b)/U);for(var $=0;$<s.length;$++)B=s[$],O=B.vertexStartIndex*M.itemSize,M.bind(d),M.setAttribPointers(d,w,O),N=3*B.elementLength,j=B.elementStartIndex*S.itemSize,d.drawElements(d.TRIANGLES,N,d.UNSIGNED_SHORT,j)}var H=u.premultiply(e.paint[h+"-color"],e.paint[h+"-opacity"]);d.uniform1f(w.u_gamma,Y*v),d.uniform4fv(w.u_color,H),d.uniform1f(w.u_buffer,.75);for(var Z=0;Z<s.length;Z++)B=s[Z],O=B.vertexStartIndex*M.itemSize,M.bind(d),M.setAttribPointers(d,w,O),N=3*B.elementLength,j=B.elementStartIndex*S.itemSize,d.drawElements(d.TRIANGLES,N,d.UNSIGNED_SHORT,j)}else{d.uniform1f(w.u_opacity,e.paint["icon-opacity"]);for(var X=0;X<s.length;X++)B=s[X],O=B.vertexStartIndex*M.itemSize,M.bind(d),M.setAttribPointers(d,w,O),N=3*B.elementLength,j=B.elementStartIndex*S.itemSize,d.drawElements(d.TRIANGLES,N,d.UNSIGNED_SHORT,j)}}}var o=i(16).mat4,a=i(5),s=i(118),u=i(1);t.exports=n;var l={icon:1,text:24}},function(t,e,i){(function(e){"use strict";function i(){this.frameHistory=[]}t.exports=i,i.prototype.getFadeProperties=function(t){void 0===t&&(t=300);for(var i=(new Date).getTime();this.frameHistory.length>3&&this.frameHistory[1].time+t<i;)this.frameHistory.shift();this.frameHistory[1].time+t<i&&(this.frameHistory[0].z=this.frameHistory[1].z);var n=this.frameHistory.length;3>n&&e.warn("there should never be less than three frames in the history");var r=this.frameHistory[0].z,o=this.frameHistory[n-1],a=o.z,s=Math.min(r,a),u=Math.max(r,a),l=o.z-this.frameHistory[1].z,h=o.time-this.frameHistory[1].time,c=l/(h/t);isNaN(c)&&e.warn("fadedist should never be NaN");var f=(i-o.time)/t*c;return{fadedist:c,minfadezoom:s,maxfadezoom:u,bump:f}},i.prototype.record=function(t){var e=(new Date).getTime();this.frameHistory.length||this.frameHistory.push({time:0,z:t},{time:0,z:t}),2!==this.frameHistory.length&&this.frameHistory[this.frameHistory.length-1].z===t||this.frameHistory.push({time:e,z:t})}}).call(e,i(6))},function(t,e,i){(function(t){"use strict";var n=i(173),r=i(1);e.extend=function(e){var i=e.lineWidth,o=e.getParameter(e.ALIASED_LINE_WIDTH_RANGE);return e.lineWidth=function(t){i.call(e,r.clamp(t,o[0],o[1]))},e.getShader=function(t,e){var i=e===this.FRAGMENT_SHADER?"fragment":"vertex";if(!n[t]||!n[t][i])throw new Error("Could not find shader "+t);var r=this.createShader(e),o=n[t][i];if(this.shaderSource(r,o),this.compileShader(r),!this.getShaderParameter(r,this.COMPILE_STATUS))throw new Error(t+" "+i+this.getShaderInfoLog(r));return r},e.initializeShader=function(e,i,n){var r={program:this.createProgram(),fragment:this.getShader(e,this.FRAGMENT_SHADER),vertex:this.getShader(e,this.VERTEX_SHADER),attributes:[]};if(this.attachShader(r.program,r.vertex),this.attachShader(r.program,r.fragment),this.linkProgram(r.program),this.getProgramParameter(r.program,this.LINK_STATUS)){for(var o=0;o<i.length;o++)r[i[o]]=this.getAttribLocation(r.program,i[o]),r.attributes.push(r[i[o]]);for(var a=0;a<n.length;a++)r[n[a]]=this.getUniformLocation(r.program,n[a])}else t.error(e+" ERROR: "+this.getProgramInfoLog(r.program));return r},e.switchShader=function(t,i,n){if(this.currentShader!==t){this.useProgram(t.program);for(var r=this.currentShader?this.currentShader.attributes:[],o=t.attributes,a=0;a<r.length;a++)o.indexOf(r[a])<0&&this.disableVertexAttribArray(r[a]);for(var s=0;s<o.length;s++)r.indexOf(o[s])<0&&this.enableVertexAttribArray(o[s]);this.currentShader=t}void 0!==i&&e.setPosMatrix(i),void 0!==n&&e.setExMatrix(n)},e.setPosMatrix=function(t){var e=this.currentShader;e.posMatrix!==t&&(this.uniformMatrix4fv(e.u_matrix,!1,t),e.posMatrix=t)},e.setExMatrix=function(t){var e=this.currentShader;t&&e.exMatrix!==t&&e.u_exmatrix&&(this.uniformMatrix4fv(e.u_exmatrix,!1,t),e.exMatrix=t)},e.vertexAttrib2fv=function(t,i){e.vertexAttrib2f(t,i[0],i[1])},e.vertexAttrib3fv=function(t,i){e.vertexAttrib3f(t,i[0],i[1],i[2])},e.vertexAttrib4fv=function(t,i){e.vertexAttrib4f(t,i[0],i[1],i[2],i[3])},e}}).call(e,i(6))},function(t,e,i){(function(e){"use strict";function i(t,e){this.width=t,this.height=e,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}}t.exports=i,i.prototype.setSprite=function(t){this.sprite=t},i.prototype.getDash=function(t,e){var i=t.join(",")+e;return this.positions[i]||(this.positions[i]=this.addDash(t,e)),this.positions[i]},i.prototype.addDash=function(t,i){var n=i?7:0,r=2*n+1,o=128;if(this.nextRow+r>this.height)return e.warn("LineAtlas out of space"),null;for(var a=0,s=0;s<t.length;s++)a+=t[s];for(var u=this.width/a,l=u/2,h=t.length%2===1,c=-n;n>=c;c++)for(var f=this.nextRow+n+c,d=this.width*f,p=h?-t[t.length-1]:0,m=t[0],v=1,g=0;g<this.width;g++){for(;g/u>m;)p=m,m+=t[v],h&&v===t.length-1&&(m+=t[0]),v++;var y,_=Math.abs(g-p*u),x=Math.abs(g-m*u),b=Math.min(_,x),w=v%2===1;if(i){var M=n?c/n*(l+1):0;if(w){var S=l-Math.abs(M);y=Math.sqrt(b*b+S*S)}else y=l-Math.sqrt(b*b+M*M)}else y=(w?1:-1)*b;this.data[3+4*(d+g)]=Math.max(0,Math.min(255,y+o))}var E={y:(this.nextRow+n+.5)/this.height,height:2*n/this.height,width:a};return this.nextRow+=r,this.dirty=!0,E},i.prototype.bind=function(t){this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,this.data))},i.prototype.debug=function(){var t=document.createElement("canvas");document.body.appendChild(t),t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.background="#ff0",t.width=this.width,t.height=this.height;for(var e=t.getContext("2d"),i=e.getImageData(0,0,this.width,this.height),n=0;n<this.data.length;n++)if(this.sdf){var r=4*n;i.data[r]=i.data[r+1]=i.data[r+2]=0,i.data[r+3]=this.data[n]}else i.data[n]=this.data[n];e.putImageData(i,0,0)}}).call(e,i(6))},function(t,e,i){"use strict";function n(t,e){this.gl=r.extend(t),this.transform=e,this.reusableTextures={},this.preFbos={},this.frameHistory=new s,this.setup(),this.numSublayers=3,this.depthEpsilon=1/Math.pow(2,16)}var r=i(125),o=i(5),a=i(16).mat4,s=i(124),u=i(32),l=i(3).EXTENT;t.exports=n,n.prototype.resize=function(t,e){var i=this.gl;this.width=t*o.devicePixelRatio,this.height=e*o.devicePixelRatio,i.viewport(0,0,this.width,this.height)},n.prototype.setup=function(){var t=this.gl;t.verbose=!0,t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.enable(t.STENCIL_TEST),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),this._depthMask=!1,t.depthMask(!1),this.debugShader=t.initializeShader("debug",["a_pos"],["u_matrix","u_color"]),this.rasterShader=t.initializeShader("raster",["a_pos","a_texture_pos"],["u_matrix","u_brightness_low","u_brightness_high","u_saturation_factor","u_spin_weights","u_contrast_factor","u_opacity0","u_opacity1","u_image0","u_image1","u_tl_parent","u_scale_parent","u_buffer_scale"]),this.circleShader=t.initializeShader("circle",["a_pos"],["u_matrix","u_exmatrix","u_blur","u_size","u_color"]),this.lineShader=t.initializeShader("line",["a_pos","a_data"],["u_matrix","u_linewidth","u_color","u_ratio","u_blur","u_extra","u_antialiasingmatrix","u_offset","u_exmatrix"]),this.linepatternShader=t.initializeShader("linepattern",["a_pos","a_data"],["u_matrix","u_linewidth","u_ratio","u_pattern_size_a","u_pattern_size_b","u_pattern_tl_a","u_pattern_br_a","u_pattern_tl_b","u_pattern_br_b","u_blur","u_fade","u_opacity","u_extra","u_antialiasingmatrix","u_offset"]),this.linesdfpatternShader=t.initializeShader("linesdfpattern",["a_pos","a_data"],["u_matrix","u_linewidth","u_color","u_ratio","u_blur","u_patternscale_a","u_tex_y_a","u_patternscale_b","u_tex_y_b","u_image","u_sdfgamma","u_mix","u_extra","u_antialiasingmatrix","u_offset"]),this.sdfShader=t.initializeShader("sdf",["a_pos","a_offset","a_data1","a_data2"],["u_matrix","u_exmatrix","u_texture","u_texsize","u_color","u_gamma","u_buffer","u_zoom","u_fadedist","u_minfadezoom","u_maxfadezoom","u_fadezoom","u_skewed","u_extra"]),this.iconShader=t.initializeShader("icon",["a_pos","a_offset","a_data1","a_data2"],["u_matrix","u_exmatrix","u_texture","u_texsize","u_zoom","u_fadedist","u_minfadezoom","u_maxfadezoom","u_fadezoom","u_opacity","u_skewed","u_extra"]),this.outlineShader=t.initializeShader("outline",["a_pos"],["u_matrix","u_color","u_world"]),this.patternShader=t.initializeShader("pattern",["a_pos"],["u_matrix","u_pattern_tl_a","u_pattern_br_a","u_pattern_tl_b","u_pattern_br_b","u_mix","u_patternscale_a","u_patternscale_b","u_opacity","u_image","u_offset_a","u_offset_b"]),this.fillShader=t.initializeShader("fill",["a_pos"],["u_matrix","u_color"]),this.collisionBoxShader=t.initializeShader("collisionbox",["a_pos","a_extrude","a_data"],["u_matrix","u_scale","u_zoom","u_maxzoom"]),this.identityMatrix=a.create(),this.backgroundBuffer=t.createBuffer(),this.backgroundBuffer.itemSize=2,this.backgroundBuffer.itemCount=4,t.bindBuffer(t.ARRAY_BUFFER,this.backgroundBuffer),t.bufferData(t.ARRAY_BUFFER,new Int16Array([-1,-1,1,-1,-1,1,1,1]),t.STATIC_DRAW),this.tileExtentBuffer=t.createBuffer(),this.tileExtentBuffer.itemSize=4,this.tileExtentBuffer.itemCount=4,t.bindBuffer(t.ARRAY_BUFFER,this.tileExtentBuffer),t.bufferData(t.ARRAY_BUFFER,new Int16Array([0,0,0,0,l,0,32767,0,0,l,0,32767,l,l,32767,32767]),t.STATIC_DRAW),
this.debugBuffer=t.createBuffer(),this.debugBuffer.itemSize=2,this.debugBuffer.itemCount=5,t.bindBuffer(t.ARRAY_BUFFER,this.debugBuffer),t.bufferData(t.ARRAY_BUFFER,new Int16Array([0,0,l,0,l,l,0,l,0,0]),t.STATIC_DRAW),this.debugTextBuffer=t.createBuffer(),this.debugTextBuffer.itemSize=2},n.prototype.clearColor=function(){var t=this.gl;t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)},n.prototype.clearStencil=function(){var t=this.gl;t.clearStencil(0),t.stencilMask(255),t.clear(t.STENCIL_BUFFER_BIT)},n.prototype.clearDepth=function(){var t=this.gl;t.clearDepth(1),this.depthMask(!0),t.clear(t.DEPTH_BUFFER_BIT)},n.prototype._renderTileClippingMasks=function(t,e){var i=this.gl;i.colorMask(!1,!1,!1,!1),this.depthMask(!1),i.disable(i.DEPTH_TEST),i.enable(i.STENCIL_TEST),i.stencilMask(248),i.stencilOp(i.KEEP,i.KEEP,i.REPLACE);var n=1;this._tileClippingMaskIDs={};for(var r=0;r<t.length;r++){var o=t[r],a=this._tileClippingMaskIDs[o.id]=n++<<3;i.stencilFunc(i.ALWAYS,a,248),i.switchShader(this.fillShader,this.calculatePosMatrix(o,e)),i.bindBuffer(i.ARRAY_BUFFER,this.tileExtentBuffer),i.vertexAttribPointer(this.fillShader.a_pos,this.tileExtentBuffer.itemSize,i.SHORT,!1,8,0),i.drawArrays(i.TRIANGLE_STRIP,0,this.tileExtentBuffer.itemCount)}i.stencilMask(0),i.colorMask(!0,!0,!0,!0),this.depthMask(!0),i.enable(i.DEPTH_TEST)},n.prototype.enableTileClippingMask=function(t){var e=this.gl;e.stencilFunc(e.EQUAL,this._tileClippingMaskIDs[t.id],248)},n.prototype.prepareBuffers=function(){},n.prototype.bindDefaultFramebuffer=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)};var h={symbol:i(123),circle:i(117),line:i(121),fill:i(120),raster:i(122),background:i(116),debug:i(119)};n.prototype.render=function(t,e){this.style=t,this.options=e,this.lineAtlas=t.lineAtlas,this.spriteAtlas=t.spriteAtlas,this.spriteAtlas.setSprite(t.sprite),this.glyphSource=t.glyphSource,this.frameHistory.record(this.transform.zoom),this.prepareBuffers(),this.clearColor(),this.clearDepth(),this.depthRange=(t._order.length+2)*this.numSublayers*this.depthEpsilon,this.renderPass({isOpaquePass:!0}),this.renderPass({isOpaquePass:!1})},n.prototype.renderPass=function(t){var e=this.style._groups,i=t.isOpaquePass;this.currentLayer=i?this.style._order.length:-1;for(var n=0;n<e.length;n++){var r=e[i?e.length-1-n:n],o=this.style.sources[r.source],a=[];o&&(a=o.getVisibleCoordinates(),this.clearStencil(),o.prepare&&o.prepare(),o.isTileClipped&&this._renderTileClippingMasks(a,o.maxzoom)),i?(this.gl.disable(this.gl.BLEND),this.isOpaquePass=!0):(this.gl.enable(this.gl.BLEND),this.isOpaquePass=!1,a.reverse());for(var s=0;s<r.length;s++){var u=r[i?r.length-1-s:s];this.currentLayer+=i?-1:1,this.renderLayer(this,o,u,a)}o&&h.debug(this,o,a)}},n.prototype.depthMask=function(t){t!==this._depthMask&&(this._depthMask=t,this.gl.depthMask(t))},n.prototype.renderLayer=function(t,e,i,n){i.isHidden(this.transform.zoom)||("background"===i.type||n.length)&&h[i.type](t,e,i,n)},n.prototype.drawStencilBuffer=function(){var t=this.gl;t.switchShader(this.fillShader,this.identityMatrix),t.stencilMask(0),t.stencilFunc(t.EQUAL,128,128),t.bindBuffer(t.ARRAY_BUFFER,this.backgroundBuffer),t.vertexAttribPointer(this.fillShader.a_pos,this.backgroundBuffer.itemSize,t.SHORT,!1,0,0),t.uniform4fv(this.fillShader.u_color,[0,0,0,.5]),t.drawArrays(t.TRIANGLE_STRIP,0,this.tileExtentBuffer.itemCount)},n.prototype.setDepthSublayer=function(t){var e=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon,i=e-1+this.depthRange;this.gl.depthRange(i,e)},n.prototype.translatePosMatrix=function(t,e,i,n){if(!i[0]&&!i[1])return t;if("viewport"===n){var r=Math.sin(-this.transform.angle),o=Math.cos(-this.transform.angle);i=[i[0]*o-i[1]*r,i[0]*r+i[1]*o]}var s=[e.pixelsToTileUnits(i[0],this.transform.zoom),e.pixelsToTileUnits(i[1],this.transform.zoom),0],u=new Float32Array(16);return a.translate(u,t,s),u},n.prototype.calculatePosMatrix=function(t,e){t instanceof u&&(t=t.toCoordinate());var i=this.transform;void 0===e&&(e=1/0);var n=Math.min(t.zoom,e),r=t.column,o=t.row,s=i.worldSize/Math.pow(2,n),h=new Float64Array(16);return a.identity(h),a.translate(h,h,[r*s,o*s,0]),a.scale(h,h,[s/l,s/l,1]),a.multiply(h,i.projMatrix,h),new Float32Array(h)},n.prototype.saveTexture=function(t){var e=this.reusableTextures[t.size];e?e.push(t):this.reusableTextures[t.size]=[t]},n.prototype.getTexture=function(t){var e=this.reusableTextures[t];return e&&e.length>0?e.pop():null}},function(t,e,i){"use strict";function n(t){this.features=t,this.length=t.length}function r(t){this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=s}var o=i(2),a=i(39).VectorTileFeature,s=i(3).EXTENT;t.exports=n,n.prototype.feature=function(t){return new r(this.features[t])},r.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var e=0;e<t.length;e++){for(var i=t[e],n=[],r=0;r<i.length;r++)n.push(new o(i[r][0],i[r][1]));this.geometry.push(n)}return this.geometry},r.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,i=-(1/0),n=1/0,r=-(1/0),o=0;o<t.length;o++)for(var a=t[o],s=0;s<a.length;s++){var u=a[s];e=Math.min(e,u.x),i=Math.max(i,u.x),n=Math.min(n,u.y),r=Math.max(r,u.y)}return[e,n,i,r]},r.prototype.toGeoJSON=a.prototype.toGeoJSON},function(t,e,i){"use strict";function n(t){this.self=t,this.actor=new r(t,this),this.loading={},this.loaded={},this.layers=[],this.geoJSONIndexes={}}var r=i(64),o=i(130),a=i(1),s=i(12),u=i(39),l=i(68),h=i(172),c=i(86),f=i(128);t.exports=function(t){return new n(t)},a.extend(n.prototype,{"set layers":function(t){this.layers=t},"update layers":function(t){var e,i={};for(e=0;e<t.length;e++)i[t[e].id]=t[e];for(e=0;e<this.layers.length;e++)this.layers[e]=i[this.layers[e].id]||this.layers[e]},"load tile":function(t,e){function i(t,i){return delete this.loading[n][r],t?e(t):(a.data=new u.VectorTile(new l(new Uint8Array(i))),a.parse(a.data,this.layers,this.actor,e),this.loaded[n]=this.loaded[n]||{},void(this.loaded[n][r]=a))}var n=t.source,r=t.uid;this.loading[n]||(this.loading[n]={});var a=this.loading[n][r]=new o(t);a.xhr=s.getArrayBuffer(t.url,i.bind(this))},"reload tile":function(t,e){var i=this.loaded[t.source],n=t.uid;if(i&&i[n]){var r=i[n];r.parse(r.data,this.layers,this.actor,e)}},"abort tile":function(t){var e=this.loading[t.source],i=t.uid;e&&e[i]&&(e[i].xhr.abort(),delete e[i])},"remove tile":function(t){var e=this.loaded[t.source],i=t.uid;e&&e[i]&&delete e[i]},"redo placement":function(t,e){var i=this.loaded[t.source],n=this.loading[t.source],r=t.uid;if(i&&i[r]){var o=i[r],a=o.redoPlacement(t.angle,t.pitch,t.collisionDebug);a.result&&e(null,a.result,a.transferables)}else n&&n[r]&&(n[r].angle=t.angle)},"parse geojson":function(t,e){var i=function(i,n){if(i)return e(i);if("object"!=typeof n)return e(new Error("Input data is not a valid GeoJSON object."));try{this.geoJSONIndexes[t.source]=t.cluster?h(t.superclusterOptions).load(n.features):c(n,t.geojsonVtOptions)}catch(i){return e(i)}e(null)}.bind(this);"string"==typeof t.data?s.getJSON(t.data,i):i(null,t.data)},"load geojson tile":function(t,e){var i=t.source,n=t.coord;if(!this.geoJSONIndexes[i])return e(null,null);var r=this.geoJSONIndexes[i].getTile(Math.min(n.z,t.maxZoom),n.x,n.y);if(!r)return e(null,null);var a=new o(t);a.parse(new f(r.features),this.layers,this.actor,e),this.loaded[i]=this.loaded[i]||{},this.loaded[i][t.uid]=a},"query features":function(t,e){var i=this.loaded[t.source]&&this.loaded[t.source][t.uid];i?i.featureTree.query(t,e):e(null,[])}})},function(t,e,i){"use strict";function n(t){this.coord=t.coord,this.uid=t.uid,this.zoom=t.zoom,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=t.overscaling,this.angle=t.angle,this.pitch=t.pitch,this.collisionDebug=t.collisionDebug}function r(t){return t.filter(function(t){for(var e in t.buffers)if(t.buffers[e].length>0)return!0;return!1})}function o(t){var e=[];for(var i in t)for(var n in t.buffers)e.push(t[i].buffers[n].arrayBuffer);return e}var a=i(112),s=i(144),u=i(3);t.exports=n,n.prototype.parse=function(t,e,i,n){function l(t,e){for(var i=0;i<t.length;i++){var n=t.feature(i);for(var r in e)e[r].filter(n)&&e[r].features.push(n)}}function h(t){if(t)return n(t);if(A++,2===A){for(var e=w.length-1;e>=0;e--)c(y,w[e]);f()}}function c(t,e){var i=Date.now();e.populateBuffers(S,I,T);var n=Date.now()-i;if(e.interactive)for(var r=0;r<e.features.length;r++){var o=e.features[r];t.featureTree.insert(o.bbox(),e.layers,o)}e.features=null,g._total+=n,g[e.id]=(g[e.id]||0)+n}function f(){y.status="done",y.redoPlacementAfterDone&&(y.redoPlacement(y.angle,y.pitch,null),y.redoPlacementAfterDone=!1),b=r(b),n(null,{buckets:b.map(function(t){return t.serialize()}),bucketStats:g},o(b))}this.status="parsing",this.featureTree=new a(this.coord,this.overscaling);var d,p,m,v,g={_total:0},y=this,_={},x={};for(d=0;d<e.length;d++)p=e[d],p.source===this.source&&(p.ref||p.minzoom&&this.zoom<p.minzoom||p.maxzoom&&this.zoom>=p.maxzoom||p.layout&&"none"===p.layout.visibility||(v=u.create({layer:p,zoom:this.zoom,overscaling:this.overscaling,collisionDebug:this.collisionDebug}),v.createFilter(),_[p.id]=v,t.layers&&(m=p["source-layer"],x[m]=x[m]||{},x[m][p.id]=v)));for(d=0;d<e.length;d++)p=e[d],p.source===this.source&&p.ref&&_[p.ref]&&_[p.ref].layers.push(p.id);if(t.layers)for(m in x)p=t.layers[m],p&&l(p,x[m]);else l(t,_);var b=[],w=this.symbolBuckets=[],M=[],S=new s(this.angle,this.pitch);for(var E in _)v=_[E],0!==v.features.length&&(b.push(v),"symbol"===v.type?w.push(v):M.push(v));var T={},I={},A=0;if(w.length>0){for(d=w.length-1;d>=0;d--)w[d].updateIcons(T),w[d].updateFont(I);for(var D in I)I[D]=Object.keys(I[D]).map(Number);T=Object.keys(T),i.send("get glyphs",{uid:this.uid,stacks:I},function(t,e){I=e,h(t)}),T.length?i.send("get icons",{icons:T},function(t,e){T=e,h(t)}):h()}for(d=M.length-1;d>=0;d--)c(this,M[d]);return 0===w.length?f():void 0},n.prototype.redoPlacement=function(t,e,i){if("done"!==this.status)return this.redoPlacementAfterDone=!0,this.angle=t,{};for(var n=new s(t,e),a=this.symbolBuckets,u=a.length-1;u>=0;u--)a[u].placeFeatures(n,i);return a=r(a),{result:{buckets:a.map(function(t){return t.serialize()})},transferables:o(a)}}},function(t,e,i){"use strict";function n(t){this.base=t,this.retina=s.devicePixelRatio>1;var e=this.retina?"@2x":"";a.getJSON(u(t,e,".json"),function(t,e){return t?void this.fire("error",{error:t}):(this.data=e,void(this.img&&this.fire("load")))}.bind(this)),a.getImage(u(t,e,".png"),function(t,e){if(t)return void this.fire("error",{error:t});for(var i=e.getData(),n=e.data=new Uint8Array(i.length),r=0;r<i.length;r+=4){var o=i[r+3]/255;n[r+0]=i[r+0]*o,n[r+1]=i[r+1]*o,n[r+2]=i[r+2]*o,n[r+3]=i[r+3]}this.img=e,this.data&&this.fire("load")}.bind(this))}function r(){}var o=i(7),a=i(12),s=i(5),u=i(15).normalizeSpriteURL;t.exports=n,n.prototype=Object.create(o),n.prototype.toJSON=function(){return this.base},n.prototype.loaded=function(){return!(!this.data||!this.img)},n.prototype.resize=function(){if(s.devicePixelRatio>1!==this.retina){var t=new n(this.base);t.on("load",function(){this.img=t.img,this.data=t.data,this.retina=t.retina}.bind(this))}},r.prototype={x:0,y:0,width:0,height:0,pixelRatio:1,sdf:!1},n.prototype.getSpritePosition=function(t){if(!this.loaded())return new r;var e=this.data&&this.data[t];return e&&this.img?e:new r}},function(t,e,i){"use strict";function n(t,e){if(!t._loaded)throw new Error("Style is not done loading");var i=Object.create(n.prototype);if(i._style=t,i._groupLayers=!1,i._updateAllLayers=!1,i._updatedLayers={},i._updatedSources={},i._events=[],i._change=!1,e(i),i._groupLayers&&i._style._groupLayers(),i._updateAllLayers)i._style._broadcastLayers();else{var r=Object.keys(i._updatedLayers);r.length&&i._style._broadcastLayers(r)}Object.keys(i._updatedSources).forEach(function(t){i._style._reloadSource(t)}),i._events.forEach(function(t){i._style.fire.apply(i._style,t)}),i._change&&i._style.fire("change")}var r=i(22),o=i(11),a=i(35),s=i(60),u=i(1);n.prototype={addLayer:function(t,e){if(!(t instanceof o)){if(a.emitErrors(this._style,a.layer({key:"layers."+t.id,value:t,style:this._style.serialize(),styleSpec:s,arrayIndex:-1})))return this;var i=t.ref&&this._style.getLayer(t.ref);t=o.create(t,i)}return this._style._validateLayer(t),t.on("error",this._style._forwardLayerEvent),this._style._layers[t.id]=t,this._style._order.splice(e?this._style._order.indexOf(e):1/0,0,t.id),this._groupLayers=!0,this._updateAllLayers=!0,t.source&&(this._updatedSources[t.source]=!0),this._events.push(["layer.add",{layer:t}]),this._change=!0,this},removeLayer:function(t){var e=this._style._layers[t];if(void 0===e)throw new Error("There is no layer with this ID");for(var i in this._style._layers)this._style._layers[i].ref===t&&this.removeLayer(i);return e.off("error",this._style._forwardLayerEvent),delete this._style._layers[t],this._style._order.splice(this._style._order.indexOf(t),1),this._groupLayers=!0,this._updateAllLayers=!0,this._events.push(["layer.remove",{layer:e}]),this._change=!0,this},setPaintProperty:function(t,e,i,n){return this._style.getLayer(t).setPaintProperty(e,i,n),this._change=!0,this},setLayoutProperty:function(t,e,i){var n=this._style.getReferentLayer(t);return n.getLayoutProperty(e)===i?this:(n.setLayoutProperty(e,i),this._updatedLayers[t]=!0,n.source&&(this._updatedSources[n.source]=!0),this._change=!0,this)},setFilter:function(t,e){if(a.emitErrors(this._style,a.filter({key:"layers."+t+".filter",value:e,style:this._style.serialize(),styleSpec:s})))return this;var i=this._style.getReferentLayer(t);return u.deepEqual(i.filter,e)?this:(i.filter=e,this._updatedLayers[t]=!0,i.source&&(this._updatedSources[i.source]=!0),this._change=!0,this)},setLayerZoomRange:function(t,e,i){var n=this._style.getReferentLayer(t);return n.minzoom===e&&n.maxzoom===i?this:(null!=e&&(n.minzoom=e),null!=i&&(n.maxzoom=i),this._updatedLayers[t]=!0,n.source&&(this._updatedSources[n.source]=!0),this._change=!0,this)},addSource:function(t,e){if(!this._style._loaded)throw new Error("Style is not done loading");if(void 0!==this._style.sources[t])throw new Error("There is already a source with this ID");return!r.is(e)&&a.emitErrors(this._style,a.source({key:"sources."+t,style:this._style.serialize(),value:e,styleSpec:s}))?this:(e=r.create(e),this._style.sources[t]=e,e.id=t,e.style=this._style,e.dispatcher=this._style.dispatcher,e.on("load",this._style._forwardSourceEvent).on("error",this._style._forwardSourceEvent).on("change",this._style._forwardSourceEvent).on("tile.add",this._style._forwardTileEvent).on("tile.load",this._style._forwardTileEvent).on("tile.error",this._style._forwardTileEvent).on("tile.remove",this._style._forwardTileEvent).on("tile.stats",this._style._forwardTileEvent),this._events.push(["source.add",{source:e}]),this._change=!0,this)},removeSource:function(t){if(void 0===this._style.sources[t])throw new Error("There is no source with this ID");var e=this._style.sources[t];return delete this._style.sources[t],e.off("load",this._style._forwardSourceEvent).off("error",this._style._forwardSourceEvent).off("change",this._style._forwardSourceEvent).off("tile.add",this._style._forwardTileEvent).off("tile.load",this._style._forwardTileEvent).off("tile.error",this._style._forwardTileEvent).off("tile.remove",this._style._forwardTileEvent).off("tile.stats",this._style._forwardTileEvent),this._events.push(["source.remove",{source:e}]),this._change=!0,this}},t.exports=n},function(t,e,i){"use strict";function n(t,e){this.type=t.type,this.transitionable=t.transition,this.value=e,this.json=JSON.stringify(this.value);var i="color"===this.type?a(this.value):e;"interpolated"===t["function"]?this.calculate=o.interpolated(i):(this.calculate=o["piecewise-constant"](i),t.transition&&(this.calculate=r(this.calculate)))}function r(t){return function(e,i,n){var r,o,a,s=e%1,u=Math.min((Date.now()-i.lastIntegerZoomTime)/n,1),l=1,h=1;return e>i.lastIntegerZoom?(r=s+(1-s)*u,l*=2,o=t(e-1),a=t(e)):(r=1-(1-u)*s,a=t(e),o=t(e+1),l/=2),{from:o,fromScale:l,to:a,toScale:h,t:r}}}var o=i(99),a=i(58);t.exports=n},function(t,e,i){"use strict";function n(){o.apply(this,arguments)}var r=i(1),o=i(11);t.exports=n,n.prototype=r.inherit(o,{})},function(t,e,i){"use strict";function n(){o.apply(this,arguments)}var r=i(1),o=i(11);t.exports=n,n.prototype=r.inherit(o,{})},function(t,e,i){"use strict";function n(){o.apply(this,arguments)}var r=i(1),o=i(11);t.exports=n,n.prototype=r.inherit(o,{})},function(t,e,i){"use strict";function n(){o.apply(this,arguments)}var r=i(1),o=i(11);t.exports=n,n.prototype=r.inherit(o,{getPaintValue:function(t,e){var i=o.prototype.getPaintValue.apply(this,arguments);if(i&&"line-dasharray"===t){var n=this.getPaintValue("line-width",Math.floor(e),1/0);i.fromScale*=n,i.toScale*=n}return i}})},function(t,e,i){"use strict";function n(){o.apply(this,arguments)}var r=i(1),o=i(11);t.exports=n,n.prototype=r.inherit(o,{})},function(t,e,i){"use strict";function n(){o.apply(this,arguments)}var r=i(1),o=i(11);t.exports=n,n.prototype=r.inherit(o,{isHidden:function(){if(o.prototype.isHidden.apply(this,arguments))return!0;var t=0===this.paint["text-opacity"]||!this.layout["text-field"],e=0===this.paint["icon-opacity"]||!this.layout["icon-image"];return!(!t||!e)},getLayoutValue:function(t,e,i){return("text-rotation-alignment"!==t||"line"!==this.getLayoutValue("symbol-placement",e,i)||this.getLayoutProperty("text-rotation-alignment"))&&("icon-rotation-alignment"!==t||"line"!==this.getLayoutValue("symbol-placement",e,i)||this.getLayoutProperty("icon-rotation-alignment"))?o.prototype.getLayoutValue.apply(this,arguments):"map"}})},function(t,e,i){"use strict";function n(t,e,i){this.declaration=t,this.startTime=this.endTime=(new Date).getTime();var n=t.type;"string"!==n&&"array"!==n||!t.transitionable?this.interp=a[n]:this.interp=r,this.oldTransition=e,this.duration=i.duration||0,this.delay=i.delay||0,this.instant()||(this.endTime=this.startTime+this.duration+this.delay,this.ease=o.easeCubicInOut),e&&e.endTime<=this.startTime&&delete e.oldTransition}function r(t,e,i){return{from:t.to,fromScale:t.toScale,to:e.to,toScale:e.toScale,t:i}}var o=i(1),a=i(23);t.exports=n,n.prototype.instant=function(){return!this.oldTransition||!this.interp||0===this.duration&&0===this.delay},n.prototype.at=function(t,e,i){var n=this.declaration.calculate(t,e,this.duration);if(this.instant())return n;if(i=i||Date.now(),i<this.endTime){var r=this.oldTransition.at(t,e,this.startTime),o=this.ease((i-this.startTime-this.delay)/this.duration);n=this.interp(r,n,o)}return n}},function(t,e){"use strict";function i(t,e,i,n,r){if(void 0===e.segment)return!0;for(var o=e,a=e.segment+1,s=0;s>-i/2;){if(a--,0>a)return!1;s-=t[a].dist(o),o=t[a]}s+=t[a].dist(t[a+1]),a++;for(var u=[],l=0;i/2>s;){var h=t[a-1],c=t[a],f=t[a+1];if(!f)return!1;var d=h.angleTo(c)-c.angleTo(f);for(d=Math.abs((d+3*Math.PI)%(2*Math.PI)-Math.PI),u.push({distance:s,angleDelta:d}),l+=d;s-u[0].distance>n;)l-=u.shift().angleDelta;if(l>r)return!1;a++,s+=c.dist(f)}return!0}t.exports=i},function(t,e,i){"use strict";function n(t,e,i,n,o){for(var a=[],s=0;s<t.length;s++)for(var u,l=t[s],h=0;h<l.length-1;h++){var c=l[h],f=l[h+1];c.x<e&&f.x<e||(c.x<e?c=new r(e,c.y+(f.y-c.y)*((e-c.x)/(f.x-c.x)))._round():f.x<e&&(f=new r(e,c.y+(f.y-c.y)*((e-c.x)/(f.x-c.x)))._round()),c.y<i&&f.y<i||(c.y<i?c=new r(c.x+(f.x-c.x)*((i-c.y)/(f.y-c.y)),i)._round():f.y<i&&(f=new r(c.x+(f.x-c.x)*((i-c.y)/(f.y-c.y)),i)._round()),c.x>=n&&f.x>=n||(c.x>=n?c=new r(n,c.y+(f.y-c.y)*((n-c.x)/(f.x-c.x)))._round():f.x>=n&&(f=new r(n,c.y+(f.y-c.y)*((n-c.x)/(f.x-c.x)))._round()),c.y>=o&&f.y>=o||(c.y>=o?c=new r(c.x+(f.x-c.x)*((o-c.y)/(f.y-c.y)),o)._round():f.y>=o&&(f=new r(c.x+(f.x-c.x)*((o-c.y)/(f.y-c.y)),o)._round()),u&&c.equals(u[u.length-1])||(u=[c],a.push(u)),u.push(f)))))}return a}var r=i(2);t.exports=n},function(t,e,i){"use strict";function n(t,e,i,n,a,s,u){var l=i.top*n-a,h=i.bottom*n+a,c=i.left*n-a,f=i.right*n+a;if(this.boxes=[],s){var d=h-l,p=f-c;if(0>=d)return;if(d=Math.max(10*n,d),u){var m=t[e.segment+1].sub(t[e.segment])._unit()._mult(p),v=[e.sub(m),e.add(m)];this._addLineCollisionBoxes(v,e,0,p,d)}else this._addLineCollisionBoxes(t,e,e.segment,p,d)}else this.boxes.push(new r(new o(e.x,e.y),c,l,f,h,1/0))}var r=i(62),o=i(2);t.exports=n,n.prototype._addLineCollisionBoxes=function(t,e,i,n,o){var a=o/2,s=Math.floor(n/a),u=-o/2,l=this.boxes,h=e,c=i+1,f=u;do{if(c--,0>c)return l;f-=t[c].dist(h),h=t[c]}while(f>-n/2);for(var d=t[c].dist(t[c+1]),p=0;s>p;p++){for(var m=-n/2+p*a;m>f+d;){if(f+=d,c++,c+1>=t.length)return l;d=t[c].dist(t[c+1])}var v=m-f,g=t[c],y=t[c+1],_=y.sub(g)._unit()._mult(v)._add(g),x=Math.max(Math.abs(m-u)-a/2,0),b=n/2/x;l.push(new r(_,-o/2,-o/2,o/2,o/2,b))}return l}},function(t,e,i){"use strict";function n(t,e){this.tree=r(),this.angle=t;var i=Math.sin(t),n=Math.cos(t);this.rotationMatrix=[n,-i,i,n],this.reverseRotationMatrix=[n,i,-i,n],this.yStretch=1/Math.cos(e/180*Math.PI),this.yStretch=Math.pow(this.yStretch,1.3),this.edges=[new o(new a(0,0),0,-(1/0),0,1/0,1/0),new o(new a(s,0),0,-(1/0),0,1/0,1/0),new o(new a(0,0),-(1/0),0,1/0,0,1/0),new o(new a(0,s),-(1/0),0,1/0,0,1/0)]}var r=i(37),o=i(62),a=i(2),s=i(3).EXTENT;t.exports=n,n.prototype.minScale=.25,n.prototype.maxScale=2,n.prototype.placeCollisionFeature=function(t,e,i){for(var n=this.minScale,r=this.rotationMatrix,s=this.yStretch,u=0;u<t.boxes.length;u++){var l=t.boxes[u];if(!e){var h=l.anchorPoint.matMult(r),c=h.x,f=h.y;l[0]=c+l.x1,l[1]=f+l.y1*s,l[2]=c+l.x2,l[3]=f+l.y2*s;for(var d=this.tree.search(l),p=0;p<d.length;p++){var m=d[p],v=m.anchorPoint.matMult(r);if(n=this.getPlacementScale(n,h,l,v,m),n>=this.maxScale)return n}}if(i)for(var g=this.reverseRotationMatrix,y=new a(l.x1,l.y1).matMult(g),_=new a(l.x2,l.y1).matMult(g),x=new a(l.x1,l.y2).matMult(g),b=new a(l.x2,l.y2).matMult(g),w=new o(l.anchorPoint,Math.min(y.x,_.x,x.x,b.x),Math.min(y.y,_.x,x.x,b.x),Math.max(y.x,_.x,x.x,b.x),Math.max(y.y,_.x,x.x,b.x),l.maxScale),M=0;M<this.edges.length;M++){var S=this.edges[M];if(n=this.getPlacementScale(n,l.anchorPoint,w,S.anchorPoint,S),n>=this.maxScale)return n}}return n},n.prototype.getPlacementScale=function(t,e,i,n,r){var o=(r.x1-i.x2)/(e.x-n.x),a=(r.x2-i.x1)/(e.x-n.x),s=(r.y1-i.y2)*this.yStretch/(e.y-n.y),u=(r.y2-i.y1)*this.yStretch/(e.y-n.y);(isNaN(o)||isNaN(a))&&(o=a=1),(isNaN(s)||isNaN(u))&&(s=u=1);var l=Math.min(Math.max(o,a),Math.max(s,u));return l>r.maxScale&&(l=r.maxScale),l>i.maxScale&&(l=i.maxScale),l>t&&l>=r.placementScale&&(t=l),t},n.prototype.insertCollisionFeature=function(t,e){for(var i=t.boxes,n=0;n<i.length;n++)i[n].placementScale=e;e<this.maxScale&&this.tree.load(i)}},function(t,e,i){"use strict";function n(t,e,i,n,o,a,s,u,l){var h=n?.6*a*s:0,c=Math.max(n?n.right-n.left:0,o?o.right-o.left:0),f=0===t[0].x||t[0].x===l||0===t[0].y||t[0].y===l;e/4>e-c*s&&(e=c*s+e/4);var d=2*a,p=f?e/2*u%e:(c/2+d)*s*u%e;return r(t,p,e,h,i,c*s,f,!1,l)}function r(t,e,i,n,u,l,h,c,f){for(var d=l/2,p=0,m=0;m<t.length-1;m++)p+=t[m].dist(t[m+1]);for(var v=0,g=e-i,y=[],_=0;_<t.length-1;_++){for(var x=t[_],b=t[_+1],w=x.dist(b),M=b.angleTo(x);v+w>g+i;){g+=i;var S=(g-v)/w,E=o(x.x,b.x,S),T=o(x.y,b.y,S);if(E>=0&&f>E&&T>=0&&f>T&&g-d>=0&&p>=g+d){var I=new a(E,T,M,_)._round();n&&!s(t,I,l,n,u)||y.push(I)}}v+=w}return c||y.length||h||(y=r(t,v/2,i,n,u,l,h,!0,f)),y}var o=i(23),a=i(61),s=i(141);t.exports=n},function(t,e,i){(function(e){"use strict";function n(t,e){this.width=t,this.height=e,this.bin=new r(t,e),this.index={},this.ids={},this.data=new Uint8Array(t*e)}var r=i(70);t.exports=n,n.prototype={get debug(){return"canvas"in this},set debug(t){t&&!this.canvas?(this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,document.body.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d")):!t&&this.canvas&&(this.canvas.parentNode.removeChild(this.canvas),delete this.ctx,delete this.canvas)}},n.prototype.getGlyphs=function(){var t,e,i,n={};for(var r in this.ids)t=r.split("#"),e=t[0],i=t[1],n[e]||(n[e]=[]),n[e].push(i);return n},n.prototype.getRects=function(){var t,e,i,n={};for(var r in this.ids)t=r.split("#"),e=t[0],i=t[1],n[e]||(n[e]={}),n[e][i]=this.index[r];return n},n.prototype.addGlyph=function(t,i,n,r){if(!n)return null;var o=i+"#"+n.id;if(this.index[o])return this.ids[o].indexOf(t)<0&&this.ids[o].push(t),this.index[o];if(!n.bitmap)return null;var a=n.width+2*r,s=n.height+2*r,u=1,l=a+2*u,h=s+2*u;l+=4-l%4,h+=4-h%4;var c=this.bin.allocate(l,h);if(c.x<0&&(this.resize(),c=this.bin.allocate(l,h)),c.x<0)return e.warn("glyph bitmap overflow"),{glyph:n,rect:null};this.index[o]=c,this.ids[o]=[t];for(var f=this.data,d=n.bitmap,p=0;s>p;p++)for(var m=this.width*(c.y+p+u)+c.x+u,v=a*p,g=0;a>g;g++)f[m+g]=d[v+g];return this.dirty=!0,c},n.prototype.resize=function(){var t=this.width,e=this.height;if(!(t>512||e>512)){this.texture&&(this.gl&&this.gl.deleteTexture(this.texture),this.texture=null),this.width*=2,this.height*=2,this.bin.resize(this.width,this.height);for(var i,n,r=new ArrayBuffer(this.width*this.height),o=0;e>o;o++)i=new Uint8Array(this.data.buffer,e*o,t),n=new Uint8Array(r,e*o*2,t),n.set(i);this.data=new Uint8Array(r)}},n.prototype.bind=function(t){this.gl=t,this.texture?t.bindTexture(t.TEXTURE_2D,this.texture):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,null))},n.prototype.updateTexture=function(t){if(this.bind(t),this.dirty){if(t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data),this.ctx){for(var e=this.ctx.getImageData(0,0,this.width,this.height),i=0,n=0;i<this.data.length;i++,n+=4)e.data[n]=this.data[i],e.data[n+1]=this.data[i],e.data[n+2]=this.data[i],e.data[n+3]=255;this.ctx.putImageData(e,0,0),this.ctx.strokeStyle="red";for(var r=0;r<this.bin.free.length;r++){var o=this.bin.free[r];this.ctx.strokeRect(o.x,o.y,o.w,o.h)}}this.dirty=!1}}}).call(e,i(6))},function(t,e,i){"use strict";function n(t){this.url=t&&a(t),this.atlases={},this.stacks={},this.loading={}}function r(t,e,i){var n=1;this.advance=t.advance,this.left=t.left-i-n,this.top=t.top+i+n,this.rect=e}function o(t,e,i,n){return n=n||"abc",i.replace("{s}",n[t.length%n.length]).replace("{fontstack}",t).replace("{range}",e)}var a=i(15).normalizeGlyphsURL,s=i(12).getArrayBuffer,u=i(167),l=i(146),h=i(68);t.exports=n,n.prototype.getSimpleGlyphs=function(t,e,i,n){void 0===this.stacks[t]&&(this.stacks[t]={}),void 0===this.atlases[t]&&(this.atlases[t]=new l(128,128));for(var o,a={},s=this.stacks[t],u=this.atlases[t],h=3,c={},f=0,d=0;d<e.length;d++){var p=e[d];if(o=Math.floor(p/256),s[o]){var m=s[o].glyphs[p],v=u.addGlyph(i,t,m,h);m&&(a[p]=new r(m,v,h))}else void 0===c[o]&&(c[o]=[],f++),c[o].push(p)}f||n(void 0,a,t);var g=function(e,o,s){if(!e)for(var l=this.stacks[t][o]=s.stacks[0],d=0;d<c[o].length;d++){var p=c[o][d],m=l.glyphs[p],v=u.addGlyph(i,t,m,h);m&&(a[p]=new r(m,v,h))}f--,f||n(void 0,a,t)}.bind(this);for(var y in c)this.loadRange(t,y,g)},n.prototype.loadRange=function(t,e,i){if(256*e>65535)return i("glyphs > 65535 not supported");void 0===this.loading[t]&&(this.loading[t]={});var n=this.loading[t];if(n[e])n[e].push(i);else{n[e]=[i];var r=256*e+"-"+(256*e+255),a=o(t,r,this.url);s(a,function(t,i){for(var r=!t&&new u(new h(new Uint8Array(i))),o=0;o<n[e].length;o++)n[e][o](t,e,r);delete n[e]})}},n.prototype.getGlyphAtlas=function(t){return this.atlases[t]}},function(t,e){"use strict";t.exports=function(t,e,i){function n(n){h.push(t[n]),c.push(i[n]),f.push(e[n]),d++}function r(t,e,i){var n=l[t];return delete l[t],l[e]=n,c[n][0].pop(),c[n][0]=c[n][0].concat(i[0]),n}function o(t,e,i){var n=u[e];return delete u[e],u[t]=n,c[n][0].shift(),c[n][0]=i[0].concat(c[n][0]),n}function a(t,e,i){var n=i?e[0][e[0].length-1]:e[0][0];return t+":"+n.x+":"+n.y}var s,u={},l={},h=[],c=[],f=[],d=0;for(s=0;s<t.length;s++){var p=i[s],m=e[s];if(m){var v=a(m,p),g=a(m,p,!0);if(v in l&&g in u&&l[v]!==u[g]){var y=o(v,g,p),_=r(v,g,c[y]);delete u[v],delete l[g],l[a(m,c[_],!0)]=_,c[y]=null}else v in l?r(v,g,p):g in u?o(v,g,p):(n(s),u[v]=d-1,l[g]=d-1)}else n(s)}return{features:h,textFeatures:f,geometries:c}}},function(t,e,i){"use strict";function n(t,e,i,n,r,o,a,s,u){this.anchorPoint=t,this.tl=e,this.tr=i,this.bl=n,this.br=r,this.tex=o,this.angle=a,this.minScale=s,this.maxScale=u}function r(t,e,i,r,o,a){var l=e.image.rect,h=1,c=e.left-h,f=c+l.w/e.image.pixelRatio,d=e.top-h,p=d+l.h/e.image.pixelRatio,m=new s(c,d),v=new s(f,d),g=new s(f,p),y=new s(c,p),_=o["icon-rotate"]*Math.PI/180;if(a){var x=r[t.segment];if(t.y===x.y&&t.x===x.x&&t.segment+1<r.length){var b=r[t.segment+1];_+=Math.atan2(t.y-b.y,t.x-b.x)+Math.PI}else _+=Math.atan2(t.y-x.y,t.x-x.x)}if(_){var w=Math.sin(_),M=Math.cos(_),S=[M,-w,w,M];m=m.matMult(S),v=v.matMult(S),y=y.matMult(S),g=g.matMult(S)}return[new n(new s(t.x,t.y),m,v,y,g,e.image.rect,0,u,1/0)]}function o(t,e,i,r,o,l){for(var h=o["text-rotate"]*Math.PI/180,c=o["text-keep-upright"],f=e.positionedGlyphs,d=[],p=0;p<f.length;p++){var m=f[p],v=m.glyph,g=v.rect;if(g){var y,_=(m.x+v.advance/2)*i,x=u;l?(y=[],x=a(y,t,_,r,t.segment,!0),c&&(x=Math.min(x,a(y,t,_,r,t.segment,!1)))):y=[{anchorPoint:new s(t.x,t.y),offset:0,angle:0,maxScale:1/0,minScale:u}];for(var b=m.x+v.left,w=m.y-v.top,M=b+g.w,S=w+g.h,E=new s(b,w),T=new s(M,w),I=new s(b,S),A=new s(M,S),D=0;D<y.length;D++){var z=y[D],P=E,C=T,L=I,F=A,R=z.angle+h;if(R){var k=Math.sin(R),B=Math.cos(R),O=[B,-k,k,B];P=P.matMult(O),C=C.matMult(O),L=L.matMult(O),F=F.matMult(O)}var N=Math.max(z.minScale,x),j=(t.angle+h+z.offset+2*Math.PI)%(2*Math.PI);d.push(new n(z.anchorPoint,P,C,L,F,g,j,N,z.maxScale))}}}return d}function a(t,e,i,n,r,o){var a=!o;0>i&&(o=!o),o&&r++;var l=new s(e.x,e.y),h=n[r],c=1/0;i=Math.abs(i);for(var f=u;;){var d=l.dist(h),p=i/d,m=Math.atan2(h.y-l.y,h.x-l.x);if(o||(m+=Math.PI),a&&(m+=Math.PI),t.push({anchorPoint:l,offset:a?Math.PI:0,minScale:p,maxScale:c,angle:(m+2*Math.PI)%(2*Math.PI)}),f>=p)break;for(l=h;l.equals(h);)if(r+=o?1:-1,h=n[r],!h)return p;var v=h.sub(l)._unit();l=l.sub(v._mult(d)),c=p}return f}var s=i(2);t.exports={getIconQuads:r,getGlyphQuads:o};var u=.5},function(t,e,i){"use strict";function n(t,e,i){for(var n=[],o=0,a=t.length;a>o;o++){var s=r(t[o].properties,e["text-field"]);if(s){s=s.toString();var u=e["text-transform"];"uppercase"===u?s=s.toLocaleUpperCase():"lowercase"===u&&(s=s.toLocaleLowerCase());for(var l=0;l<s.length;l++)i[s.charCodeAt(l)]=!0;n[o]=s}else n[o]=null}return n}var r=i(67);t.exports=n},function(t,e){"use strict";function i(t,e,i,n){this.codePoint=t,this.x=e,this.y=i,this.glyph=n}function n(t,e,i,n,r,o){this.positionedGlyphs=t,this.text=e,this.top=i,this.bottom=n,this.left=r,this.right=o}function r(t,e,r,a,s,u,l,h,c){for(var f=[],d=new n(f,t,c[1],c[1],c[0],c[0]),p=-17,m=0,v=p,g=0;g<t.length;g++){var y=t.charCodeAt(g),_=e[y];_&&(f.push(new i(y,m,v,_)),m+=_.advance+h)}return f.length?(o(d,e,a,r,s,u,l,c),d):!1}function o(t,e,i,n,r,o,u,l){var f=null,d=0,p=0,m=0,v=0,g=t.positionedGlyphs;if(n)for(var y=0;y<g.length;y++){var _=g[y];if(_.x-=d,_.y+=i*m,_.x>n&&null!==f){var x=g[f+1].x;v=Math.max(x,v);for(var b=f+1;y>=b;b++)g[b].y+=i,g[b].x-=x;if(u){var w=f;h[g[f].codePoint]&&w--,a(g,e,p,w,u)}p=f+1,f=null,d+=x,m++}c[_.codePoint]&&(f=y)}var M=g[g.length-1],S=M.x+e[M.codePoint].advance;v=Math.max(v,S);var E=(m+1)*i;a(g,e,p,g.length-1,u),s(g,u,r,o,v,i,m,l),t.top+=-o*E,t.bottom=t.top+E,t.left+=-r*v,t.right=t.left+v}function a(t,e,i,n,r){for(var o=e[t[n].codePoint].advance,a=(t[n].x+o)*r,s=i;n>=s;s++)t[s].x-=a}function s(t,e,i,n,r,o,a,s){for(var u=(e-i)*r+s[0],l=(-n*(a+1)+.5)*o+s[1],h=0;h<t.length;h++)t[h].x+=u,t[h].y+=l}function u(t,e){if(!t||!t.rect)return null;var i=e["icon-offset"][0],n=e["icon-offset"][1],r=i-t.width/2,o=r+t.width,a=n-t.height/2,s=a+t.height;
return new l(t,a,s,r,o)}function l(t,e,i,n,r){this.image=t,this.top=e,this.bottom=i,this.left=n,this.right=r}t.exports={shapeText:r,shapeIcon:u};var h={32:!0,8203:!0},c={32:!0,38:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0}},function(t,e,i){(function(e){"use strict";function n(t,e){this.width=t,this.height=e,this.bin=new a(t,e),this.images={},this.data=!1,this.texture=0,this.filter=0,this.pixelRatio=1,this.dirty=!0}function r(t,e,i,n,r,o,a,s,u,l,h){var c,f,d=n*e+i,p=s*o+a;if(h)for(p-=o,f=-1;l>=f;f++,d=((f+l)%l+n)*e+i,p+=o)for(c=-1;u>=c;c++)r[p+c]=t[d+(c+u)%u];else for(f=0;l>f;f++,d+=e,p+=o)for(c=0;u>c;c++)r[p+c]=t[d+c]}function o(t,e,i,n,r){this.rect=t,this.width=e,this.height=i,this.sdf=n,this.pixelRatio=r}var a=i(70),s=i(5);t.exports=n,n.prototype={get debug(){return"canvas"in this},set debug(t){t&&!this.canvas?(this.canvas=document.createElement("canvas"),this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.canvas.style.width=this.width+"px",this.canvas.style.height=this.height+"px",document.body.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d")):!t&&this.canvas&&(this.canvas.parentNode.removeChild(this.canvas),delete this.ctx,delete this.canvas)}},n.prototype.allocateImage=function(t,i){t/=this.pixelRatio,i/=this.pixelRatio;var n=2,r=t+n+(4-(t+n)%4),o=i+n+(4-(i+n)%4),a=this.bin.allocate(r,o);return a.x<0?(e.warn("SpriteAtlas out of space."),a):a},n.prototype.getImage=function(t,e){if(this.images[t])return this.images[t];if(!this.sprite)return null;var i=this.sprite.getSpritePosition(t);if(!i.width||!i.height)return null;var n=this.allocateImage(i.width,i.height);if(n.x<0)return n;var r=new o(n,i.width/i.pixelRatio,i.height/i.pixelRatio,i.sdf,i.pixelRatio/this.pixelRatio);return this.images[t]=r,this.copy(n,i,e),r},n.prototype.getPosition=function(t,e){var i=this.getImage(t,e),n=i&&i.rect;if(!n)return null;var r=i.width*i.pixelRatio,o=i.height*i.pixelRatio,a=1;return{size:[i.width,i.height],tl:[(n.x+a)/this.width,(n.y+a)/this.height],br:[(n.x+a+r)/this.width,(n.y+a+o)/this.height]}},n.prototype.allocate=function(){if(!this.data){var t=Math.floor(this.width*this.pixelRatio),e=Math.floor(this.height*this.pixelRatio);this.data=new Uint32Array(t*e);for(var i=0;i<this.data.length;i++)this.data[i]=0}},n.prototype.copy=function(t,e,i){if(this.sprite.img.data){var n=new Uint32Array(this.sprite.img.data.buffer);this.allocate();var o=this.data,a=1;r(n,this.sprite.img.width,e.x,e.y,o,this.width*this.pixelRatio,(t.x+a)*this.pixelRatio,(t.y+a)*this.pixelRatio,e.width,e.height,i),this.dirty=!0}},n.prototype.setSprite=function(t){t&&(this.pixelRatio=s.devicePixelRatio>1?2:1,this.canvas&&(this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio)),this.sprite=t},n.prototype.addIcons=function(t,e){for(var i=0;i<t.length;i++)this.getImage(t[i]);e(null,this.images)},n.prototype.bind=function(t,e){var i=!1;this.texture?t.bindTexture(t.TEXTURE_2D,this.texture):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),i=!0);var n=e?t.LINEAR:t.NEAREST;if(n!==this.filter&&(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,n),this.filter=n),this.dirty&&(this.allocate(),i?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width*this.pixelRatio,this.height*this.pixelRatio,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(this.data.buffer)):t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width*this.pixelRatio,this.height*this.pixelRatio,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(this.data.buffer)),this.dirty=!1,this.ctx)){var r=this.ctx.getImageData(0,0,this.width*this.pixelRatio,this.height*this.pixelRatio);r.data.set(new Uint8ClampedArray(this.data.buffer)),this.ctx.putImageData(r,0,0),this.ctx.strokeStyle="red";for(var o=0;o<this.bin.free.length;o++){var a=this.bin.free[o];this.ctx.strokeRect(a.x*this.pixelRatio,a.y*this.pixelRatio,a.w*this.pixelRatio,a.h*this.pixelRatio)}}}}).call(e,i(6))},function(t,e,i){"use strict";var n=i(1),r=i(23),o=i(5),a=i(13),s=i(21),u=i(2),l=t.exports=function(){};n.extend(l.prototype,{getCenter:function(){return this.transform.center},setCenter:function(t,e){return this.jumpTo({center:t},e),this},panBy:function(t,e,i){return this.panTo(this.transform.center,n.extend({offset:u.convert(t).mult(-1)},e),i),this},panTo:function(t,e,i){return this.easeTo(n.extend({center:t},e),i)},getZoom:function(){return this.transform.zoom},setZoom:function(t,e){return this.jumpTo({zoom:t},e),this},zoomTo:function(t,e,i){return this.easeTo(n.extend({zoom:t},e),i)},zoomIn:function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},zoomOut:function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},getBearing:function(){return this.transform.bearing},setBearing:function(t,e){return this.jumpTo({bearing:t},e),this},rotateTo:function(t,e,i){return this.easeTo(n.extend({bearing:t},e),i)},resetNorth:function(t,e){return this.rotateTo(0,n.extend({duration:1e3},t),e),this},snapToNorth:function(t,e){return Math.abs(this.getBearing())<this.options.bearingSnap?this.resetNorth(t,e):this},getPitch:function(){return this.transform.pitch},setPitch:function(t,e){return this.jumpTo({pitch:t},e),this},fitBounds:function(t,e,i){e=n.extend({padding:0,offset:[0,0],maxZoom:1/0},e),t=s.convert(t);var r=u.convert(e.offset),o=this.transform,a=o.project(t.getNorthWest()),l=o.project(t.getSouthEast()),h=l.sub(a),c=(o.width-2*e.padding-2*Math.abs(r.x))/h.x,f=(o.height-2*e.padding-2*Math.abs(r.y))/h.y;return e.center=o.unproject(a.add(l).div(2)),e.zoom=Math.min(o.scaleZoom(o.scale*Math.min(c,f)),e.maxZoom),e.bearing=0,e.linear?this.easeTo(e,i):this.flyTo(e,i)},jumpTo:function(t,e){this.stop();var i=this.transform,n=!1,r=!1,o=!1;return"zoom"in t&&i.zoom!==+t.zoom&&(n=!0,i.zoom=+t.zoom),"center"in t&&(i.center=a.convert(t.center)),"bearing"in t&&i.bearing!==+t.bearing&&(r=!0,i.bearing=+t.bearing),"pitch"in t&&i.pitch!==+t.pitch&&(o=!0,i.pitch=+t.pitch),this.fire("movestart",e).fire("move",e),n&&this.fire("zoomstart",e).fire("zoom",e).fire("zoomend",e),r&&this.fire("rotate",e),o&&this.fire("pitch",e),this.fire("moveend",e)},easeTo:function(t,e){this.stop(),t=n.extend({offset:[0,0],duration:500,easing:n.ease},t);var i,o,s=this.transform,l=u.convert(t.offset),h=this.getZoom(),c=this.getBearing(),f=this.getPitch(),d="zoom"in t?+t.zoom:h,p="bearing"in t?this._normalizeBearing(t.bearing,c):c,m="pitch"in t?+t.pitch:f;"center"in t?(i=a.convert(t.center),o=s.centerPoint.add(l)):"around"in t?(i=a.convert(t.around),o=s.locationPoint(i)):(o=s.centerPoint.add(l),i=s.pointLocation(o));var v=s.locationPoint(i);return t.animate===!1&&(t.duration=0),this.zooming=d!==h,this.rotating=c!==p,this.pitching=m!==f,t.noMoveStart||this.fire("movestart",e),this.zooming&&this.fire("zoomstart",e),clearTimeout(this._onEaseEnd),this._ease(function(t){this.zooming&&(s.zoom=r(h,d,t)),this.rotating&&(s.bearing=r(c,p,t)),this.pitching&&(s.pitch=r(f,m,t)),s.setLocationAtPoint(i,v.add(o.sub(v)._mult(t))),this.fire("move",e),this.zooming&&this.fire("zoom",e),this.rotating&&this.fire("rotate",e),this.pitching&&this.fire("pitch",e)},function(){t.delayEndEvents?this._onEaseEnd=setTimeout(this._easeToEnd.bind(this,e),t.delayEndEvents):this._easeToEnd(e)}.bind(this),t),this},_easeToEnd:function(t){this.zooming&&this.fire("zoomend",t),this.fire("moveend",t),this.zooming=!1,this.rotating=!1,this.pitching=!1},flyTo:function(t,e){function i(t){var e=(E*E-S*S+(t?-1:1)*D*D*T*T)/(2*(t?E:S)*D*T);return Math.log(Math.sqrt(e*e+1)-e)}function o(t){return(Math.exp(t)-Math.exp(-t))/2}function s(t){return(Math.exp(t)+Math.exp(-t))/2}function l(t){return o(t)/s(t)}this.stop(),t=n.extend({offset:[0,0],speed:1.2,curve:1.42,easing:n.ease},t);var h=this.transform,c=u.convert(t.offset),f=this.getZoom(),d=this.getBearing(),p=this.getPitch(),m="center"in t?a.convert(t.center):this.getCenter(),v="zoom"in t?+t.zoom:f,g="bearing"in t?this._normalizeBearing(t.bearing,d):d,y="pitch"in t?+t.pitch:p;Math.abs(h.center.lng)+Math.abs(m.lng)>180&&(h.center.lng>0&&m.lng<0?m.lng+=360:h.center.lng<0&&m.lng>0&&(m.lng-=360));var _=h.zoomScale(v-f),x=h.point,b="center"in t?h.project(m).sub(c.div(_)):x,w=h.worldSize,M=t.curve,S=Math.max(h.width,h.height),E=S/_,T=b.sub(x).mag();if("minZoom"in t){var I=n.clamp(Math.min(t.minZoom,f,v),h.minZoom,h.maxZoom),A=S/h.zoomScale(I-f);M=Math.sqrt(A/T*2)}var D=M*M,z=i(0),P=function(t){return s(z)/s(z+M*t)},C=function(t){return S*((s(z)*l(z+M*t)-o(z))/D)/T},L=(i(1)-z)/M;if(Math.abs(T)<1e-6){if(Math.abs(S-E)<1e-6)return this.easeTo(t);var F=S>E?-1:1;L=Math.abs(Math.log(E/S))/M,C=function(){return 0},P=function(t){return Math.exp(F*M*t)}}if("duration"in t)t.duration=+t.duration;else{var R="screenSpeed"in t?+t.screenSpeed/M:+t.speed;t.duration=1e3*L/R}return this.zooming=!0,d!==g&&(this.rotating=!0),p!==y&&(this.pitching=!0),this.fire("movestart",e),this.fire("zoomstart",e),this._ease(function(t){var i=t*L,n=C(i);h.zoom=f+h.scaleZoom(1/P(i)),h.center=h.unproject(x.add(b.sub(x).mult(n)),w),this.rotating&&(h.bearing=r(d,g,t)),this.pitching&&(h.pitch=r(p,y,t)),this.fire("move",e),this.fire("zoom",e),this.rotating&&this.fire("rotate",e),this.pitching&&this.fire("pitch",e)},function(){this.fire("zoomend",e),this.fire("moveend",e),this.zooming=!1,this.rotating=!1,this.pitching=!1},t),this},isEasing:function(){return!!this._abortFn},stop:function(){return this._abortFn&&(this._abortFn(),this._finishEase()),this},_ease:function(t,e,i){this._finishFn=e,this._abortFn=o.timed(function(e){t.call(this,i.easing(e)),1===e&&this._finishEase()},i.animate===!1?0:i.duration,this)},_finishEase:function(){delete this._abortFn;var t=this._finishFn;delete this._finishFn,t.call(this)},_normalizeBearing:function(t,e){t=n.wrap(t,-180,180);var i=Math.abs(t-e);return Math.abs(t-360-e)<i&&(t-=360),Math.abs(t+360-e)<i&&(t+=360),t},_updateEasing:function(t,e,i){var r;if(this.ease){var o=this.ease,a=(Date.now()-o.start)/o.duration,s=o.easing(a+.01)-o.easing(a),u=.27/Math.sqrt(s*s+1e-4)*.01,l=Math.sqrt(.0729-u*u);r=n.bezier(u,l,.25,1)}else r=i?n.bezier.apply(n,i):n.ease;return this.ease={start:(new Date).getTime(),to:Math.pow(2,e),duration:t,easing:r},r}})},function(t,e,i){"use strict";function n(t){s.setOptions(this,t)}function r(t){return new MouseEvent(t.type,{button:2,buttons:2,bubbles:!0,cancelable:!0,detail:t.detail,view:t.view,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY,movementX:t.movementX,movementY:t.movementY,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey})}var o=i(36),a=i(9),s=i(1);t.exports=n,n.prototype=s.inherit(o,{options:{position:"top-right"},onAdd:function(t){var e="mapboxgl-ctrl",i=this._container=a.create("div",e+"-group",t.getContainer());return this._container.addEventListener("contextmenu",this._onContextMenu.bind(this)),this._zoomInButton=this._createButton(e+"-icon "+e+"-zoom-in",t.zoomIn.bind(t)),this._zoomOutButton=this._createButton(e+"-icon "+e+"-zoom-out",t.zoomOut.bind(t)),this._compass=this._createButton(e+"-icon "+e+"-compass",t.resetNorth.bind(t)),this._compassArrow=a.create("div","arrow",this._compass),this._compass.addEventListener("mousedown",this._onCompassDown.bind(this)),this._onCompassMove=this._onCompassMove.bind(this),this._onCompassUp=this._onCompassUp.bind(this),t.on("rotate",this._rotateCompassArrow.bind(this)),this._rotateCompassArrow(),this._el=t.getCanvasContainer(),i},_onContextMenu:function(t){t.preventDefault()},_onCompassDown:function(t){0===t.button&&(a.disableDrag(),document.addEventListener("mousemove",this._onCompassMove),document.addEventListener("mouseup",this._onCompassUp),this._el.dispatchEvent(r(t)),t.stopPropagation())},_onCompassMove:function(t){0===t.button&&(this._el.dispatchEvent(r(t)),t.stopPropagation())},_onCompassUp:function(t){0===t.button&&(document.removeEventListener("mousemove",this._onCompassMove),document.removeEventListener("mouseup",this._onCompassUp),a.enableDrag(),this._el.dispatchEvent(r(t)),t.stopPropagation())},_createButton:function(t,e){var i=a.create("button",t,this._container);return i.addEventListener("click",function(){e()}),i},_rotateCompassArrow:function(){var t="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=t}})},function(t,e,i){"use strict";function n(t){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),a.bindHandlers(this)}var r=i(9),o=i(21),a=i(1);t.exports=n,n.prototype={enable:function(){this.disable(),this._el.addEventListener("mousedown",this._onMouseDown,!1)},disable:function(){this._el.removeEventListener("mousedown",this._onMouseDown)},_onMouseDown:function(t){t.shiftKey&&0===t.button&&(document.addEventListener("mousemove",this._onMouseMove,!1),document.addEventListener("keydown",this._onKeyDown,!1),document.addEventListener("mouseup",this._onMouseUp,!1),r.disableDrag(),this._startPos=r.mousePos(this._el,t),this.active=!0)},_onMouseMove:function(t){var e=this._startPos,i=r.mousePos(this._el,t);this._box||(this._box=r.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var n=Math.min(e.x,i.x),o=Math.max(e.x,i.x),a=Math.min(e.y,i.y),s=Math.max(e.y,i.y);r.setTransform(this._box,"translate("+n+"px,"+a+"px)"),this._box.style.width=o-n+"px",this._box.style.height=s-a+"px"},_onMouseUp:function(t){if(0===t.button){var e=this._startPos,i=r.mousePos(this._el,t),n=new o(this._map.unproject(e),this._map.unproject(i));this._finish(),e.x===i.x&&e.y===i.y?this._fireEvent("boxzoomcancel",t):this._map.fitBounds(n,{linear:!0}).fire("boxzoomend",{originalEvent:t,boxZoomBounds:n})}},_onKeyDown:function(t){27===t.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",t))},_finish:function(){this.active=!1,document.removeEventListener("mousemove",this._onMouseMove,!1),document.removeEventListener("keydown",this._onKeyDown,!1),document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.parentNode.removeChild(this._box),this._box=null),r.enableDrag()},_fireEvent:function(t,e){return this._map.fire(t,{originalEvent:e})}}},function(t,e){"use strict";function i(t){this._map=t,this._onDblClick=this._onDblClick.bind(this)}t.exports=i,i.prototype={enable:function(){this.disable(),this._map.on("dblclick",this._onDblClick)},disable:function(){this._map.off("dblclick",this._onDblClick)},_onDblClick:function(t){this._map.zoomTo(this._map.getZoom()+(t.originalEvent.shiftKey?-1:1),{around:t.lngLat})}}},function(t,e,i){"use strict";function n(t){this._map=t,this._el=t.getCanvasContainer(),o.bindHandlers(this)}var r=i(9),o=i(1);t.exports=n;var a=.3,s=o.bezier(0,0,a,1),u=1400,l=2500;n.prototype={enable:function(){this.disable(),this._el.addEventListener("mousedown",this._onDown),this._el.addEventListener("touchstart",this._onDown)},disable:function(){this._el.removeEventListener("mousedown",this._onDown),this._el.removeEventListener("touchstart",this._onDown)},_onDown:function(t){this._ignoreEvent(t)||this.active||(t.touches?(document.addEventListener("touchmove",this._onMove),document.addEventListener("touchend",this._onTouchEnd)):(document.addEventListener("mousemove",this._onMove),document.addEventListener("mouseup",this._onMouseUp)),this.active=!1,this._startPos=this._pos=r.mousePos(this._el,t),this._inertia=[[Date.now(),this._pos]])},_onMove:function(t){if(!this._ignoreEvent(t)){this.active||(this.active=!0,this._fireEvent("dragstart",t),this._fireEvent("movestart",t));var e=r.mousePos(this._el,t),i=this._map;i.stop(),this._drainInertiaBuffer(),this._inertia.push([Date.now(),e]),i.transform.setLocationAtPoint(i.transform.pointLocation(this._pos),e),this._fireEvent("drag",t),this._fireEvent("move",t),this._pos=e,t.preventDefault()}},_onUp:function(t){if(this.active){this.active=!1,this._fireEvent("dragend",t),this._drainInertiaBuffer();var e=function(){this._fireEvent("moveend",t)}.bind(this),i=this._inertia;if(i.length<2)return void e();var n=i[i.length-1],r=i[0],o=n[1].sub(r[1]),h=(n[0]-r[0])/1e3;if(0===h||n[1].equals(r[1]))return void e();var c=o.mult(a/h),f=c.mag();f>u&&(f=u,c._unit()._mult(f));var d=f/(l*a),p=c.mult(-d/2);this._map.panBy(p,{duration:1e3*d,easing:s,noMoveStart:!0},{originalEvent:t})}},_onMouseUp:function(t){this._ignoreEvent(t)||(this._onUp(t),document.removeEventListener("mousemove",this._onMove),document.removeEventListener("mouseup",this._onMouseUp))},_onTouchEnd:function(t){this._ignoreEvent(t)||(this._onUp(t),document.removeEventListener("touchmove",this._onMove),document.removeEventListener("touchend",this._onTouchEnd))},_fireEvent:function(t,e){return this._map.fire(t,{originalEvent:e})},_ignoreEvent:function(t){var e=this._map;if(e.boxZoom&&e.boxZoom.active)return!0;if(e.dragRotate&&e.dragRotate.active)return!0;if(t.touches)return t.touches.length>1;if(t.ctrlKey)return!0;var i=1,n=0;return"mousemove"===t.type?t.buttons&0===i:t.button!==n},_drainInertiaBuffer:function(){for(var t=this._inertia,e=Date.now(),i=160;t.length>0&&e-t[0][0]>i;)t.shift()}}},function(t,e,i){"use strict";function n(t){this._map=t,this._el=t.getCanvasContainer(),a.bindHandlers(this)}var r=i(9),o=i(2),a=i(1);t.exports=n;var s=.25,u=a.bezier(0,0,s,1),l=180,h=720;n.prototype={enable:function(){this.disable(),this._el.addEventListener("mousedown",this._onDown)},disable:function(){this._el.removeEventListener("mousedown",this._onDown)},_onDown:function(t){if(!this._ignoreEvent(t)&&!this.active){document.addEventListener("mousemove",this._onMove),document.addEventListener("mouseup",this._onUp),this.active=!1,this._inertia=[[Date.now(),this._map.getBearing()]],this._startPos=this._pos=r.mousePos(this._el,t),this._center=this._map.transform.centerPoint;var e=this._startPos.sub(this._center),i=e.mag();200>i&&(this._center=this._startPos.add(new o(-200,0)._rotate(e.angle()))),t.preventDefault()}},_onMove:function(t){if(!this._ignoreEvent(t)){this.active||(this.active=!0,this._fireEvent("rotatestart",t),this._fireEvent("movestart",t));var e=this._map;e.stop();var i=this._pos,n=r.mousePos(this._el,t),o=this._center,a=i.sub(o).angleWith(n.sub(o))/Math.PI*180,s=e.getBearing()-a,u=this._inertia,l=u[u.length-1];this._drainInertiaBuffer(),u.push([Date.now(),e._normalizeBearing(s,l[1])]),e.transform.bearing=s,this._fireEvent("rotate",t),this._fireEvent("move",t),this._pos=n}},_onUp:function(t){if(!this._ignoreEvent(t)&&(document.removeEventListener("mousemove",this._onMove),document.removeEventListener("mouseup",this._onUp),this.active)){this.active=!1,this._fireEvent("rotateend",t),this._drainInertiaBuffer();var e=this._map,i=e.getBearing(),n=this._inertia,r=function(){Math.abs(i)<e.options.bearingSnap?e.resetNorth({noMoveStart:!0},{originalEvent:t}):this._fireEvent("moveend",t)}.bind(this);if(n.length<2)return void r();var o=n[0],a=n[n.length-1],c=n[n.length-2],f=e._normalizeBearing(i,c[1]),d=a[1]-o[1],p=0>d?-1:1,m=(a[0]-o[0])/1e3;if(0===d||0===m)return void r();var v=Math.abs(d*(s/m));v>l&&(v=l);var g=v/(h*s),y=p*v*(g/2);f+=y,Math.abs(e._normalizeBearing(f,0))<e.options.bearingSnap&&(f=e._normalizeBearing(0,f)),e.rotateTo(f,{duration:1e3*g,easing:u,noMoveStart:!0},{originalEvent:t})}},_fireEvent:function(t,e){return this._map.fire(t,{originalEvent:e})},_ignoreEvent:function(t){var e=this._map;if(e.boxZoom&&e.boxZoom.active)return!0;if(e.dragPan&&e.dragPan.active)return!0;if(t.touches)return t.touches.length>1;var i=t.ctrlKey?1:2,n=t.ctrlKey?0:2;return"mousemove"===t.type?t.buttons&0===i:t.button!==n},_drainInertiaBuffer:function(){for(var t=this._inertia,e=Date.now(),i=160;t.length>0&&e-t[0][0]>i;)t.shift()}}},function(t,e){"use strict";function i(t){this._map=t,this._el=t.getCanvasContainer(),this._onKeyDown=this._onKeyDown.bind(this)}t.exports=i;var n=80,r=2,o=5;i.prototype={enable:function(){this.disable(),this._el.addEventListener("keydown",this._onKeyDown,!1)},disable:function(){this._el.removeEventListener("keydown",this._onKeyDown)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=this._map,i={originalEvent:t};switch(t.keyCode){case 61:case 107:case 171:case 187:e.zoomTo(Math.round(e.getZoom())+(t.shiftKey?2:1),i);break;case 189:case 109:case 173:e.zoomTo(Math.round(e.getZoom())-(t.shiftKey?2:1),i);break;case 37:t.shiftKey?e.easeTo({bearing:e.getBearing()-r},i):e.panBy([-n,0],i);break;case 39:t.shiftKey?e.easeTo({bearing:e.getBearing()+r},i):e.panBy([n,0],i);break;case 38:t.shiftKey?e.easeTo({pitch:e.getPitch()+o},i):e.panBy([0,-n],i);break;case 40:t.shiftKey?e.easeTo({pitch:Math.max(e.getPitch()-o,0)},i):e.panBy([0,n],i)}}}}},function(t,e,i){"use strict";function n(t){this._map=t,this._el=t.getCanvasContainer(),a.bindHandlers(this)}var r=i(9),o=i(5),a=i(1);t.exports=n;var s="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",u=-1!==s.indexOf("firefox"),l=-1!==s.indexOf("safari")&&-1===s.indexOf("chrom");n.prototype={enable:function(){this.disable(),this._el.addEventListener("wheel",this._onWheel,!1),this._el.addEventListener("mousewheel",this._onWheel,!1)},disable:function(){this._el.removeEventListener("wheel",this._onWheel),this._el.removeEventListener("mousewheel",this._onWheel)},_onWheel:function(t){var e;"wheel"===t.type?(e=t.deltaY,u&&t.deltaMode===window.WheelEvent.DOM_DELTA_PIXEL&&(e/=o.devicePixelRatio),t.deltaMode===window.WheelEvent.DOM_DELTA_LINE&&(e*=40)):"mousewheel"===t.type&&(e=-t.wheelDeltaY,l&&(e/=3));var i=o.now(),n=i-(this._time||0);this._pos=r.mousePos(this._el,t),this._time=i,0!==e&&e%4.000244140625===0?(this._type="wheel",e=Math.floor(e/4)):0!==e&&Math.abs(e)<4?this._type="trackpad":n>400?(this._type=null,this._lastValue=e,this._timeout=setTimeout(this._onTimeout,40)):this._type||(this._type=Math.abs(n*e)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,e+=this._lastValue)),t.shiftKey&&e&&(e/=4),this._type&&this._zoom(-e,t),t.preventDefault()},_onTimeout:function(){this._type="wheel",this._zoom(-this._lastValue)},_zoom:function(t,e){if(0!==t){var i=this._map,n=2/(1+Math.exp(-Math.abs(t/100)));0>t&&0!==n&&(n=1/n);var r=i.ease?i.ease.to:i.transform.scale,o=i.transform.scaleZoom(r*n);i.zoomTo(o,{duration:0,around:i.unproject(this._pos),delayEndEvents:200},{originalEvent:e})}}}},function(t,e,i){"use strict";function n(t){this._map=t,this._el=t.getCanvasContainer(),o.bindHandlers(this)}var r=i(9),o=i(1);t.exports=n;var a=.15,s=o.bezier(0,0,a,1),u=12,l=2.5,h=.15,c=4;n.prototype={enable:function(){this.disable(),this._el.addEventListener("touchstart",this._onStart,!1)},disable:function(){this._el.removeEventListener("touchstart",this._onStart)},disableRotation:function(){this._rotationDisabled=!0},enableRotation:function(){this._rotationDisabled=!1},_onStart:function(t){if(2===t.touches.length){var e=r.mousePos(this._el,t.touches[0]),i=r.mousePos(this._el,t.touches[1]);this._startVec=e.sub(i),this._startScale=this._map.transform.scale,this._startBearing=this._map.transform.bearing,this._gestureIntent=void 0,this._inertia=[],document.addEventListener("touchmove",this._onMove,!1),document.addEventListener("touchend",this._onEnd,!1)}},_onMove:function(t){if(2===t.touches.length){var e=r.mousePos(this._el,t.touches[0]),i=r.mousePos(this._el,t.touches[1]),n=e.add(i).div(2),o=e.sub(i),a=o.mag()/this._startVec.mag(),s=this._rotationDisabled?0:180*o.angleWith(this._startVec)/Math.PI,u=this._map;if(this._gestureIntent){var l={duration:0,around:u.unproject(n)};"rotate"===this._gestureIntent&&(l.bearing=this._startBearing+s),"zoom"!==this._gestureIntent&&"rotate"!==this._gestureIntent||(l.zoom=u.transform.scaleZoom(this._startScale*a)),u.stop(),this._drainInertiaBuffer(),this._inertia.push([Date.now(),a,n]),u.easeTo(l,{originalEvent:t})}else{var f=Math.abs(1-a)>h,d=Math.abs(s)>c;d?this._gestureIntent="rotate":f&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._startVec=o,this._startScale=u.transform.scale,this._startBearing=u.transform.bearing)}t.preventDefault()}},_onEnd:function(t){document.removeEventListener("touchmove",this._onMove),document.removeEventListener("touchend",this._onEnd),this._drainInertiaBuffer();var e=this._inertia,i=this._map;if(e.length<2)return void i.snapToNorth({},{originalEvent:t});var n=e[e.length-1],r=e[0],o=i.transform.scaleZoom(this._startScale*n[1]),h=i.transform.scaleZoom(this._startScale*r[1]),c=o-h,f=(n[0]-r[0])/1e3,d=n[2];if(0===f||o===h)return void i.snapToNorth({},{originalEvent:t});var p=c*a/f;Math.abs(p)>l&&(p=p>0?l:-l);var m=1e3*Math.abs(p/(u*a)),v=o+p*m/2e3;0>v&&(v=0),i.easeTo({zoom:v,duration:m,easing:s,around:i.unproject(d)},{originalEvent:t})},_drainInertiaBuffer:function(){for(var t=this._inertia,e=Date.now(),i=160;t.length>2&&e-t[0][0]>i;)t.shift()}}},function(t,e,i){"use strict";function n(){r.bindAll(["_onHashChange","_updateHash"],this)}t.exports=n;var r=i(1);n.prototype={addTo:function(t){return this._map=t,window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},remove:function(){return window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),delete this._map,this},_onHashChange:function(){var t=location.hash.replace("#","").split("/");return t.length>=3?(this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:+(t[3]||0)}),!0):!1},_updateHash:function(){var t=this._map.getCenter(),e=this._map.getZoom(),i=this._map.getBearing(),n=Math.max(0,Math.ceil(Math.log(e)/Math.LN2)),r="#"+Math.round(100*e)/100+"/"+t.lat.toFixed(n)+"/"+t.lng.toFixed(n)+(i?"/"+Math.round(10*i)/10:"");window.history.replaceState("","",r)}}},function(t,e,i){"use strict";function n(t){this._map=t,this._el=t.getCanvasContainer();for(var e in r)t[e]=new r[e](t);a.bindHandlers(this)}var r={scrollZoom:i(160),boxZoom:i(155),dragRotate:i(158),dragPan:i(157),keyboard:i(159),doubleClickZoom:i(156),touchZoomRotate:i(161)},o=i(9),a=i(1);t.exports=n,n.prototype={enable:function(){var t=this._map.options,e=this._el;for(var i in r)t[i]&&this._map[i].enable();e.addEventListener("mousedown",this._onMouseDown,!1),e.addEventListener("mouseup",this._onMouseUp,!1),e.addEventListener("touchstart",this._onTouchStart,!1),e.addEventListener("click",this._onClick,!1),e.addEventListener("mousemove",this._onMouseMove,!1),e.addEventListener("dblclick",this._onDblClick,!1),e.addEventListener("contextmenu",this._onContextMenu,!1)},disable:function(){var t=this._map.options,e=this._el;for(var i in r)t[i]&&this._map[i].disable();e.removeEventListener("mousedown",this._onMouseDown),e.removeEventListener("mouseup",this._onMouseUp),e.removeEventListener("touchstart",this._onTouchStart),e.removeEventListener("click",this._onClick),e.removeEventListener("mousemove",this._onMouseMove),e.removeEventListener("dblclick",this._onDblClick),e.removeEventListener("contextmenu",this._onContextMenu)},_onMouseDown:function(t){this._map.stop(),this._startPos=o.mousePos(this._el,t),this._fireEvent("mousedown",t)},_onMouseUp:function(t){var e=this._map,i=e.dragRotate&&e.dragRotate.active;this._contextMenuEvent&&!i&&this._fireEvent("contextmenu",this._contextMenuEvent),this._contextMenuEvent=null,this._fireEvent("mouseup",t)},_onTouchStart:function(t){!t.touches||t.touches.length>1||(this._tapped?(clearTimeout(this._tapped),this._tapped=null,this._fireEvent("dblclick",t)):this._tapped=setTimeout(this._onTimeout,300))},_onTimeout:function(){this._tapped=null},_onMouseMove:function(t){var e=this._map,i=this._el;if(!(e.dragPan&&e.dragPan.active||e.dragRotate&&e.dragRotate.active)){for(var n=t.toElement||t.target;n&&n!==i;)n=n.parentNode;n===i&&this._fireEvent("mousemove",t)}},_onClick:function(t){var e=o.mousePos(this._el,t);e.equals(this._startPos)&&this._fireEvent("click",t)},_onDblClick:function(t){this._fireEvent("dblclick",t),t.preventDefault()},_onContextMenu:function(t){this._contextMenuEvent=t,t.preventDefault()},_fireEvent:function(t,e){var i=o.mousePos(this._el,e);return this._map.fire(t,{lngLat:this._map.unproject(i),point:i,originalEvent:e})}}},function(t,e,i){(function(e){"use strict";function n(t){t.parentNode&&t.parentNode.removeChild(t)}var r=i(65),o=i(1),a=i(5),s=i(7),u=i(9),l=i(59),h=i(57),c=i(127),f=i(113),d=i(162),p=i(163),m=i(153),v=i(13),g=i(21),y=i(2),_=i(63),x=t.exports=function(t){if(t=this.options=o.inherit(this.options,t),this.animationLoop=new h,this.transform=new f(t.minZoom,t.maxZoom),t.maxBounds){var e=g.convert(t.maxBounds);this.transform.lngRange=[e.getWest(),e.getEast()],this.transform.latRange=[e.getSouth(),e.getNorth()]}o.bindAll(["_forwardStyleEvent","_forwardSourceEvent","_forwardLayerEvent","_forwardTileEvent","_onStyleLoad","_onStyleChange","_onSourceAdd","_onSourceRemove","_onSourceUpdate","_onWindowResize","onError","_update","_render"],this),this._setupContainer(),this._setupPainter(),this.on("move",this._update.bind(this,!1)),this.on("zoom",this._update.bind(this,!0)),this.on("moveend",function(){this.animationLoop.set(300),this._rerender()}.bind(this)),"undefined"!=typeof window&&window.addEventListener("resize",this._onWindowResize,!1),this.interaction=new p(this),t.interactive&&this.interaction.enable(),this._hash=t.hash&&(new d).addTo(this),this._hash&&this._hash._onHashChange()||this.jumpTo(t),this.sources={},this.stacks={},this._classes={},this.resize(),t.classes&&this.setClasses(t.classes),t.style&&this.setStyle(t.style),t.attributionControl&&this.addControl(new _(t.attributionControl)),this.on("style.error",this.onError),this.on("source.error",this.onError),this.on("tile.error",this.onError),this.on("layer.error",this.onError)};o.extend(x.prototype,s),o.extend(x.prototype,m.prototype),o.extend(x.prototype,{options:{center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:0,maxZoom:20,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1},addControl:function(t){return t.addTo(this),this},addClass:function(t,e){this._classes[t]||(this._classes[t]=!0,this.style&&this.style._cascade(this._classes,e))},removeClass:function(t,e){this._classes[t]&&(delete this._classes[t],this.style&&this.style._cascade(this._classes,e))},setClasses:function(t,e){this._classes={};for(var i=0;i<t.length;i++)this._classes[t[i]]=!0;this.style&&this.style._cascade(this._classes,e)},hasClass:function(t){return!!this._classes[t]},getClasses:function(){return Object.keys(this._classes)},resize:function(){var t=0,e=0;return this._container&&(t=this._container.offsetWidth||400,e=this._container.offsetHeight||300),this._canvas.resize(t,e),this.transform.resize(t,e),this.painter.resize(t,e),this.fire("movestart").fire("move").fire("resize").fire("moveend")},getBounds:function(){var t=new g(this.transform.pointLocation(new y(0,0)),this.transform.pointLocation(this.transform.size));return(this.transform.angle||this.transform.pitch)&&(t.extend(this.transform.pointLocation(new y(this.transform.size.x,0))),t.extend(this.transform.pointLocation(new y(0,this.transform.size.y)))),t},project:function(t){return this.transform.locationPoint(v.convert(t))},unproject:function(t){return this.transform.pointLocation(y.convert(t))},featuresAt:function(t,e,i){var n=this.unproject(t).wrap(),r=this.transform.locationCoordinate(n);return this.style.featuresAt(r,e,i),this},featuresIn:function(t,e,i){return"undefined"==typeof i&&(i=e,e=t,t=[y.convert([0,0]),y.convert([this.transform.width,this.transform.height])]),t=t.map(y.convert.bind(y)),t=[new y(Math.min(t[0].x,t[1].x),Math.min(t[0].y,t[1].y)),new y(Math.max(t[0].x,t[1].x),Math.max(t[0].y,t[1].y))].map(this.transform.pointCoordinate.bind(this.transform)),this.style.featuresIn(t,e,i),this},batch:function(t){this.style.batch(t),this.style._cascade(this._classes),this._update(!0)},setStyle:function(t){return this.style&&(this.style.off("load",this._onStyleLoad).off("error",this._forwardStyleEvent).off("change",this._onStyleChange).off("source.add",this._onSourceAdd).off("source.remove",this._onSourceRemove).off("source.load",this._onSourceUpdate).off("source.error",this._forwardSourceEvent).off("source.change",this._onSourceUpdate).off("layer.add",this._forwardLayerEvent).off("layer.remove",this._forwardLayerEvent).off("layer.error",this._forwardLayerEvent).off("tile.add",this._forwardTileEvent).off("tile.remove",this._forwardTileEvent).off("tile.load",this._update).off("tile.error",this._forwardTileEvent).off("tile.stats",this._forwardTileEvent)._remove(),
this.off("rotate",this.style._redoPlacement),this.off("pitch",this.style._redoPlacement)),t?(t instanceof l?this.style=t:this.style=new l(t,this.animationLoop),this.style.on("load",this._onStyleLoad).on("error",this._forwardStyleEvent).on("change",this._onStyleChange).on("source.add",this._onSourceAdd).on("source.remove",this._onSourceRemove).on("source.load",this._onSourceUpdate).on("source.error",this._forwardSourceEvent).on("source.change",this._onSourceUpdate).on("layer.add",this._forwardLayerEvent).on("layer.remove",this._forwardLayerEvent).on("layer.error",this._forwardLayerEvent).on("tile.add",this._forwardTileEvent).on("tile.remove",this._forwardTileEvent).on("tile.load",this._update).on("tile.error",this._forwardTileEvent).on("tile.stats",this._forwardTileEvent),this.on("rotate",this.style._redoPlacement),this.on("pitch",this.style._redoPlacement),this):(this.style=null,this)},getStyle:function(){return this.style.serialize()},addSource:function(t,e){return this.style.addSource(t,e),this},removeSource:function(t){return this.style.removeSource(t),this},getSource:function(t){return this.style.getSource(t)},addLayer:function(t,e){return this.style.addLayer(t,e),this.style._cascade(this._classes),this},removeLayer:function(t){return this.style.removeLayer(t),this.style._cascade(this._classes),this},getLayer:function(t){return this.style.getLayer(t)},setFilter:function(t,e){return this.style.setFilter(t,e),this},setLayerZoomRange:function(t,e,i){return this.style.setLayerZoomRange(t,e,i),this},getFilter:function(t){return this.style.getFilter(t)},setPaintProperty:function(t,e,i,n){return this.batch(function(r){r.setPaintProperty(t,e,i,n)}),this},getPaintProperty:function(t,e,i){return this.style.getPaintProperty(t,e,i)},setLayoutProperty:function(t,e,i){return this.batch(function(n){n.setLayoutProperty(t,e,i)}),this},getLayoutProperty:function(t,e){return this.style.getLayoutProperty(t,e)},getContainer:function(){return this._container},getCanvasContainer:function(){return this._canvasContainer},getCanvas:function(){return this._canvas.getElement()},_setupContainer:function(){var t=this.options.container,e=this._container="string"==typeof t?document.getElementById(t):t;e.classList.add("mapboxgl-map");var i=this._canvasContainer=u.create("div","mapboxgl-canvas-container",e);this.options.interactive&&i.classList.add("mapboxgl-interactive"),this._canvas=new r(this,i);var n=this._controlContainer=u.create("div","mapboxgl-control-container",e),o=this._controlCorners={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(t){o[t]=u.create("div","mapboxgl-ctrl-"+t,n)})},_setupPainter:function(){var t=this._canvas.getWebGLContext({failIfMajorPerformanceCaveat:this.options.failIfMajorPerformanceCaveat,preserveDrawingBuffer:this.options.preserveDrawingBuffer});return t?void(this.painter=new c(t,this.transform)):void e.error("Failed to initialize WebGL")},_contextLost:function(t){t.preventDefault(),this._frameId&&a.cancelFrame(this._frameId),this.fire("webglcontextlost",{originalEvent:t})},_contextRestored:function(t){this._setupPainter(),this.resize(),this._update(),this.fire("webglcontextrestored",{originalEvent:t})},loaded:function(){return this._styleDirty||this._sourcesDirty?!1:!(!this.style||!this.style.loaded())},_update:function(t){return this.style?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this._rerender(),this):this},_render:function(){return this.style&&this._styleDirty&&(this._styleDirty=!1,this.style._recalculate(this.transform.zoom)),this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.painter.render(this.style,{debug:this.debug,vertices:this.vertices,rotating:this.rotating,zooming:this.zooming}),this.fire("render"),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire("load")),this._frameId=null,this.animationLoop.stopped()||(this._styleDirty=!0),(this._sourcesDirty||this._repaint||!this.animationLoop.stopped())&&this._rerender(),this},remove:function(){this._hash&&this._hash.remove(),a.cancelFrame(this._frameId),this.setStyle(null),"undefined"!=typeof window&&window.removeEventListener("resize",this._onWindowResize,!1),n(this._canvasContainer),n(this._controlContainer),this._container.classList.remove("mapboxgl-map")},onError:function(t){e.error(t.error)},_rerender:function(){this.style&&!this._frameId&&(this._frameId=a.frame(this._render))},_forwardStyleEvent:function(t){this.fire("style."+t.type,o.extend({style:t.target},t))},_forwardSourceEvent:function(t){this.fire(t.type,o.extend({style:t.target},t))},_forwardLayerEvent:function(t){this.fire(t.type,o.extend({style:t.target},t))},_forwardTileEvent:function(t){this.fire(t.type,o.extend({style:t.target},t))},_onStyleLoad:function(t){this.transform.unmodified&&this.jumpTo(this.style.stylesheet),this.style._cascade(this._classes,{transition:!1}),this._forwardStyleEvent(t)},_onStyleChange:function(t){this._update(!0),this._forwardStyleEvent(t)},_onSourceAdd:function(t){var e=t.source;e.onAdd&&e.onAdd(this),this._forwardSourceEvent(t)},_onSourceRemove:function(t){var e=t.source;e.onRemove&&e.onRemove(this),this._forwardSourceEvent(t)},_onSourceUpdate:function(t){this._update(),this._forwardSourceEvent(t)},_onWindowResize:function(){this.stop().resize()._update()}}),o.extendAll(x.prototype,{_debug:!1,get debug(){return this._debug},set debug(t){this._debug!==t&&(this._debug=t,this._update())},_collisionDebug:!1,get collisionDebug(){return this._collisionDebug},set collisionDebug(t){this._collisionDebug!==t&&(this._collisionDebug=t,this.style._redoPlacement())},_repaint:!1,get repaint(){return this._repaint},set repaint(t){this._repaint=t,this._update()},_vertices:!1,get vertices(){return this._vertices},set vertices(t){this._vertices=t,this._update()}})}).call(e,i(6))},function(t,e,i){"use strict";function n(t){r.setOptions(this,t),r.bindAll(["_update","_onClickClose"],this)}t.exports=n;var r=i(1),o=i(7),a=i(9),s=i(13);n.prototype=r.inherit(o,{options:{closeButton:!0,closeOnClick:!0},addTo:function(t){return this._map=t,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._update(),this},remove:function(){return this._content&&this._content.parentNode&&this._content.parentNode.removeChild(this._content),this._container&&(this._container.parentNode.removeChild(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),delete this._map),this},getLngLat:function(){return this._lngLat},setLngLat:function(t){return this._lngLat=s.convert(t),this._update(),this},setText:function(t){return this._createContent(),this._content.appendChild(document.createTextNode(t)),this._update(),this},setHTML:function(t){this._createContent();var e,i=document.createElement("body");for(i.innerHTML=t;;){if(e=i.firstChild,!e)break;this._content.appendChild(e)}return this._update(),this},_createContent:function(){this._content&&this._content.parentNode&&this._content.parentNode.removeChild(this._content),this._content=a.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=a.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},_update:function(){if(this._map&&this._lngLat&&this._content){this._container||(this._container=a.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=a.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content));var t=this._map.project(this._lngLat).round(),e=this.options.anchor;if(!e){var i=this._container.offsetWidth,n=this._container.offsetHeight;e=t.y<n?["top"]:t.y>this._map.transform.height-n?["bottom"]:[],t.x<i/2?e.push("left"):t.x>this._map.transform.width-i/2&&e.push("right"),e=0===e.length?"bottom":e.join("-")}var r={top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"},o=this._container.classList;for(var s in r)o.remove("mapboxgl-popup-anchor-"+s);o.add("mapboxgl-popup-anchor-"+e),a.setTransform(this._container,r[e]+" translate("+t.x+"px,"+t.y+"px)")}},_onClickClose:function(){this.remove()}})},function(t,e,i){"use strict";function n(t,e){this.actors=[],this.currentActor=0;for(var n=0;t>n;n++){var a=new o(i(129)),s=new r(a,e);s.name="Worker "+n,this.actors.push(s)}}var r=i(64),o=i(191);t.exports=n,n.prototype={broadcast:function(t,e){for(var i=0;i<this.actors.length;i++)this.actors[i].send(t,e)},send:function(t,e,i,n,r){return("number"!=typeof n||isNaN(n))&&(n=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[n].send(t,e,i,r),n},remove:function(){for(var t=0;t<this.actors.length;t++)this.actors[t].target.terminate();this.actors=[]}}},function(t,e){"use strict";function i(t,e){this.stacks=t.readFields(n,[],e)}function n(t,e,i){if(1===t){var n=i.readMessage(r,{glyphs:{}});e.push(n)}}function r(t,e,i){if(1===t)e.name=i.readString();else if(2===t)e.range=i.readString();else if(3===t){var n=i.readMessage(o,{});e.glyphs[n.id]=n}}function o(t,e,i){1===t?e.id=i.readVarint():2===t?e.bitmap=i.readBytes():3===t?e.width=i.readVarint():4===t?e.height=i.readVarint():5===t?e.left=i.readSVarint():6===t?e.top=i.readSVarint():7===t&&(e.advance=i.readVarint())}t.exports=i},function(t,e){"use strict";function i(t,e){this.max=t,this.onRemove=e,this.reset()}t.exports=i,i.prototype.reset=function(){for(var t in this.data)this.onRemove(this.data[t]);return this.data={},this.order=[],this},i.prototype.add=function(t,e){if(this.has(t))this.order.splice(this.order.indexOf(t),1),this.data[t]=e,this.order.push(t);else if(this.data[t]=e,this.order.push(t),this.order.length>this.max){var i=this.get(this.order[0]);i&&this.onRemove(i)}return this},i.prototype.has=function(t){return t in this.data},i.prototype.keys=function(){return this.order},i.prototype.get=function(t){if(!this.has(t))return null;var e=this.data[t];return delete this.data[t],this.order.splice(this.order.indexOf(t),1),e},i.prototype.setMaxSize=function(t){for(this.max=t;this.order.length>this.max;){var e=this.get(this.order[0]);e&&this.onRemove(e)}return this}},function(t,e,i){(function(t){function i(t,e){for(var i=0,n=t.length-1;n>=0;n--){var r=t[n];"."===r?t.splice(n,1):".."===r?(t.splice(n,1),i++):i&&(t.splice(n,1),i--)}if(e)for(;i--;i)t.unshift("..");return t}function n(t,e){if(t.filter)return t.filter(e);for(var i=[],n=0;n<t.length;n++)e(t[n],n,t)&&i.push(t[n]);return i}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return r.exec(t).slice(1)};e.resolve=function(){for(var e="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,r="/"===a.charAt(0))}return e=i(n(e.split("/"),function(t){return!!t}),!r).join("/"),(r?"/":"")+e||"."},e.normalize=function(t){var r=e.isAbsolute(t),o="/"===a(t,-1);return t=i(n(t.split("/"),function(t){return!!t}),!r).join("/"),t||r||(t="."),t&&o&&(t+="/"),(r?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(n(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,i){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var i=t.length-1;i>=0&&""===t[i];i--);return e>i?[]:t.slice(e,i-e+1)}t=e.resolve(t).substr(1),i=e.resolve(i).substr(1);for(var r=n(t.split("/")),o=n(i.split("/")),a=Math.min(r.length,o.length),s=a,u=0;a>u;u++)if(r[u]!==o[u]){s=u;break}for(var l=[],u=s;u<r.length;u++)l.push("..");return l=l.concat(o.slice(s)),l.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=o(t),i=e[0],n=e[1];return i||n?(n&&(n=n.substr(0,n.length-1)),i+n):"."},e.basename=function(t,e){var i=o(t)[2];return e&&i.substr(-1*e.length)===e&&(i=i.substr(0,i.length-e.length)),i},e.extname=function(t){return o(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,i){return t.substr(e,i)}:function(t,e,i){return 0>e&&(e=t.length+e),t.substr(e,i)}}).call(e,i(69))},function(t,e,i){(function(e){"use strict";function e(t){var e;t&&t.length&&(e=t,t=e.length);var i=new Uint8Array(t||0);return e&&i.set(e),i.readUInt32LE=r.readUInt32LE,i.writeUInt32LE=r.writeUInt32LE,i.readInt32LE=r.readInt32LE,i.writeInt32LE=r.writeInt32LE,i.readFloatLE=r.readFloatLE,i.writeFloatLE=r.writeFloatLE,i.readDoubleLE=r.readDoubleLE,i.writeDoubleLE=r.writeDoubleLE,i.toString=r.toString,i.write=r.write,i.slice=r.slice,i.copy=r.copy,i._isBuffer=!0,i}function n(t){for(var e,i,n=t.length,r=[],o=0;n>o;o++){if(e=t.charCodeAt(o),e>55295&&57344>e){if(!i){e>56319||o+1===n?r.push(239,191,189):i=e;continue}if(56320>e){r.push(239,191,189),i=e;continue}e=i-55296<<10|e-56320|65536,i=null}else i&&(r.push(239,191,189),i=null);128>e?r.push(e):2048>e?r.push(e>>6|192,63&e|128):65536>e?r.push(e>>12|224,e>>6&63|128,63&e|128):r.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}return r}t.exports=e;var r,o,a,s=i(46);r={readUInt32LE:function(t){return(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},writeUInt32LE:function(t,e){this[e]=t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24},readInt32LE:function(t){return(this[t]|this[t+1]<<8|this[t+2]<<16)+(this[t+3]<<24)},readFloatLE:function(t){return s.read(this,t,!0,23,4)},readDoubleLE:function(t){return s.read(this,t,!0,52,8)},writeFloatLE:function(t,e){return s.write(this,t,e,!0,23,4)},writeDoubleLE:function(t,e){return s.write(this,t,e,!0,52,8)},toString:function(t,e,i){var n="",r="";e=e||0,i=Math.min(this.length,i||this.length);for(var o=e;i>o;o++){var a=this[o];127>=a?(n+=decodeURIComponent(r)+String.fromCharCode(a),r=""):r+="%"+a.toString(16)}return n+=decodeURIComponent(r)},write:function(t,e){for(var i=t===o?a:n(t),r=0;r<i.length;r++)this[e+r]=i[r]},slice:function(t,e){return this.subarray(t,e)},copy:function(t,e){e=e||0;for(var i=0;i<this.length;i++)t[e+i]=this[i]}},r.writeInt32LE=r.writeUInt32LE,e.byteLength=function(t){return o=t,a=n(t),a.length},e.isBuffer=function(t){return!(!t||!t._isBuffer)}}).call(e,i(40).Buffer)},function(t,e,i){var n,r;void function(o,a){n=a,r="function"==typeof n?n.call(e,i,e,t):n,!(void 0!==r&&(t.exports=r))}(this,function(){function t(){var t=arguments.length;if(0===t)throw new Error("resolveUrl requires at least one argument; got none.");var e=document.createElement("base");if(e.href=arguments[0],1===t)return e.href;var i=document.getElementsByTagName("head")[0];i.insertBefore(e,i.firstChild);for(var n,r=document.createElement("a"),o=1;t>o;o++)r.href=arguments[o],n=r.href,e.href=n;return i.removeChild(e),n}return t})},function(t,e,i){(function(e){"use strict";function n(t){return new r(t)}function r(t){this.options=g(Object.create(this.options),t),this._initTrees()}function o(t){return[t.x,t.y,t.x,t.y]}function a(t,e){return t.x-e.x}function s(t,e){return t.y-e.y}function u(t,e){return{x:t,y:e,wx:t,wy:e,zoom:1/0,point:null,numPoints:1}}function l(t){var e=t.geometry.coordinates,i=u(f(e[0]),d(e[1]));return i.point=t,i}function h(t){return t.point?t.point:{type:"Feature",properties:c(t),geometry:{type:"Point",coordinates:[p(t.wx),m(t.wy)]}}}function c(t){var e=t.numPoints,i=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return{cluster:!0,point_count:e,point_count_abbreviated:i}}function f(t){return t/360+.5}function d(t){var e=Math.sin(t*Math.PI/180),i=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return 0>i?0:i>1?1:i}function p(t){return 360*(t-.5)}function m(t){var e=(180-360*t)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function v(t,e){var i=t.wx-e.wx,n=t.wy-e.wy;return i*i+n*n}function g(t,e){for(var i in e)t[i]=e[i];return t}var y=i(37);t.exports=n,r.prototype={options:{minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:16,log:!1},load:function(t){var i=this.options.log;i&&e.time("total time");var n="prepare "+t.length+" points";i&&e.time(n);var r=t.map(l);i&&e.timeEnd(n);for(var o=this.options.maxZoom;o>=this.options.minZoom;o--){var a=+Date.now();this.trees[o+1].load(r),r=this._cluster(r,o),i&&e.log("z%d: %d clusters in %dms",o,r.length,+Date.now()-a)}return this.trees[this.options.minZoom].load(r),i&&e.timeEnd("total time"),this},getClusters:function(t,e){var i=[f(t[0]),d(t[3]),f(t[2]),d(t[1])],n=Math.max(this.options.minZoom,Math.min(e,this.options.maxZoom+1)),r=this.trees[n].search(i);return r.map(h)},getTile:function(t,e,i){var n=Math.pow(2,t),r=this.options.extent,o=this.options.radius/r,a=this.trees[t].search([(e-o)/n,(i-o)/n,(e+1+o)/n,(i+1+o)/n]);if(!a.length)return null;for(var s={features:[]},u=0;u<a.length;u++){var l=a[u],h={type:1,geometry:[[Math.round(r*(l.wx*n-e)),Math.round(r*(l.wy*n-i))]],tags:l.point?l.point.properties:c(l)};s.features.push(h)}return s},_initTrees:function(){this.trees=[];for(var t=0;t<=this.options.maxZoom+1;t++)this.trees[t]=y(this.options.nodeSize),this.trees[t].toBBox=o,this.trees[t].compareMinX=a,this.trees[t].compareMinY=s},_cluster:function(t,e){for(var i=[],n=this.options.radius/(this.options.extent*Math.pow(2,e)),r=[0,0,0,0],o=0;o<t.length;o++){var a=t[o];if(!(a.zoom<=e)){a.zoom=e,r[0]=a.wx-n,r[1]=a.wy-n,r[2]=a.wx+n,r[3]=a.wy+n;for(var s=this.trees[e+1].search(r),l=!1,h=a.numPoints,c=a.wx*h,f=a.wy*h,d=0;d<s.length;d++){var p=s[d];e<p.zoom&&v(a,p)<=n*n&&(l=!0,p.zoom=e,c+=p.wx*p.numPoints,f+=p.wy*p.numPoints,h+=p.numPoints)}if(l){var m=u(a.x,a.y);m.numPoints=h,m.wx=c/h,m.wy=f/h,i.push(m)}else i.push(a)}}return i}}}).call(e,i(6))},function(t,e,i){"use strict";i(169);t.exports={debug:{fragment:"precision mediump float;\n\nuniform lowp vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n",vertex:"precision highp float;\n\nattribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, step(32767.0, a_pos.x), 1);\n}\n"},fill:{fragment:"precision mediump float;\n\nuniform lowp vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n",vertex:"precision highp float;\n\nattribute vec2 a_pos;\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},circle:{fragment:"precision mediump float;\n\nuniform lowp vec4 u_color;\nuniform lowp float u_blur;\n\nvarying vec2 v_extrude;\n\nvoid main() {\n    float t = smoothstep(1.0 - u_blur, 1.0, length(v_extrude));\n    gl_FragColor = u_color * (1.0 - t);\n}\n",vertex:"precision highp float;\n\nuniform mat4 u_matrix;\nuniform mat4 u_exmatrix;\nuniform mediump float u_size;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_extrude;\n\nvoid main(void) {\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    v_extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    vec4 extrude = u_exmatrix * vec4(v_extrude * u_size, 0, 0);\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5), 0, 1);\n\n    // gl_Position is divided by gl_Position.w after this shader runs.\n    // Multiply the extrude by it so that it isn't affected by it.\n    gl_Position += extrude * gl_Position.w;\n}\n"},line:{fragment:"precision mediump float;\n\nuniform vec2 u_linewidth;\nuniform lowp vec4 u_color;\nuniform float u_blur;\n\nvarying vec2 v_normal;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\nvoid main() {\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * u_linewidth.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_linewidth.t) or when fading out\n    // (v_linewidth.s)\n    float blur = u_blur * v_gamma_scale;\n    float alpha = clamp(min(dist - (u_linewidth.t - blur), u_linewidth.s - dist) / blur, 0.0, 1.0);\n\n    gl_FragColor = u_color * alpha;\n}\n",vertex:"precision highp float;\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform float u_ratio;\nuniform mediump vec2 u_linewidth;\nuniform float u_extra;\nuniform mat2 u_antialiasingmatrix;\nuniform mediump float u_offset;\n\nvarying vec2 v_normal;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\nvoid main() {\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec4 dist = vec4(u_linewidth.s * a_extrude * scale, 0.0, 0.0);\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset = u_offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit of the position before scaling it with the\n    // model/view matrix.\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5) + (offset + dist.xy) / u_ratio, 0.0, 1.0);\n\n    // position of y on the screen\n    float y = gl_Position.y / gl_Position.w;\n\n    // how much features are squished in the y direction by the tilt\n    float squish_scale = length(a_extrude) / length(u_antialiasingmatrix * a_extrude);\n\n    // how much features are squished in all directions by the perspectiveness\n    float perspective_scale = 1.0 / (1.0 - min(y * u_extra, 0.9));\n\n    v_gamma_scale = perspective_scale * squish_scale;\n}\n"},linepattern:{fragment:"precision mediump float;\n\nuniform vec2 u_linewidth;\nuniform float u_point;\nuniform float u_blur;\n\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_fade;\nuniform float u_opacity;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_normal;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\nvoid main() {\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * u_linewidth.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_linewidth.t) or when fading out\n    // (v_linewidth.s)\n    float blur = u_blur * v_gamma_scale;\n    float alpha = clamp(min(dist - (u_linewidth.t - blur), u_linewidth.s - dist) / blur, 0.0, 1.0);\n\n    float x_a = mod(v_linesofar / u_pattern_size_a.x, 1.0);\n    float x_b = mod(v_linesofar / u_pattern_size_b.x, 1.0);\n    float y_a = 0.5 + (v_normal.y * u_linewidth.s / u_pattern_size_a.y);\n    float y_b = 0.5 + (v_normal.y * u_linewidth.s / u_pattern_size_b.y);\n    vec2 pos = mix(u_pattern_tl_a, u_pattern_br_a, vec2(x_a, y_a));\n    vec2 pos2 = mix(u_pattern_tl_b, u_pattern_br_b, vec2(x_b, y_b));\n\n    vec4 color = mix(texture2D(u_image, pos), texture2D(u_image, pos2), u_fade);\n\n    alpha *= u_opacity;\n\n    gl_FragColor = color * alpha;\n}\n",vertex:"precision highp float;\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform mediump vec2 u_linewidth;\nuniform float u_extra;\nuniform mat2 u_antialiasingmatrix;\nuniform mediump float u_offset;\n\nvarying vec2 v_normal;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\nvoid main() {\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 extrude = a_extrude * scale;\n    mediump vec2 dist = u_linewidth.s * extrude;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset = u_offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit of the position before scaling it with the\n    // model/view matrix.\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5) + (offset + dist.xy) / u_ratio, 0.0, 1.0);\n    v_linesofar = a_linesofar;\n\n    // position of y on the screen\n    float y = gl_Position.y / gl_Position.w;\n\n    // how much features are squished in the y direction by the tilt\n    float squish_scale = length(a_extrude) / length(u_antialiasingmatrix * a_extrude);\n\n    // how much features are squished in all directions by the perspectiveness\n    float perspective_scale = 1.0 / (1.0 - min(y * u_extra, 0.9));\n\n    v_gamma_scale = perspective_scale * squish_scale;\n}\n"},linesdfpattern:{fragment:"precision mediump float;\n\nuniform vec2 u_linewidth;\nuniform lowp vec4 u_color;\nuniform float u_blur;\nuniform sampler2D u_image;\nuniform float u_sdfgamma;\nuniform float u_mix;\n\nvarying vec2 v_normal;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\nvoid main() {\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * u_linewidth.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_linewidth.t) or when fading out\n    // (v_linewidth.s)\n    float blur = u_blur * v_gamma_scale;\n    float alpha = clamp(min(dist - (u_linewidth.t - blur), u_linewidth.s - dist) / blur, 0.0, 1.0);\n\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\n    alpha *= smoothstep(0.5 - u_sdfgamma, 0.5 + u_sdfgamma, sdfdist);\n\n    gl_FragColor = u_color * alpha;\n}\n",vertex:"precision highp float;\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump vec2 u_linewidth;\nuniform mediump float u_ratio;\nuniform vec2 u_patternscale_a;\nuniform float u_tex_y_a;\nuniform vec2 u_patternscale_b;\nuniform float u_tex_y_b;\nuniform float u_extra;\nuniform mat2 u_antialiasingmatrix;\nuniform mediump float u_offset;\n\nvarying vec2 v_normal;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\nvoid main() {\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec4 dist = vec4(u_linewidth.s * a_extrude * scale, 0.0, 0.0);\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset = u_offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit of the position before scaling it with the\n    // model/view matrix.\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5) + (offset + dist.xy) / u_ratio, 0.0, 1.0);\n\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x, normal.y * u_patternscale_a.y + u_tex_y_a);\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x, normal.y * u_patternscale_b.y + u_tex_y_b);\n\n    // position of y on the screen\n    float y = gl_Position.y / gl_Position.w;\n\n    // how much features are squished in the y direction by the tilt\n    float squish_scale = length(a_extrude) / length(u_antialiasingmatrix * a_extrude);\n\n    // how much features are squished in all directions by the perspectiveness\n    float perspective_scale = 1.0 / (1.0 - min(y * u_extra, 0.9));\n\n    v_gamma_scale = perspective_scale * squish_scale;\n}\n"},outline:{fragment:"precision mediump float;\n\nuniform lowp vec4 u_color;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = smoothstep(1.0, 0.0, dist);\n    gl_FragColor = u_color * alpha;\n}\n",vertex:"precision highp float;\n\nattribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (gl_Position.xy/gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},pattern:{fragment:"precision mediump float;\n\nuniform float u_opacity;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a, u_pattern_br_a, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b, u_pattern_br_b, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * u_opacity;\n}\n",
vertex:"precision highp float;\n\nuniform mat4 u_matrix;\nuniform vec2 u_patternscale_a;\nuniform vec2 u_patternscale_b;\nuniform vec2 u_offset_a;\nuniform vec2 u_offset_b;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos_a = u_patternscale_a * a_pos + u_offset_a;\n    v_pos_b = u_patternscale_b * a_pos + u_offset_b;\n}\n"},raster:{fragment:"precision mediump float;\n\nuniform float u_opacity0;\nuniform float u_opacity1;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nuniform float u_brightness_low;\nuniform float u_brightness_high;\n\nuniform float u_saturation_factor;\nuniform float u_contrast_factor;\nuniform vec3 u_spin_weights;\n\nvoid main() {\n\n    // read and cross-fade colors from the main and parent tiles\n    vec4 color0 = texture2D(u_image0, v_pos0);\n    vec4 color1 = texture2D(u_image1, v_pos1);\n    vec4 color = color0 * u_opacity0 + color1 * u_opacity1;\n    vec3 rgb = color.rgb;\n\n    // spin\n    rgb = vec3(\n        dot(rgb, u_spin_weights.xyz),\n        dot(rgb, u_spin_weights.zxy),\n        dot(rgb, u_spin_weights.yzx));\n\n    // saturation\n    float average = (color.r + color.g + color.b) / 3.0;\n    rgb += (average - rgb) * u_saturation_factor;\n\n    // contrast\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\n\n    // brightness\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\n\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb), color.a);\n}\n",vertex:"precision highp float;\n\nuniform mat4 u_matrix;\nuniform vec2 u_tl_parent;\nuniform float u_scale_parent;\nuniform float u_buffer_scale;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos0 = (((a_texture_pos / 32767.0) - 0.5) / u_buffer_scale ) + 0.5;\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\n}\n"},icon:{fragment:"precision mediump float;\n\nuniform sampler2D u_texture;\n\nvarying vec2 v_tex;\nvarying float v_alpha;\n\nvoid main() {\n    gl_FragColor = texture2D(u_texture, v_tex) * v_alpha;\n}\n",vertex:"precision highp float;\n\nattribute vec2 a_pos;\nattribute vec2 a_offset;\nattribute vec4 a_data1;\nattribute vec4 a_data2;\n\n\n// matrix is for the vertex position, exmatrix is for rotating and projecting\n// the extrusion vector.\nuniform mat4 u_matrix;\nuniform mat4 u_exmatrix;\nuniform mediump float u_zoom;\nuniform mediump float u_fadedist;\nuniform mediump float u_minfadezoom;\nuniform mediump float u_maxfadezoom;\nuniform mediump float u_fadezoom;\nuniform lowp float u_opacity;\nuniform bool u_skewed;\nuniform float u_extra;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying float v_alpha;\n\nvoid main() {\n    vec2 a_tex = a_data1.xy;\n    mediump float a_labelminzoom = a_data1[2];\n    mediump vec2 a_zoom = a_data2.st;\n    mediump float a_minzoom = a_zoom[0];\n    mediump float a_maxzoom = a_zoom[1];\n\n    float a_fadedist = 10.0;\n\n    // u_zoom is the current zoom level adjusted for the change in font size\n    mediump float z = 2.0 - step(a_minzoom, u_zoom) - (1.0 - step(a_maxzoom, u_zoom));\n\n    // fade out labels\n    mediump float alpha = clamp((u_fadezoom - a_labelminzoom) / u_fadedist, 0.0, 1.0);\n\n    if (u_fadedist >= 0.0) {\n        v_alpha = alpha;\n    } else {\n        v_alpha = 1.0 - alpha;\n    }\n    if (u_maxfadezoom < a_labelminzoom) {\n        v_alpha = 0.0;\n    }\n    if (u_minfadezoom >= a_labelminzoom) {\n        v_alpha = 1.0;\n    }\n\n    // if label has been faded out, clip it\n    z += step(v_alpha, 0.0);\n\n    if (u_skewed) {\n        vec4 extrude = u_exmatrix * vec4(a_offset / 64.0, 0, 0);\n        gl_Position = u_matrix * vec4(a_pos + extrude.xy, 0, 1);\n        gl_Position.z += z * gl_Position.w;\n    } else {\n        vec4 extrude = u_exmatrix * vec4(a_offset / 64.0, z, 0);\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + extrude;\n    }\n\n    v_tex = a_tex / u_texsize;\n\n    v_alpha *= u_opacity;\n}\n"},sdf:{fragment:"precision mediump float;\n\nuniform sampler2D u_texture;\nuniform lowp vec4 u_color;\nuniform lowp float u_buffer;\nuniform lowp float u_gamma;\n\nvarying vec2 v_tex;\nvarying float v_alpha;\nvarying float v_gamma_scale;\n\nvoid main() {\n    lowp float gamma = u_gamma * v_gamma_scale;\n    lowp float dist = texture2D(u_texture, v_tex).a;\n    lowp float alpha = smoothstep(u_buffer - gamma, u_buffer + gamma, dist) * v_alpha;\n    gl_FragColor = u_color * alpha;\n}\n",vertex:"precision highp float;\n\nattribute vec2 a_pos;\nattribute vec2 a_offset;\nattribute vec4 a_data1;\nattribute vec4 a_data2;\n\n\n// matrix is for the vertex position, exmatrix is for rotating and projecting\n// the extrusion vector.\nuniform mat4 u_matrix;\nuniform mat4 u_exmatrix;\n\nuniform mediump float u_zoom;\nuniform mediump float u_fadedist;\nuniform mediump float u_minfadezoom;\nuniform mediump float u_maxfadezoom;\nuniform mediump float u_fadezoom;\nuniform bool u_skewed;\nuniform float u_extra;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying float v_alpha;\nvarying float v_gamma_scale;\n\nvoid main() {\n    vec2 a_tex = a_data1.xy;\n    mediump float a_labelminzoom = a_data1[2];\n    mediump vec2 a_zoom = a_data2.st;\n    mediump float a_minzoom = a_zoom[0];\n    mediump float a_maxzoom = a_zoom[1];\n\n    // u_zoom is the current zoom level adjusted for the change in font size\n    mediump float z = 2.0 - step(a_minzoom, u_zoom) - (1.0 - step(a_maxzoom, u_zoom));\n\n    // fade out labels\n    mediump float alpha = clamp((u_fadezoom - a_labelminzoom) / u_fadedist, 0.0, 1.0);\n\n    if (u_fadedist >= 0.0) {\n        v_alpha = alpha;\n    } else {\n        v_alpha = 1.0 - alpha;\n    }\n    if (u_maxfadezoom < a_labelminzoom) {\n        v_alpha = 0.0;\n    }\n    if (u_minfadezoom >= a_labelminzoom) {\n        v_alpha = 1.0;\n    }\n\n    // if label has been faded out, clip it\n    z += step(v_alpha, 0.0);\n\n    if (u_skewed) {\n        vec4 extrude = u_exmatrix * vec4(a_offset / 64.0, 0, 0);\n        gl_Position = u_matrix * vec4(a_pos + extrude.xy, 0, 1);\n        gl_Position.z += z * gl_Position.w;\n    } else {\n        vec4 extrude = u_exmatrix * vec4(a_offset / 64.0, z, 0);\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + extrude;\n    }\n\n    // position of y on the screen\n    float y = gl_Position.y / gl_Position.w;\n    // how much features are squished in all directions by the perspectiveness\n    float perspective_scale = 1.0 / (1.0 - y * u_extra);\n    v_gamma_scale = perspective_scale;\n\n    v_tex = a_tex / u_texsize;\n}\n"},collisionbox:{fragment:"precision mediump float;\n\nuniform float u_zoom;\nuniform float u_maxzoom;\n\nvarying float v_max_zoom;\nvarying float v_placement_zoom;\n\nvoid main() {\n\n    float alpha = 0.5;\n\n    gl_FragColor = vec4(0.0, 1.0, 0.0, 1.0) * alpha;\n\n    if (v_placement_zoom > u_zoom) {\n        gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n    }\n\n    if (u_zoom >= v_max_zoom) {\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0) * alpha * 0.25;\n    }\n\n    if (v_placement_zoom >= u_maxzoom) {\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 1.0) * alpha * 0.2;\n    }\n}\n",vertex:"precision highp float;\n\nattribute vec2 a_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_data;\n\nuniform mat4 u_matrix;\nuniform float u_scale;\n\nvarying float v_max_zoom;\nvarying float v_placement_zoom;\n\nvoid main() {\n     gl_Position = u_matrix * vec4(a_pos + a_extrude / u_scale, 0.0, 1.0);\n\n     v_max_zoom = a_data.x;\n     v_placement_zoom = a_data.y;\n}\n"}}},function(t,e){function i(t,e,i,n){this.cx=3*t,this.bx=3*(i-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(n-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=n,this.p2x=i,this.p2y=n}t.exports=i,i.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},i.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},i.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},i.prototype.solveCurveX=function(t,e){"undefined"==typeof e&&(e=1e-6);var i,n,r,o,a;for(r=t,a=0;8>a;a++){if(o=this.sampleCurveX(r)-t,Math.abs(o)<e)return r;var s=this.sampleCurveDerivativeX(r);if(Math.abs(s)<1e-6)break;r-=o/s}if(i=0,n=1,r=t,i>r)return i;if(r>n)return n;for(;n>i;){if(o=this.sampleCurveX(r),Math.abs(o-t)<e)return r;t>o?i=r:n=r,r=.5*(n-i)+i}return r},i.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))}},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAEFFJREFUeNrsXVtsW+Ud//sWO3cnoaFpKTispXS0JWmBrmPQBG1rB9qW7vKANIlkD1Tay5qXvfCQ9oGXTVpT7WGiD6SVNk2axHAnBGIawy3rxBBtLbStoK3UkN5ya+wkdhzbiff9jz8n59jn7nOz/f2kIzvH9sk55/f7/rfvcgAYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBhqEy6pD/KvPD9EXvokPo6QLe569e0ou4X2I//yPuQpSLYBia9EXWeuhFULgJB/VYb8soPT7QIKg4gixigxlewQJfoQ5Ug1T0QE/YoCIOQPk5eJCs4xTrYwE4QphA/Rlq4XI0QEZ/k7vCJfOlThOeMJDtMNBYXW4TyKgrkMTSYdyf6+hhauBsitogBCBl9P0UyNETHEqHU4zSyDaEv/OSU+ZNK/KTuu1+LrxBM4jhu1DOdQkUQM8TolvWgtXzK4pauG18brL1qGU0QMaJbOESFE6oT4AUr6sN3n4nXIPeFiBmoV0D2crVHih6mZ73PKOXklong7rcIEEcIYdQ/jRroHctxinryRL8/cLa1vAImUIwaSHqRu7yUTfbuWDE0xDTyBAZtDBBqnFuGEDrKDvPRpQLLVCQVQWt9AIVyQKqKoIP8EbfFBh9zPk+RaTphdBzADMe7kVbgGWsF8iUbTypAWgBBudxjW1s6pEQM19WMOaPGKdQCXhJl836FuNMJdREkKSVu7PjOrVgBCMRbc05krcZFUbgKkS7J2Y7DUvUmVgvNKR1rJ5iCRSnOviLamAPfaTl9NdgtoDcZ5xOs3s9oFIHBPRSEQ8o/TVm+quU+ks9zrQjrDvfq9HmgP+LhXJZDzdCnGAFQAsn0B95ZScO3mlOQ/ag40QLO/gYihkROE3+c1yxr0VXzD9QtgQwhud5S4B8Nb/UpulSM8sZyBZCbHbVLYdX87dDb55Q4n2hfglQmAJAUwlViUPfEkUSdu04mlgkqJALpam6C7vZUThkFwipkNGkk+kjy9mIa51AonALWYIr9REoCWOsAFuSLF6uqaNiUTN3H73gK3mSSGqoZe0gWcrCl67QtaBBAx62L5YkBXsaWjnYihpS6Jn15Kw+1ESta0G+wyQVUMQOOAG1IR9b++vMMFgIZVozxuTgg9nW3gdbutZaHyGEATcqSl3llIccTnlFutarSTxrS7RzIcihH/3yua3WpVTDHIM/SmEJfy5ew8XL4+CZOzcXJj1mqutSPZk/EkXJ6chS/nk4aSz3HS4AU9XMoJ4LzUB36fz5ybRIUQvXGr5gQQvXXPFOI3OJG1nOf1CEDaApgYvKF12fNgT80JYA8xzwqttEIL4DPWAtBOmLAVLoB/3N2EfJPqBrYCCzW7ezpME4HMccOlFUu1FkA6dSCBmtEiwEwAybc8CLQQXreLE0F3S8Bw8vHYWjhUKwDJjg8jS75I/o6eTTVNPl8EOza1GSqCdvnGGNYtANrpEhEXQKOh5NcbjBRBe6Ok/48Q8x+rxAIgzont7GxpYuQ7RAQyJeBzSr9VIwBJE9LZql8E+Nt6Jt8oESjU/8MVC4BmA2fFPutqadYd7TPyN9Db1ao7O+hqlhTAWbnoX4sFkCwkYCvGMq6eVK8eAj6t2YFWEeDvZCzAeTXHUMUCsQJoSmJi6aCWWADFwsiXF4FMOidq/iW+H1M7jlELE+fEA7lWRr5NIuhubdQd/OkRwLhUPUBN5Q59Puv/V+EiiRvAwFAJxaFgWriqSAByweCWznbZ3z54X4chaWO9AE17b5f8GIkt7Y0VBX96LADipFQ+LxUM4mfb7gsyVjViS1uTZHqILqK7pVETR4YIgFYGw2LBIA7oEIv4e+/vYmwanB5uaW8SjxPc7rBS5a9SC4A4LbaTG83DswL4vl7q+2YGhTjal082vu9pk3Cna2untf4PzezQGbyKVoAFfcYAgz1+UCjZ+gvdvhHTBUAxKrYTfT1mBJ0HD0Fg4AXI3beZMVghcsEOCDy5Hzoff4wTw7ZgsyZOFBu03hPLv/L8KSjMyhEg0dIJ2Z9s7PYsxqEhdg38n10F7+xd593hGeed01pzMyzv2AmZrVthtXmDcN9bb0F7akk07SOt33IBYGiPI4fXQ/y8PwDxH/0MVlvFo37f7RgEiBBQDEwA5VgJ9UK6txeym7pFP/ckkxD8y7vgymb4uzHl69WS+hkiACoCnIH7ZvHvpcGjkN7Zr/g7tApNH7/vDCE4QABIfOqx3YLWLoVA7Aa0fPRP/q6jeqevVywAKgIUwFCmdxcsHH5R029RCC3vv0ksw426FEC2uxuWnjyging+2i79HRpu3SwGfkcrOQcjcrSRtUBTdHFQ+3mgq0h8bwQWjrwIa631UyxCH7/w9DOQGHhOM/mIxacOwJrfj3P9Rio9F5chjWjyY84KVHQimTS0XHrHerdgsQVAc7/Uvw/ylc+tCG/65i+O2i4AQr4gDqgUmDG0ErfgWknXlADyvgau5WJkbyCOEhGEbRMAIb8sEzAC3rm7JDb4kzVpowUCwFx+iZCfCxru5rgMgIhA90JalcYAE2DCihi5rs0kNvgpZLf0Vr2/x0AvMficGeQDvfcTtlgAo02/FNAdmBoXmGgB0N+j2bcAul2BSyf5qDxkJWTF1ZkqApMEYCH5FbkCvS7A0iXQMMVcUVFgcgosJr/oCsYssQCk9ffR1m85TLEEBluAzNYHSI7/Dbu010+sQNRsC3DKrqtbevo7ju5hxGjf4pYvFpSb5wJI6x8GG1fnyjcEuOwAO52cBi7PJy0/b9LiGSrRN3PxN8dNcQFm5fx6gL2K7X9+3VEuAFM9qV48i6EpINRiAcbAIYseZ7eEIPXEoGNaP/bkOYR8zQGhW2Xrx4j/ODgIKAAnxAPo91EADsPxmb/+MmSkBTgFDsTS4A9sP4dkv2PT0wlDBEBaPwZ9Q068QiwZ21kfwHzfQaa/FAPECgwYYQHGwMHA1NCOrACjfuzWdTQ8vlMVCcDutE9tari856Dl/3f5kUfsTvmUsZrtI1ZguBILMAZVgOW9B6WtgMdb2AR5pMh8BW/JdzyewibR+pcf2QlVgjFdAqCtP1QNVyhrBdq6Ctv6FZNL7toK0MibfBloJMkT+Y6LVxZpbi1s1dr6NxCSswLuam/96wGZVDBIxMFt6y2dtn6fX2gluM98Qivha5AM/qoMY5oEUE2tf93dtQYBRyaXweUubGUmv0Ha/HO/cwktAgV29ugZyOlUKyBlAeJg7/MDdSG9U8XzGBtk1jf0Kc9lTIeqcpSSJJ+iAti07QkcXYJXOl5NV5kJ7VJOCXMrMp9lFVM/gwd1WgHksFdqxJDk2i5EBKiYUeIOcLUpzCdte9xpKpWGi/+4Apev/of7+9mn98EzX98nKQLZMQPFZxGs8p7SsUYf05KXX8pdjvwPop/DxauFCS77dz0Az/b1QlPA1tnROC5glBAfqSQNRCFEyIYR1qgdbgHJH//tH6AluA0e/WofXPvsBrz2+htwZuIN0e9jR5GQtXRhW2/lmXJLkMuVWwCcfyecg8cN8BTDmTc/hOmFPBx66nGYnE7A7965DK9OvAepdMYuc3+SEN+vRL4qAfCEgKYEhRC28mqw5e98dA8MDQ3BsWPHYO/evYX9l67AB+Szsgi9NBBcnANYmhdagMQMyeV4s2zTy+Q7C0ILkEoCJIVPR1shAWApLn96E+KpVTj242/D0HMH4FsHH+f2f3F3Hi5GLZ/yhtwg8SfU/kDTgBAighjZcDYKbjErrgjN/vXr17n3yWQSpqY2nlc4MxsXrQkIegmxFWdKJpkg+fzH0iDxKAJBc89sWAYo9PqJ5f5I9NRcApLLhf9xfXJjfMHlazetIh65wJHBuGniRdf6pBgkktgAzctxs+sFTU2NRASfwJEjR9SnhF095ZNKMNdv6Si0/vViT1uh5S+nNva1thVa/6rw8W2rMuP6p+bi8MPRX5Wfe8CSYhEuCjWud3KI7okhGCSS7QR1CxGzru6J/l2Sn+3aKZ6SiY4TaGwtVP/4qR7u8zcK6wH4t788VUQLIHoOofulz33XA2YSHymaeztnBqEQomTD4TkjZgSJGO1j1F8K3CcpgC6RZw4Vq338ohAWg/hFoOJnIkve5TqCEgLoJhH/w+XnR/Y9I7LfoCBvhJA+qHUEsBhcRp4ZHTeIKeOw0VeN0T9uxZYvRT7H32IcOn7/a+HOzp5CSRiDwuRCYd9mcow7nwPM0riisalQ/0f/n5gX/Hz+he/KVgCvxabJVjjOQ5s7YP+jprT+szS1M6yhGfoEI1o7GCFCwLVqcURKyKhjK5Eu8Ndyaw24ZJ6y7ZI2iErlX7QEuJkY5I2oSetsFQC/doDVJyIEjBH0P9rdDFRQCbQppz+tJa2zPAZQEILpQaIUymYWF1NBfvqH1cC1VWE6yP04q6oAZDIiWnN6x1iA0toBeRmks4lPgV29jBmS5+fbhDUBfM+v9uF7FEE2Y2erj1E/b0nBzbJ1XGkHE1oDezqYkOypL4T7sCawuCDcNzdtpwDGaau3rNpq6SM6eR1M56g1GLDlNrdvKpSHix1COPSrqblcDNaa+1Ej0jpHC4BfO6BuoVhJtC5IxHoAFoSQ/GIfQbH4I1IBtCDIw44b27rdbV3Km3YwYbRmuMnzzt2RFgDCJzIiyC2eIvqmp824fG7MhZ3k22YBRNzCUToBxbDageQqY2IVweLQL3QF5meCpuX0VSkAidpBRR1MrozMEnMemQ4at3SRyEVSQwNGAp80O62rKhcgUzvoraR2ILu8XGZZpnggHf174/OVBnm9TiPfURZApnageSk6z6IKsvhWAgs/CgNCcaXurPaHnRY7bsLgUDj6eS56B6d65u7KE59fKxkSllUsAHnimvtfZAdjMgugr3aA1kBxcKri6uMzk8KScIaI4d6M/DHVZwJR2uqjUAXwQpWA1g76lWoHGAAqLjHLJ78IhRHBGAMoBIK25/Q15wJkageSg1PNfPaAjBUoDsYcr7b76YUqBA0SRWsH/hufmvZ//bduls4NcFROXzcC4NcOiAjQGqwPTsXl5kvxeSoPS6v4Ctyr0HALTX8LsYkPB1zQ4sFX4Vcbbt0S5PRQwWBMp8AFNQJcyCrw748mku+9NfDJYh5wQ8Kvp4QENzQ0gI/vxxdub2SDuRxksjnB978SKAhibzOQzQXNB/ZH0tt3jGgdfs0EYBFeHjoy/MVy/hQ/SOzo6ICuri4IBETmDc7+t2xXeiUD84tJmIsLJobEH/LD6Jm/Rc/W0v3y1JoALn/6v+j27dtfI2+R7a8V6jxZ8Hg8nADcpY+yTd0T/LlKMoQ4IX8+sUQSgzw/pz/6x4vRD2vtftWcBeDj8OHDGCSuT2xFEfT09ECQP8mDZwGQ+Dsz85wIeDn96LuXopFavUc1LQCeEE4Ab3AqWgIUQjOO9CUCSC6vwJ3Zec7083N6Qvx4rd+buhAAFUGIWgPhmodLU2I5Pbb6WD3cl7oRAE8IwsGpGwKIUeLD9XQ/6k4AVARBaglCVABIfpiQHwcGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgaGmsD/BRgATdvginhQ1hkAAAAASUVORK5CYII="},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e,i){"use strict";function n(t,e){this.layers=t.readFields(r,{},e)}function r(t,e,i){if(3===t){var n=new o(i,i.readVarint()+i.pos);n.length&&(e[n.name]=n)}}var o=i(72);t.exports=n},function(t,e){t.exports="<div> <footer class=mdl-mini-footer> <div class=mdl-mini-footer__left-section> <div class=mdl-logo> FoxGIS </div> <ul class=mdl-mini-footer__link-list> <li><a href=#>产品介绍</a></li> <li><a href=#>企业合作</a></li> <li><a href=#>关于我们</a></li> </ul> </div> </footer> </div>"},function(t,e){t.exports="<div> <div id=map></div> </div>"},function(t,e,i){t.exports='<header class=mdl-layout__header _v-765b8c2a=""> <img class=mdl-layout-icon src='+i(175)+' alt=logo _v-765b8c2a=""> <div class=mdl-layout__header-row _v-765b8c2a=""> <span class=mdl-layout__title _v-765b8c2a="">FoxGIS</span> <div class=mdl-layout-spacer _v-765b8c2a=""></div> <nav class="mdl-navigation mdl-layout--large-screen-only" _v-765b8c2a=""> <a class=mdl-navigation__link href=# _v-765b8c2a="">图集</a> <a class=mdl-navigation__link href=# _v-765b8c2a="">数据</a> <a class=mdl-navigation__link href=# _v-765b8c2a="">制图</a> <a class=mdl-navigation__link href=# _v-765b8c2a="">社区</a> </nav> </div> </header> <div class="mdl-layout__drawer mdl-layout--small-screen-only" _v-765b8c2a=""> <span class=mdl-layout__title _v-765b8c2a="">FoxGIS</span> <nav class=mdl-navigation _v-765b8c2a=""> <a class=mdl-navigation__link href=# _v-765b8c2a="">图集</a> <a class=mdl-navigation__link href=# _v-765b8c2a="">数据</a> <a class=mdl-navigation__link href=# _v-765b8c2a="">制图</a> <a class=mdl-navigation__link href=# _v-765b8c2a="">社区</a> </nav> </div>'},function(t,e){t.exports='<div _v-951b7190=""> <div class="mdl-layout mdl-js-layout" _v-951b7190=""> <foxgis-header id=header _v-951b7190=""></foxgis-header> <main class=mdl-layout__content _v-951b7190=""> <foxgis-map _v-951b7190=""></foxgis-map> </main> <foxgis-footer id=footer _v-951b7190=""></foxgis-footer> </div> </div>'},function(t,e,i){var n,r;i(189),n=i(73),r=i(181),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},function(t,e,i){var n,r;i(186),n=i(74),r=i(178),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},function(t,e,i){var n,r;i(188),n=i(75),r=i(180),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},function(t,e,i){var n,r;i(187),n=i(76),r=i(179),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},function(t,e,i){var n=i(79);"string"==typeof n&&(n=[[t.id,n,""]]);i(24)(n,{});n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(80);"string"==typeof n&&(n=[[t.id,n,""]]);i(24)(n,{});n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(81);"string"==typeof n&&(n=[[t.id,n,""]]);i(24)(n,{});n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(82);"string"==typeof n&&(n=[[t.id,n,""]]);i(24)(n,{});n.locals&&(t.exports=n.locals)},function(t,e,i){(function(e,i){/*!
	 * Vue.js v1.0.17
	 * (c) 2016 Evan You
	 * Released under the MIT License.
	 */
"use strict";function n(t,e,i){if(o(t,e))return void(t[e]=i);if(t._isVue)return void n(t._data,e,i);var r=t.__ob__;if(!r)return void(t[e]=i);if(r.convert(e,i),r.dep.notify(),r.vms)for(var a=r.vms.length;a--;){var s=r.vms[a];s._proxy(e),s._digest()}return i}function r(t,e){if(o(t,e)){delete t[e];var i=t.__ob__;if(i&&(i.dep.notify(),i.vms))for(var n=i.vms.length;n--;){var r=i.vms[n];r._unproxy(e),r._digest()}}}function o(t,e){return Mi.call(t,e)}function a(t){return Si.test(t)}function s(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function u(t){return null==t?"":t.toString()}function l(t){if("string"!=typeof t)return t;var e=Number(t);return isNaN(e)?t:e}function h(t){return"true"===t?!0:"false"===t?!1:t}function c(t){var e=t.charCodeAt(0),i=t.charCodeAt(t.length-1);return e!==i||34!==e&&39!==e?t:t.slice(1,-1)}function f(t){return t.replace(Ei,d)}function d(t,e){return e?e.toUpperCase():""}function p(t){return t.replace(Ti,"$1-$2").toLowerCase()}function m(t){return t.replace(Ii,d)}function v(t,e){return function(i){var n=arguments.length;return n?n>1?t.apply(e,arguments):t.call(e,i):t.call(e)}}function g(t,e){e=e||0;for(var i=t.length-e,n=new Array(i);i--;)n[i]=t[i+e];return n}function y(t,e){for(var i=Object.keys(e),n=i.length;n--;)t[i[n]]=e[i[n]];return t}function _(t){return null!==t&&"object"==typeof t}function x(t){return Ai.call(t)===Di}function b(t,e,i,n){Object.defineProperty(t,e,{value:i,enumerable:!!n,writable:!0,configurable:!0})}function w(t,e){var i,n,r,o,a,s=function u(){var s=Date.now()-o;e>s&&s>=0?i=setTimeout(u,e-s):(i=null,a=t.apply(r,n),i||(r=n=null))};return function(){return r=this,n=arguments,o=Date.now(),i||(i=setTimeout(s,e)),a}}function M(t,e){for(var i=t.length;i--;)if(t[i]===e)return i;return-1}function S(t){var e=function i(){return i.cancelled?void 0:t.apply(this,arguments)};return e.cancel=function(){e.cancelled=!0},e}function E(t,e){return t==e||(_(t)&&_(e)?JSON.stringify(t)===JSON.stringify(e):!1)}function T(t){this.size=0,this.limit=t,this.head=this.tail=void 0,this._keymap=Object.create(null)}function I(){var t,e=Gi.slice(Ji,Xi).trim();if(e){t={};var i=e.match(on);t.name=i[0],i.length>1&&(t.args=i.slice(1).map(A))}t&&($i.filters=$i.filters||[]).push(t),Ji=Xi+1}function A(t){if(an.test(t))return{value:l(t),dynamic:!1};var e=c(t),i=e===t;return{value:i?t:e,dynamic:i}}function D(t){var e=rn.get(t);if(e)return e;for(Gi=t,Qi=Ki=!1,tn=en=nn=0,Ji=0,$i={},Xi=0,Wi=Gi.length;Wi>Xi;Xi++)if(Zi=Hi,Hi=Gi.charCodeAt(Xi),Qi)39===Hi&&92!==Zi&&(Qi=!Qi);else if(Ki)34===Hi&&92!==Zi&&(Ki=!Ki);else if(124===Hi&&124!==Gi.charCodeAt(Xi+1)&&124!==Gi.charCodeAt(Xi-1))null==$i.expression?(Ji=Xi+1,$i.expression=Gi.slice(0,Xi).trim()):I();else switch(Hi){case 34:Ki=!0;break;case 39:Qi=!0;break;case 40:nn++;break;case 41:nn--;break;case 91:en++;break;case 93:en--;break;case 123:tn++;break;case 125:tn--}return null==$i.expression?$i.expression=Gi.slice(0,Xi).trim():0!==Ji&&I(),rn.put(t,$i),$i}function z(t){return t.replace(un,"\\$&")}function P(){var t=z(vn.delimiters[0]),e=z(vn.delimiters[1]),i=z(vn.unsafeDelimiters[0]),n=z(vn.unsafeDelimiters[1]);hn=new RegExp(i+"(.+?)"+n+"|"+t+"(.+?)"+e,"g"),cn=new RegExp("^"+i+".*"+n+"$"),ln=new T(1e3)}function C(t){ln||P();var e=ln.get(t);if(e)return e;if(t=t.replace(/\n/g,""),!hn.test(t))return null;for(var i,n,r,o,a,s,u=[],l=hn.lastIndex=0;i=hn.exec(t);)n=i.index,n>l&&u.push({value:t.slice(l,n)}),r=cn.test(i[0]),o=r?i[1]:i[2],a=o.charCodeAt(0),s=42===a,o=s?o.slice(1):o,u.push({tag:!0,value:o.trim(),html:r,oneTime:s}),l=n+i[0].length;return l<t.length&&u.push({value:t.slice(l)}),ln.put(t,u),u}function L(t,e){return t.length>1?t.map(function(t){return F(t,e)}).join("+"):F(t[0],e,!0)}function F(t,e,i){return t.tag?t.oneTime&&e?'"'+e.$eval(t.value)+'"':R(t.value,i):'"'+t.value+'"'}function R(t,e){if(fn.test(t)){var i=D(t);return i.filters?"this._applyFilters("+i.expression+",null,"+JSON.stringify(i.filters)+",false)":"("+t+")"}return e?t:"("+t+")"}function k(t,e,i,n){N(t,1,function(){e.appendChild(t)},i,n)}function B(t,e,i,n){N(t,1,function(){G(t,e)},i,n)}function O(t,e,i){N(t,-1,function(){H(t)},e,i)}function N(t,e,i,n,r){var o=t.__v_trans;if(!o||!o.hooks&&!Oi||!n._isCompiled||n.$parent&&!n.$parent._isCompiled)return i(),void(r&&r());var a=e>0?"enter":"leave";o[a](i,r)}function j(t){if("string"==typeof t){t=document.querySelector(t)}return t}function U(t){var e=document.documentElement,i=t&&t.parentNode;return e===t||e===i||!(!i||1!==i.nodeType||!e.contains(i))}function q(t,e){var i=t.getAttribute(e);return null!==i&&t.removeAttribute(e),i}function V(t,e){var i=q(t,":"+e);return null===i&&(i=q(t,"v-bind:"+e)),i}function Y(t,e){return t.hasAttribute(e)||t.hasAttribute(":"+e)||t.hasAttribute("v-bind:"+e)}function G(t,e){e.parentNode.insertBefore(t,e)}function $(t,e){e.nextSibling?G(t,e.nextSibling):e.parentNode.appendChild(t)}function H(t){t.parentNode.removeChild(t)}function Z(t,e){e.firstChild?G(t,e.firstChild):e.appendChild(t)}function X(t,e){var i=t.parentNode;i&&i.replaceChild(e,t)}function W(t,e,i,n){t.addEventListener(e,i,n)}function J(t,e,i){t.removeEventListener(e,i)}function Q(t,e){Ri&&!/svg$/.test(t.namespaceURI)?t.className=e:t.setAttribute("class",e)}function K(t,e){if(t.classList)t.classList.add(e);else{var i=" "+(t.getAttribute("class")||"")+" ";i.indexOf(" "+e+" ")<0&&Q(t,(i+e).trim())}}function tt(t,e){if(t.classList)t.classList.remove(e);else{for(var i=" "+(t.getAttribute("class")||"")+" ",n=" "+e+" ";i.indexOf(n)>=0;)i=i.replace(n," ");Q(t,i.trim())}t.className||t.removeAttribute("class")}function et(t,e){var i,n;if(rt(t)&&lt(t.content)&&(t=t.content),t.hasChildNodes())for(it(t),n=e?document.createDocumentFragment():document.createElement("div");i=t.firstChild;)n.appendChild(i);return n}function it(t){for(var e;e=t.firstChild,nt(e);)t.removeChild(e);for(;e=t.lastChild,nt(e);)t.removeChild(e)}function nt(t){return t&&(3===t.nodeType&&!t.data.trim()||8===t.nodeType)}function rt(t){return t.tagName&&"template"===t.tagName.toLowerCase()}function ot(t,e){var i=vn.debug?document.createComment(t):document.createTextNode(e?" ":"");return i.__v_anchor=!0,i}function at(t){if(t.hasAttributes())for(var e=t.attributes,i=0,n=e.length;n>i;i++){var r=e[i].name;if(_n.test(r))return f(r.replace(_n,""))}}function st(t,e,i){for(var n;t!==e;)n=t.nextSibling,i(t),t=n;i(e)}function ut(t,e,i,n,r){function o(){if(s++,a&&s>=u.length){for(var t=0;t<u.length;t++)n.appendChild(u[t]);r&&r()}}var a=!1,s=0,u=[];st(t,e,function(t){t===e&&(a=!0),u.push(t),O(t,i,o)})}function lt(t){return t&&11===t.nodeType}function ht(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}function ct(t,e){var i=t.tagName.toLowerCase(),n=t.hasAttributes();if(xn.test(i)||bn.test(i)){if(n)return ft(t)}else{if(wt(e,"components",i))return{id:i};var r=n&&ft(t);if(r)return r}}function ft(t){var e=q(t,"is");return null!=e?{id:e}:(e=V(t,"is"),null!=e?{id:e,dynamic:!0}:void 0)}function dt(t,e,i){var n=e.path;i=mt(e,i),t[n]=t._data[n]=pt(e,i)?i:void 0}function pt(t,e){if(!t.options.required&&(null===t.raw||null==e))return!0;var i,n=t.options,r=n.type,o=!0;if(r&&(r===String?(i="string",o=typeof e===i):r===Number?(i="number",o="number"==typeof e):r===Boolean?(i="boolean",o="boolean"==typeof e):r===Function?(i="function",o="function"==typeof e):r===Object?(i="object",o=x(e)):r===Array?(i="array",o=zi(e)):o=e instanceof r),!o)return!1;var a=n.validator;return!a||a(e)}function mt(t,e){var i=t.options.coerce;return i?i(e):e}function vt(t,e){var i,r,a;for(i in e)r=t[i],a=e[i],o(t,i)?_(r)&&_(a)&&vt(r,a):n(t,i,a);return t}function gt(t,e){var i=Object.create(t);return e?y(i,xt(e)):i}function yt(t){if(t.components)for(var e,i=t.components=xt(t.components),n=Object.keys(i),r=0,o=n.length;o>r;r++){var a=n[r];xn.test(a)||bn.test(a)||(e=i[a],x(e)&&(i[a]=gi.extend(e)))}}function _t(t){var e,i,n=t.props;if(zi(n))for(t.props={},e=n.length;e--;)i=n[e],"string"==typeof i?t.props[i]=null:i.name&&(t.props[i.name]=i);else if(x(n)){var r=Object.keys(n);for(e=r.length;e--;)i=n[r[e]],"function"==typeof i&&(n[r[e]]={type:i})}}function xt(t){if(zi(t)){for(var e,i={},n=t.length;n--;){e=t[n];var r="function"==typeof e?e.options&&e.options.name||e.id:e.name||e.id;r&&(i[r]=e)}return i}return t}function bt(t,e,i){function n(n){var r=wn[n]||Mn;a[n]=r(t[n],e[n],i,n)}yt(e),_t(e);var r,a={};if(e.mixins)for(var s=0,u=e.mixins.length;u>s;s++)t=bt(t,e.mixins[s],i);for(r in t)n(r);for(r in e)o(t,r)||n(r);return a}function wt(t,e,i){if("string"==typeof i){var n,r=t[e];return r[i]||r[n=f(i)]||r[n.charAt(0).toUpperCase()+n.slice(1)]}}function Mt(t,e,i){}function St(){this.id=Sn++,this.subs=[]}function Et(t){if(this.value=t,this.dep=new St,b(t,"__ob__",this),zi(t)){var e=Pi?Tt:It;e(t,Tn,In),this.observeArray(t)}else this.walk(t)}function Tt(t,e){t.__proto__=e}function It(t,e,i){for(var n=0,r=i.length;r>n;n++){var o=i[n];b(t,o,e[o])}}function At(t,e){if(t&&"object"==typeof t){var i;return o(t,"__ob__")&&t.__ob__ instanceof Et?i=t.__ob__:(zi(t)||x(t))&&Object.isExtensible(t)&&!t._isVue&&(i=new Et(t)),i&&e&&i.addVm(e),i}}function Dt(t,e,i){var n=new St,r=Object.getOwnPropertyDescriptor(t,e);if(!r||r.configurable!==!1){var o=r&&r.get,a=r&&r.set,s=At(i);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=o?o.call(t):i;if(St.target&&(n.depend(),s&&s.dep.depend(),zi(e)))for(var r,a=0,u=e.length;u>a;a++)r=e[a],r&&r.__ob__&&r.__ob__.dep.depend();return e},set:function(e){var r=o?o.call(t):i;e!==r&&(a?a.call(t,e):i=e,s=At(e),n.notify())}})}}function zt(t){t.prototype._init=function(t){t=t||{},this.$el=null,this.$parent=t.parent,this.$root=this.$parent?this.$parent.$root:this,this.$children=[],this.$refs={},this.$els={},this._watchers=[],this._directives=[],this._uid=Dn++,this._isVue=!0,this._events={},this._eventsCount={},this._isFragment=!1,this._fragment=this._fragmentStart=this._fragmentEnd=null,this._isCompiled=this._isDestroyed=this._isReady=this._isAttached=this._isBeingDestroyed=this._vForRemoving=!1,this._unlinkFn=null,this._context=t._context||this.$parent,this._scope=t._scope,this._frag=t._frag,this._frag&&this._frag.children.push(this),this.$parent&&this.$parent.$children.push(this),t=this.$options=bt(this.constructor.options,t,this),this._updateRef(),this._data={},this._callHook("init"),this._initState(),this._initEvents(),this._callHook("created"),t.el&&this.$mount(t.el)}}function Pt(t){if(void 0===t)return"eof";var e=t.charCodeAt(0);switch(e){case 91:case 93:case 46:case 34:case 39:case 48:return t;case 95:case 36:return"ident";case 32:case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return e>=97&&122>=e||e>=65&&90>=e?"ident":e>=49&&57>=e?"number":"else"}function Ct(t){var e=t.trim();return"0"===t.charAt(0)&&isNaN(t)?!1:a(e)?c(e):"*"+e}function Lt(t){function e(){var e=t[h+1];return c===jn&&"'"===e||c===Un&&'"'===e?(h++,n="\\"+e,d[Pn](),!0):void 0}var i,n,r,o,a,s,u,l=[],h=-1,c=Rn,f=0,d=[];for(d[Cn]=function(){void 0!==r&&(l.push(r),r=void 0)},d[Pn]=function(){void 0===r?r=n:r+=n},d[Ln]=function(){d[Pn](),f++},d[Fn]=function(){if(f>0)f--,c=Nn,d[Pn]();else{if(f=0,r=Ct(r),r===!1)return!1;d[Cn]()}};null!=c;)if(h++,i=t[h],"\\"!==i||!e()){if(o=Pt(i),u=Yn[c],a=u[o]||u["else"]||Vn,a===Vn)return;if(c=a[0],s=d[a[1]],s&&(n=a[2],n=void 0===n?i:n,s()===!1))return;if(c===qn)return l.raw=t,l}}function Ft(t){var e=zn.get(t);return e||(e=Lt(t),e&&zn.put(t,e)),e}function Rt(t,e){return Vt(e).get(t)}function kt(t,e,i){var r=t;if("string"==typeof e&&(e=Lt(e)),!e||!_(t))return!1;for(var o,a,s=0,u=e.length;u>s;s++)o=t,a=e[s],"*"===a.charAt(0)&&(a=Vt(a.slice(1)).get.call(r,r)),u-1>s?(t=t[a],_(t)||(t={},n(o,a,t))):zi(t)?t.$set(a,i):a in t?t[a]=i:n(t,a,i);return!0}function Bt(t,e){var i=rr.length;return rr[i]=e?t.replace(Qn,"\\n"):t,'"'+i+'"'}function Ot(t){var e=t.charAt(0),i=t.slice(1);return Zn.test(i)?t:(i=i.indexOf('"')>-1?i.replace(tr,Nt):i,e+"scope."+i)}function Nt(t,e){return rr[e]}function jt(t){Wn.test(t),rr.length=0;var e=t.replace(Kn,Bt).replace(Jn,"");return e=(" "+e).replace(ir,Ot).replace(tr,Nt),Ut(e)}function Ut(t){try{return new Function("scope","return "+t+";")}catch(e){}}function qt(t){var e=Ft(t);return e?function(t,i){kt(t,e,i)}:void 0}function Vt(t,e){t=t.trim();var i=$n.get(t);if(i)return e&&!i.set&&(i.set=qt(i.exp)),i;var n={exp:t};return n.get=Yt(t)&&t.indexOf("[")<0?Ut("scope."+t):jt(t),e&&(n.set=qt(t)),$n.put(t,n),n}function Yt(t){return er.test(t)&&!nr.test(t)&&"Math."!==t.slice(0,5)}function Gt(){ar=[],sr=[],ur={},lr={},hr=cr=!1}function $t(){Ht(ar),cr=!0,Ht(sr),Li&&Li.emit("flush"),Gt()}function Ht(t){for(var e=0;e<t.length;e++){var i=t[e],n=i.id;ur[n]=null,i.run()}}function Zt(t){var e=t.id;if(null==ur[e]){if(cr&&!t.user)return void t.run();var i=t.user?sr:ar;ur[e]=i.length,i.push(t),hr||(hr=!0,Vi($t))}}function Xt(t,e,i,n){n&&y(this,n);var r="function"==typeof e;if(this.vm=t,t._watchers.push(this),this.expression=r?e.toString():e,this.cb=i,this.id=++fr,this.active=!0,this.dirty=this.lazy,this.deps=Object.create(null),this.newDeps=null,this.prevError=null,r)this.getter=e,this.setter=void 0;else{var o=Vt(e,this.twoWay);this.getter=o.get,this.setter=o.set}this.value=this.lazy?void 0:this.get(),this.queued=this.shallow=!1}function Wt(t){var e,i;if(zi(t))for(e=t.length;e--;)Wt(t[e]);else if(_(t))for(i=Object.keys(t),e=i.length;e--;)Wt(t[i[e]])}function Jt(t){return rt(t)&&lt(t.content)}function Qt(t,e){var i=e?t:t.trim(),n=pr.get(i);if(n)return n;var r=document.createDocumentFragment(),o=t.match(gr),a=yr.test(t);if(o||a){var s=o&&o[1],u=vr[s]||vr.efault,l=u[0],h=u[1],c=u[2],f=document.createElement("div");for(f.innerHTML=h+t+c;l--;)f=f.lastChild;for(var d;d=f.firstChild;)r.appendChild(d)}else r.appendChild(document.createTextNode(t));return e||it(r),pr.put(i,r),r}function Kt(t){if(Jt(t))return it(t.content),t.content;if("SCRIPT"===t.tagName)return Qt(t.textContent);for(var e,i=te(t),n=document.createDocumentFragment();e=i.firstChild;)n.appendChild(e);return it(n),n}function te(t){if(!t.querySelectorAll)return t.cloneNode();var e,i,n,r=t.cloneNode(!0);if(_r){var o=r;if(Jt(t)&&(t=t.content,o=r.content),i=t.querySelectorAll("template"),i.length)for(n=o.querySelectorAll("template"),e=n.length;e--;)n[e].parentNode.replaceChild(te(i[e]),n[e])}if(xr)if("TEXTAREA"===t.tagName)r.value=t.value;else if(i=t.querySelectorAll("textarea"),i.length)for(n=r.querySelectorAll("textarea"),e=n.length;e--;)n[e].value=i[e].value;return r}function ee(t,e,i){var n,r;return lt(t)?(it(t),e?te(t):t):("string"==typeof t?i||"#"!==t.charAt(0)?r=Qt(t,i):(r=mr.get(t),r||(n=document.getElementById(t.slice(1)),n&&(r=Kt(n),mr.put(t,r)))):t.nodeType&&(r=Kt(t)),r&&e?te(r):r)}function ie(t,e,i,n,r,o){this.children=[],this.childFrags=[],this.vm=e,this.scope=r,this.inserted=!1,this.parentFrag=o,o&&o.childFrags.push(this),this.unlink=t(e,i,n,r,this);var a=this.single=1===i.childNodes.length&&!i.childNodes[0].__v_anchor;a?(this.node=i.childNodes[0],this.before=ne,this.remove=re):(this.node=ot("fragment-start"),this.end=ot("fragment-end"),this.frag=i,Z(this.node,i),i.appendChild(this.end),this.before=oe,this.remove=ae),this.node.__v_frag=this}function ne(t,e){this.inserted=!0;var i=e!==!1?B:G;i(this.node,t,this.vm),U(this.node)&&this.callHook(se)}function re(){this.inserted=!1;var t=U(this.node),e=this;this.beforeRemove(),O(this.node,this.vm,function(){t&&e.callHook(ue),e.destroy()})}function oe(t,e){this.inserted=!0;var i=this.vm,n=e!==!1?B:G;st(this.node,this.end,function(e){n(e,t,i)}),U(this.node)&&this.callHook(se)}function ae(){this.inserted=!1;var t=this,e=U(this.node);this.beforeRemove(),ut(this.node,this.end,this.vm,this.frag,function(){e&&t.callHook(ue),t.destroy()})}function se(t){t._isAttached||t._callHook("attached")}function ue(t){t._isAttached&&t._callHook("detached")}function le(t,e){this.vm=t;var i,n="string"==typeof e;n||rt(e)?i=ee(e,!0):(i=document.createDocumentFragment(),i.appendChild(e)),this.template=i;var r,o=t.constructor.cid;if(o>0){var a=o+(n?e:ht(e));r=Mr.get(a),r||(r=Pe(i,t.$options,!0),Mr.put(a,r))}else r=Pe(i,t.$options,!0);this.linker=r}function he(t,e,i){var n=t.node.previousSibling;if(n){for(t=n.__v_frag;!(t&&t.forId===i&&t.inserted||n===e);){if(n=n.previousSibling,!n)return;t=n.__v_frag}return t}}function ce(t){var e=t.node;if(t.end)for(;!e.__vue__&&e!==t.end&&e.nextSibling;)e=e.nextSibling;return e.__vue__}function fe(t){for(var e=-1,i=new Array(Math.floor(t));++e<t;)i[e]=e;return i}function de(t,e,i){for(var n,r,o,a=e?[]:null,s=0,u=t.options.length;u>s;s++)if(n=t.options[s],o=i?n.hasAttribute("selected"):n.selected){if(r=n.hasOwnProperty("_value")?n._value:n.value,!e)return r;a.push(r)}return a}function pe(t,e){for(var i=t.length;i--;)if(E(t[i],e))return i;return-1}function me(t,e){var i=e.map(function(t){var e=t.charCodeAt(0);return e>47&&58>e?parseInt(t,10):1===t.length&&(e=t.toUpperCase().charCodeAt(0),e>64&&91>e)?e:Yr[t]});return i=[].concat.apply([],i),function(e){return i.indexOf(e.keyCode)>-1?t.call(this,e):void 0}}function ve(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function ge(t){return function(e){return e.preventDefault(),t.call(this,e)}}function ye(t){return function(e){return e.target===e.currentTarget?t.call(this,e):void 0}}function _e(t){if(Xr[t])return Xr[t];var e=xe(t);return Xr[t]=Xr[e]=e,e}function xe(t){t=p(t);var e=f(t),i=e.charAt(0).toUpperCase()+e.slice(1);Wr||(Wr=document.createElement("div"));for(var n,r=$r.length;r--;)if(n=Hr[r]+i,n in Wr.style)return $r[r]+t;return e in Wr.style?t:void 0}function be(t){for(var e={},i=t.trim().split(/\s+/),n=i.length;n--;)e[i[n]]=!0;return e}function we(t,e){return zi(t)?t.indexOf(e)>-1:o(t,e)}function Me(t,e,i){function n(){++o>=r?i():t[o].call(e,n)}var r=t.length,o=0;t[0].call(e,n)}function Se(t){po.push(t),mo||(mo=!0,Vi(Ee))}function Ee(){for(var t=document.documentElement.offsetHeight,e=0;e<po.length;e++)po[e]();return po=[],mo=!1,t}function Te(t,e,i,n){this.id=e,this.el=t,this.enterClass=i&&i.enterClass||e+"-enter",this.leaveClass=i&&i.leaveClass||e+"-leave",this.hooks=i,this.vm=n,this.pendingCssEvent=this.pendingCssCb=this.cancel=this.pendingJsCb=this.op=this.cb=null,this.justEntered=!1,this.entered=this.left=!1,this.typeCache={},this.type=i&&i.type;var r=this;["enterNextTick","enterDone","leaveNextTick","leaveDone"].forEach(function(t){r[t]=v(r[t],r)})}function Ie(t){if(/svg$/.test(t.namespaceURI)){var e=t.getBoundingClientRect();return!(e.width||e.height)}return!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}function Ae(t,e){for(var i,n,r,o,s,u,l,h=[],c=Object.keys(e),d=c.length;d--;)if(n=c[d],i=e[n]||So,s=f(n),Eo.test(s)){if(l={name:n,path:s,options:i,mode:Mo.ONE_WAY,raw:null},r=p(n),null===(o=V(t,r))&&(null!==(o=V(t,r+".sync"))?l.mode=Mo.TWO_WAY:null!==(o=V(t,r+".once"))&&(l.mode=Mo.ONE_TIME)),null!==o)l.raw=o,u=D(o),o=u.expression,l.filters=u.filters,a(o)&&!u.filters?l.optimizedLiteral=!0:l.dynamic=!0,l.parentPath=o;else if(null!==(o=q(t,r)))l.raw=o;else;h.push(l)}return De(h)}function De(t){return function(e,i){e._props={};for(var n,r,o,a,s,u=t.length;u--;)if(n=t[u],s=n.raw,r=n.path,o=n.options,e._props[r]=n,null===s)dt(e,n,ze(e,o));else if(n.dynamic)n.mode===Mo.ONE_TIME?(a=(i||e._context||e).$get(n.parentPath),dt(e,n,a)):e._context?e._bindDir({name:"prop",def:fo,prop:n},null,null,i):dt(e,n,e.$get(n.parentPath));else if(n.optimizedLiteral){var f=c(s);a=f===s?h(l(s)):f,dt(e,n,a)}else a=o.type===Boolean&&""===s?!0:s,dt(e,n,a)}}function ze(t,e){if(!o(e,"default"))return e.type===Boolean?!1:void 0;var i=e["default"];return _(i),"function"==typeof i&&e.type!==Function?i.call(t):i}function Pe(t,e,i){var n=i||!e._asComponent?Oe(t,e):null,r=n&&n.terminal||"SCRIPT"===t.tagName||!t.hasChildNodes()?null:Ye(t.childNodes,e);return function(t,e,i,o,a){var s=g(e.childNodes),u=Ce(function(){n&&n(t,e,i,o,a),r&&r(t,s,i,o,a)},t);return Fe(t,u)}}function Ce(t,e){e._directives=[];var i=e._directives.length;t();var n=e._directives.slice(i);n.sort(Le);for(var r=0,o=n.length;o>r;r++)n[r]._bind();return n}function Le(t,e){return t=t.descriptor.def.priority||Co,e=e.descriptor.def.priority||Co,t>e?-1:t===e?0:1}function Fe(t,e,i,n){function r(r){Re(t,e,r),i&&n&&Re(i,n)}return r.dirs=e,r}function Re(t,e,i){for(var n=e.length;n--;)e[n]._teardown()}function ke(t,e,i,n){var r=Ae(e,i),o=Ce(function(){r(t,n)},t);return Fe(t,o)}function Be(t,e,i){var n,r,o=e._containerAttrs,a=e._replacerAttrs;if(11!==t.nodeType)e._asComponent?(o&&i&&(n=Je(o,i)),a&&(r=Je(a,e))):r=Je(t.attributes,e);else;return e._containerAttrs=e._replacerAttrs=null,function(t,e,i){var o,a=t._context;a&&n&&(o=Ce(function(){n(a,e,null,i)},a));var s=Ce(function(){r&&r(t,e)},t);return Fe(t,s,a,o)}}function Oe(t,e){var i=t.nodeType;return 1===i&&"SCRIPT"!==t.tagName?Ne(t,e):3===i&&t.data.trim()?je(t,e):null}function Ne(t,e){if("TEXTAREA"===t.tagName){var i=C(t.value);i&&(t.setAttribute(":value",L(i)),t.value="")}var n,r=t.hasAttributes();return r&&(n=Ze(t,e)),n||(n=$e(t,e)),n||(n=He(t,e)),!n&&r&&(n=Je(t.attributes,e)),n}function je(t,e){if(t._skip)return Ue;var i=C(t.wholeText);if(!i)return null;for(var n=t.nextSibling;n&&3===n.nodeType;)n._skip=!0,n=n.nextSibling;for(var r,o,a=document.createDocumentFragment(),s=0,u=i.length;u>s;s++)o=i[s],r=o.tag?qe(o,e):document.createTextNode(o.value),a.appendChild(r);return Ve(i,a,e)}function Ue(t,e){H(e)}function qe(t,e){function i(e){if(!t.descriptor){var i=D(t.value);t.descriptor={name:e,def:uo[e],expression:i.expression,filters:i.filters}}}var n;return t.oneTime?n=document.createTextNode(t.value):t.html?(n=document.createComment("v-html"),i("html")):(n=document.createTextNode(" "),i("text")),n}function Ve(t,e){return function(i,n,r,o){for(var a,s,u,l=e.cloneNode(!0),h=g(l.childNodes),c=0,f=t.length;f>c;c++)a=t[c],s=a.value,a.tag&&(u=h[c],a.oneTime?(s=(o||i).$eval(s),a.html?X(u,ee(s,!0)):u.data=s):i._bindDir(a.descriptor,u,r,o));X(n,l)}}function Ye(t,e){for(var i,n,r,o=[],a=0,s=t.length;s>a;a++)r=t[a],i=Oe(r,e),n=i&&i.terminal||"SCRIPT"===r.tagName||!r.hasChildNodes()?null:Ye(r.childNodes,e),o.push(i,n);return o.length?Ge(o):null}function Ge(t){return function(e,i,n,r,o){for(var a,s,u,l=0,h=0,c=t.length;c>l;h++){a=i[h],s=t[l++],u=t[l++];var f=g(a.childNodes);s&&s(e,a,n,r,o),u&&u(e,f,n,r,o)}}}function $e(t,e){var i=t.tagName.toLowerCase();if(!xn.test(i)){var n=wt(e,"elementDirectives",i);return n?We(t,i,"",e,n):void 0}}function He(t,e){var i=ct(t,e);if(i){var n=at(t),r={name:"component",ref:n,expression:i.id,def:wo.component,modifiers:{literal:!i.dynamic}},o=function(t,e,i,o,a){n&&Dt((o||t).$refs,n,null),t._bindDir(r,e,i,o,a)};return o.terminal=!0,o}}function Ze(t,e){if(null!==q(t,"v-pre"))return Xe;if(t.hasAttribute("v-else")){var i=t.previousElementSibling;if(i&&i.hasAttribute("v-if"))return Xe}for(var n,r,o=0,a=Po.length;a>o;o++)if(r=Po[o],n=t.getAttribute("v-"+r),null!=n)return We(t,r,n,e)}function Xe(){}function We(t,e,i,n,r){var o=D(i),a={name:e,expression:o.expression,filters:o.filters,raw:i,def:r||wt(n,"directives",e)};"for"!==e&&"router-view"!==e||(a.ref=at(t));var s=function(t,e,i,n,r){a.ref&&Dt((n||t).$refs,a.ref,null),t._bindDir(a,e,i,n,r)};return s.terminal=!0,s}function Je(t,e){function i(t,e,i){var n=i&&ti(i),r=!n&&D(o);m.push({name:t,attr:a,raw:s,def:e,arg:l,modifiers:h,expression:r&&r.expression,filters:r&&r.filters,interp:i,hasOneTime:n})}for(var n,r,o,a,s,u,l,h,c,f,d,p=t.length,m=[];p--;)if(n=t[p],r=a=n.name,o=s=n.value,f=C(o),l=null,h=Qe(r),r=r.replace(Do,""),f)o=L(f),l=r,i("bind",uo.bind,f);else if(zo.test(r))h.literal=!To.test(r),i("transition",wo.transition);else if(Io.test(r))l=r.replace(Io,""),i("on",uo.on);else if(To.test(r))u=r.replace(To,""),"style"===u||"class"===u?i(u,wo[u]):(l=u,i("bind",uo.bind));else if(d=r.match(Ao)){if(u=d[1],l=d[2],"else"===u)continue;c=wt(e,"directives",u),c&&i(u,c)}return m.length?Ke(m):void 0}function Qe(t){var e=Object.create(null),i=t.match(Do);if(i)for(var n=i.length;n--;)e[i[n].slice(1)]=!0;return e}function Ke(t){return function(e,i,n,r,o){for(var a=t.length;a--;)e._bindDir(t[a],i,n,r,o)}}function ti(t){for(var e=t.length;e--;)if(t[e].oneTime)return!0}function ei(t,e){return e&&(e._containerAttrs=ni(t)),rt(t)&&(t=ee(t)),e&&(e._asComponent&&!e.template&&(e.template="<slot></slot>"),e.template&&(e._content=et(t),t=ii(t,e))),lt(t)&&(Z(ot("v-start",!0),t),t.appendChild(ot("v-end",!0))),t}function ii(t,e){var i=e.template,n=ee(i,!0);if(n){var r=n.firstChild,o=r.tagName&&r.tagName.toLowerCase();return e.replace?(t===document.body,n.childNodes.length>1||1!==r.nodeType||"component"===o||wt(e,"components",o)||Y(r,"is")||wt(e,"elementDirectives",o)||r.hasAttribute("v-for")||r.hasAttribute("v-if")?n:(e._replacerAttrs=ni(r),ri(t,r),r)):(t.appendChild(n),t)}}function ni(t){return 1===t.nodeType&&t.hasAttributes()?g(t.attributes):void 0}function ri(t,e){for(var i,n,r=t.attributes,o=r.length;o--;)i=r[o].name,n=r[o].value,e.hasAttribute(i)||Lo.test(i)?"class"!==i||C(n)||n.split(/\s+/).forEach(function(t){K(e,t)}):e.setAttribute(i,n)}function oi(t,e,i){function n(t,i){var n='[slot="'+i+'"]',o=e.querySelectorAll(n);o.length&&(r[i]=ai(o,e))}if(e){var r=i._slotContents={},o=t.querySelectorAll("slot");if(o.length){for(var a,s,u,l=0,h=o.length;h>l;l++)s=o[l],(u=s.getAttribute("name"))?n(s,u):a=!0;a&&(r["default"]=ai(e.childNodes,e))}}}function ai(t,e){var i=document.createDocumentFragment();t=g(t);for(var n=0,r=t.length;r>n;n++){var o=t[n];o.parentNode===e&&(!rt(o)||o.hasAttribute("v-if")||o.hasAttribute("v-for")||(e.removeChild(o),o=ee(o)),i.appendChild(o))}return i}function si(t){function e(){}function i(t,e){var i=new Xt(e,t,null,{lazy:!0});return function(){return i.dirty&&i.evaluate(),St.target&&i.depend(),i.value}}Object.defineProperty(t.prototype,"$data",{get:function(){return this._data},set:function(t){t!==this._data&&this._setData(t)}}),t.prototype._initState=function(){this._initProps(),this._initMeta(),this._initMethods(),this._initData(),this._initComputed()},t.prototype._initProps=function(){var t=this.$options,e=t.el,i=t.props;e=t.el=j(e),this._propsUnlinkFn=e&&1===e.nodeType&&i?ke(this,e,i,this._scope):null},t.prototype._initData=function(){var t=this._data,e=this.$options.data,i=e&&e();if(i){this._data=i;for(var r in t)null===this._props[r].raw&&o(i,r)||n(i,r,t[r])}var a,s,u=this._data,l=Object.keys(u);for(a=l.length;a--;)s=l[a],this._proxy(s);At(u,this)},t.prototype._setData=function(t){t=t||{};var e=this._data;this._data=t;var i,n,r;for(i=Object.keys(e),r=i.length;r--;)n=i[r],n in t||this._unproxy(n);for(i=Object.keys(t),r=i.length;r--;)n=i[r],o(this,n)||this._proxy(n);e.__ob__.removeVm(this),At(t,this),this._digest()},t.prototype._proxy=function(t){if(!s(t)){var e=this;Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return e._data[t]},set:function(i){e._data[t]=i}})}},t.prototype._unproxy=function(t){s(t)||delete this[t]},t.prototype._digest=function(){for(var t=0,e=this._watchers.length;e>t;t++)this._watchers[t].update(!0)},t.prototype._initComputed=function(){var t=this.$options.computed;if(t)for(var n in t){var r=t[n],o={enumerable:!0,configurable:!0};"function"==typeof r?(o.get=i(r,this),o.set=e):(o.get=r.get?r.cache!==!1?i(r.get,this):v(r.get,this):e,o.set=r.set?v(r.set,this):e),Object.defineProperty(this,n,o)}},t.prototype._initMethods=function(){var t=this.$options.methods;if(t)for(var e in t)this[e]=v(t[e],this)},t.prototype._initMeta=function(){var t=this.$options._meta;if(t)for(var e in t)Dt(this,e,t[e])}}function ui(t){function e(t,e){for(var i,n,r=e.attributes,o=0,a=r.length;a>o;o++)i=r[o].name,Ro.test(i)&&(i=i.replace(Ro,""),n=(t._scope||t._context).$eval(r[o].value,!0),"function"==typeof n&&(n._fromParent=!0,t.$on(i.replace(Ro),n)))}function i(t,e,i){if(i){var r,o,a,s;for(o in i)if(r=i[o],zi(r))for(a=0,s=r.length;s>a;a++)n(t,e,o,r[a]);else n(t,e,o,r)}}function n(t,e,i,r,o){var a=typeof r;if("function"===a)t[e](i,r,o);else if("string"===a){var s=t.$options.methods,u=s&&s[r];u&&t[e](i,u,o)}else r&&"object"===a&&n(t,e,i,r.handler,r)}function r(){this._isAttached||(this._isAttached=!0,this.$children.forEach(o))}function o(t){!t._isAttached&&U(t.$el)&&t._callHook("attached")}function a(){this._isAttached&&(this._isAttached=!1,this.$children.forEach(s))}function s(t){t._isAttached&&!U(t.$el)&&t._callHook("detached")}t.prototype._initEvents=function(){var t=this.$options;t._asComponent&&e(this,t.el),i(this,"$on",t.events),i(this,"$watch",t.watch)},t.prototype._initDOMHooks=function(){this.$on("hook:attached",r),this.$on("hook:detached",a)},t.prototype._callHook=function(t){this.$emit("pre-hook:"+t);var e=this.$options[t];if(e)for(var i=0,n=e.length;n>i;i++)e[i].call(this);this.$emit("hook:"+t)}}function li(){}function hi(t,e,i,n,r,o){this.vm=e,this.el=i,this.descriptor=t,this.name=t.name,this.expression=t.expression,this.arg=t.arg,this.modifiers=t.modifiers,this.filters=t.filters,this.literal=this.modifiers&&this.modifiers.literal,this._locked=!1,this._bound=!1,this._listeners=null,this._host=n,this._scope=r,this._frag=o}function ci(t){t.prototype._updateRef=function(t){var e=this.$options._ref;if(e){var i=(this._scope||this._context).$refs;t?i[e]===this&&(i[e]=null):i[e]=this}},t.prototype._compile=function(t){var e=this.$options,i=t;if(t=ei(t,e),this._initElement(t),1!==t.nodeType||null===q(t,"v-pre")){var n=this._context&&this._context.$options,r=Be(t,e,n);oi(t,e._content,this);var o,a=this.constructor;e._linkerCachable&&(o=a.linker,o||(o=a.linker=Pe(t,e)));var s=r(this,t,this._scope),u=o?o(this,t):Pe(t,e)(this,t);this._unlinkFn=function(){s(),u(!0)},e.replace&&X(i,t),this._isCompiled=!0,this._callHook("compiled")}},t.prototype._initElement=function(t){lt(t)?(this._isFragment=!0,this.$el=this._fragmentStart=t.firstChild,this._fragmentEnd=t.lastChild,3===this._fragmentStart.nodeType&&(this._fragmentStart.data=this._fragmentEnd.data=""),this._fragment=t):this.$el=t,this.$el.__vue__=this,this._callHook("beforeCompile")},t.prototype._bindDir=function(t,e,i,n,r){this._directives.push(new hi(t,this,e,i,n,r))},t.prototype._destroy=function(t,e){if(this._isBeingDestroyed)return void(e||this._cleanup());var i,n,r=this,o=function(){!i||n||e||r._cleanup()};t&&this.$el&&(n=!0,this.$remove(function(){n=!1,o()})),this._callHook("beforeDestroy"),this._isBeingDestroyed=!0;var a,s=this.$parent;for(s&&!s._isBeingDestroyed&&(s.$children.$remove(this),this._updateRef(!0)),a=this.$children.length;a--;)this.$children[a].$destroy();for(this._propsUnlinkFn&&this._propsUnlinkFn(),this._unlinkFn&&this._unlinkFn(),a=this._watchers.length;a--;)this._watchers[a].teardown();this.$el&&(this.$el.__vue__=null),i=!0,o()},t.prototype._cleanup=function(){this._isDestroyed||(this._frag&&this._frag.children.$remove(this),this._data.__ob__&&this._data.__ob__.removeVm(this),this.$el=this.$parent=this.$root=this.$children=this._watchers=this._context=this._scope=this._directives=null,this._isDestroyed=!0,this._callHook("destroyed"),this.$off())}}function fi(t){t.prototype._applyFilters=function(t,e,i,n){var r,o,a,s,u,l,h,c,f;for(l=0,h=i.length;h>l;l++)if(r=i[l],o=wt(this.$options,"filters",r.name),o&&(o=n?o.write:o.read||o,"function"==typeof o)){if(a=n?[t,e]:[t],u=n?2:1,r.args)for(c=0,f=r.args.length;f>c;c++)s=r.args[c],a[c+u]=s.dynamic?this.$get(s.value):s.value;t=o.apply(this,a)}return t},t.prototype._resolveComponent=function(e,i){var n=wt(this.$options,"components",e);if(n)if(n.options)i(n);else if(n.resolved)i(n.resolved);else if(n.requested)n.pendingCallbacks.push(i);else{n.requested=!0;var r=n.pendingCallbacks=[i];n.call(this,function(e){x(e)&&(e=t.extend(e)),n.resolved=e;for(var i=0,o=r.length;o>i;i++)r[i](e)},function(t){})}}}function di(t){function e(t){return JSON.parse(JSON.stringify(t))}t.prototype.$get=function(t,e){var i=Vt(t);if(i){if(e&&!Yt(t)){var n=this;return function(){n.$arguments=g(arguments);var t=i.get.call(n,n);return n.$arguments=null,t}}try{return i.get.call(this,this)}catch(r){}}},t.prototype.$set=function(t,e){var i=Vt(t,!0);i&&i.set&&i.set.call(this,this,e);
},t.prototype.$delete=function(t){r(this._data,t)},t.prototype.$watch=function(t,e,i){var n,r=this;"string"==typeof t&&(n=D(t),t=n.expression);var o=new Xt(r,t,e,{deep:i&&i.deep,sync:i&&i.sync,filters:n&&n.filters,user:!i||i.user!==!1});return i&&i.immediate&&e.call(r,o.value),function(){o.teardown()}},t.prototype.$eval=function(t,e){if(ko.test(t)){var i=D(t),n=this.$get(i.expression,e);return i.filters?this._applyFilters(n,null,i.filters):n}return this.$get(t,e)},t.prototype.$interpolate=function(t){var e=C(t),i=this;return e?1===e.length?i.$eval(e[0].value)+"":e.map(function(t){return t.tag?i.$eval(t.value):t.value}).join(""):t},t.prototype.$log=function(t){var n=t?Rt(this._data,t):this._data;if(n&&(n=e(n)),!t)for(var r in this.$options.computed)n[r]=e(this[r]);i.log(n)}}function pi(t){function e(t,e,n,r,o,a){e=i(e);var s=!U(e),u=r===!1||s?o:a,l=!s&&!t._isAttached&&!U(t.$el);return t._isFragment?(st(t._fragmentStart,t._fragmentEnd,function(i){u(i,e,t)}),n&&n()):u(t.$el,e,t,n),l&&t._callHook("attached"),t}function i(t){return"string"==typeof t?document.querySelector(t):t}function n(t,e,i,n){e.appendChild(t),n&&n()}function r(t,e,i,n){G(t,e),n&&n()}function o(t,e,i){H(t),i&&i()}t.prototype.$nextTick=function(t){Vi(t,this)},t.prototype.$appendTo=function(t,i,r){return e(this,t,i,r,n,k)},t.prototype.$prependTo=function(t,e,n){return t=i(t),t.hasChildNodes()?this.$before(t.firstChild,e,n):this.$appendTo(t,e,n),this},t.prototype.$before=function(t,i,n){return e(this,t,i,n,r,B)},t.prototype.$after=function(t,e,n){return t=i(t),t.nextSibling?this.$before(t.nextSibling,e,n):this.$appendTo(t.parentNode,e,n),this},t.prototype.$remove=function(t,e){if(!this.$el.parentNode)return t&&t();var i=this._isAttached&&U(this.$el);i||(e=!1);var n=this,r=function(){i&&n._callHook("detached"),t&&t()};if(this._isFragment)ut(this._fragmentStart,this._fragmentEnd,this,this._fragment,r);else{var a=e===!1?o:O;a(this.$el,this,r)}return this}}function mi(t){function e(t,e,n){var r=t.$parent;if(r&&n&&!i.test(e))for(;r;)r._eventsCount[e]=(r._eventsCount[e]||0)+n,r=r.$parent}t.prototype.$on=function(t,i){return(this._events[t]||(this._events[t]=[])).push(i),e(this,t,1),this},t.prototype.$once=function(t,e){function i(){n.$off(t,i),e.apply(this,arguments)}var n=this;return i.fn=e,this.$on(t,i),this},t.prototype.$off=function(t,i){var n;if(!arguments.length){if(this.$parent)for(t in this._events)n=this._events[t],n&&e(this,t,-n.length);return this._events={},this}if(n=this._events[t],!n)return this;if(1===arguments.length)return e(this,t,-n.length),this._events[t]=null,this;for(var r,o=n.length;o--;)if(r=n[o],r===i||r.fn===i){e(this,t,-1),n.splice(o,1);break}return this},t.prototype.$emit=function(t){var e="string"==typeof t;t=e?t:t.name;var i=this._events[t],n=e||!i;if(i){i=i.length>1?g(i):i;var r=e&&i.some(function(t){return t._fromParent});r&&(n=!1);for(var o=g(arguments,1),a=0,s=i.length;s>a;a++){var u=i[a],l=u.apply(this,o);l!==!0||r&&!u._fromParent||(n=!0)}}return n},t.prototype.$broadcast=function(t){var e="string"==typeof t;if(t=e?t:t.name,this._eventsCount[t]){var i=this.$children,n=g(arguments);e&&(n[0]={name:t,source:this});for(var r=0,o=i.length;o>r;r++){var a=i[r],s=a.$emit.apply(a,n);s&&a.$broadcast.apply(a,n)}return this}},t.prototype.$dispatch=function(t){var e=this.$emit.apply(this,arguments);if(e){var i=this.$parent,n=g(arguments);for(n[0]={name:t,source:this};i;)e=i.$emit.apply(i,n),i=e?i.$parent:null;return this}};var i=/^hook:/}function vi(t){function e(){this._isAttached=!0,this._isReady=!0,this._callHook("ready")}t.prototype.$mount=function(t){return this._isCompiled?void 0:(t=j(t),t||(t=document.createElement("div")),this._compile(t),this._initDOMHooks(),U(this.$el)?(this._callHook("attached"),e.call(this)):this.$once("hook:attached",e),this)},t.prototype.$destroy=function(t,e){this._destroy(t,e)},t.prototype.$compile=function(t,e,i,n){return Pe(t,this.$options,!0)(this,t,e,i,n)}}function gi(t){this._init(t)}function yi(t,e,i){return i=i?parseInt(i,10):0,e=l(e),"number"==typeof e?t.slice(i,i+e):t}function _i(t,e,i){if(t=jo(t),null==e)return t;if("function"==typeof e)return t.filter(e);e=(""+e).toLowerCase();for(var n,r,o,a,s="in"===i?3:2,u=g(arguments,s).reduce(function(t,e){return t.concat(e)},[]),l=[],h=0,c=t.length;c>h;h++)if(n=t[h],o=n&&n.$value||n,a=u.length){for(;a--;)if(r=u[a],"$key"===r&&bi(n.$key,e)||bi(Rt(o,r),e)){l.push(n);break}}else bi(n,e)&&l.push(n);return l}function xi(t,e,i){if(t=jo(t),!e)return t;var n=i&&0>i?-1:1;return t.slice().sort(function(t,i){return"$key"!==e&&(_(t)&&"$value"in t&&(t=t.$value),_(i)&&"$value"in i&&(i=i.$value)),t=_(t)?Rt(t,e):t,i=_(i)?Rt(i,e):i,t===i?0:t>i?n:-n})}function bi(t,e){var i;if(x(t)){var n=Object.keys(t);for(i=n.length;i--;)if(bi(t[n[i]],e))return!0}else if(zi(t)){for(i=t.length;i--;)if(bi(t[i],e))return!0}else if(null!=t)return t.toString().toLowerCase().indexOf(e)>-1}function wi(t){function e(t){return new Function("return function "+m(t)+" (options) { this._init(options) }")()}t.options={directives:uo,elementDirectives:No,filters:qo,transitions:{},components:{},partials:{},replace:!0},t.util=An,t.config=vn,t.set=n,t["delete"]=r,t.nextTick=Vi,t.compiler=Fo,t.FragmentFactory=le,t.internalDirectives=wo,t.parsers={path:Gn,text:dn,template:br,directive:sn,expression:or},t.cid=0;var i=1;t.extend=function(t){t=t||{};var n=this,r=0===n.cid;if(r&&t._Ctor)return t._Ctor;var o=t.name||n.options.name,a=e(o||"VueComponent");return a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.cid=i++,a.options=bt(n.options,t),a["super"]=n,a.extend=n.extend,vn._assetTypes.forEach(function(t){a[t]=n[t]}),o&&(a.options.components[o]=a),r&&(t._Ctor=a),a},t.use=function(t){if(!t.installed){var e=g(arguments,1);return e.unshift(this),"function"==typeof t.install?t.install.apply(t,e):t.apply(null,e),t.installed=!0,this}},t.mixin=function(e){t.options=bt(t.options,e)},vn._assetTypes.forEach(function(e){t[e]=function(i,n){return n?("component"===e&&x(n)&&(n.name=i,n=t.extend(n)),this.options[e+"s"][i]=n,n):this.options[e+"s"][i]}}),y(t.transition,yn)}var Mi=Object.prototype.hasOwnProperty,Si=/^\s?(true|false|-?[\d\.]+|'[^']*'|"[^"]*")\s?$/,Ei=/-(\w)/g,Ti=/([a-z\d])([A-Z])/g,Ii=/(?:^|[-_\/])(\w)/g,Ai=Object.prototype.toString,Di="[object Object]",zi=Array.isArray,Pi="__proto__"in{},Ci="undefined"!=typeof window&&"[object Object]"!==Object.prototype.toString.call(window),Li=Ci&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,Fi=Ci&&window.navigator.userAgent.toLowerCase(),Ri=Fi&&Fi.indexOf("msie 9.0")>0,ki=Fi&&Fi.indexOf("android")>0,Bi=void 0,Oi=void 0,Ni=void 0,ji=void 0;if(Ci&&!Ri){var Ui=void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend,qi=void 0===window.onanimationend&&void 0!==window.onwebkitanimationend;Bi=Ui?"WebkitTransition":"transition",Oi=Ui?"webkitTransitionEnd":"transitionend",Ni=qi?"WebkitAnimation":"animation",ji=qi?"webkitAnimationEnd":"animationend"}var Vi=function(){function t(){r=!1;var t=n.slice(0);n=[];for(var e=0;e<t.length;e++)t[e]()}var i,n=[],r=!1;if("undefined"!=typeof MutationObserver){var o=1,a=new MutationObserver(t),s=document.createTextNode(o);a.observe(s,{characterData:!0}),i=function(){o=(o+1)%2,s.data=o}}else{var u=Ci?window:"undefined"!=typeof e?e:{};i=u.setImmediate||setTimeout}return function(e,o){var a=o?function(){e.call(o)}:e;n.push(a),r||(r=!0,i(t,0))}}(),Yi=T.prototype;Yi.put=function(t,e){var i;this.size===this.limit&&(i=this.shift());var n=this.get(t,!0);return n||(n={key:t},this._keymap[t]=n,this.tail?(this.tail.newer=n,n.older=this.tail):this.head=n,this.tail=n,this.size++),n.value=e,i},Yi.shift=function(){var t=this.head;return t&&(this.head=this.head.newer,this.head.older=void 0,t.newer=t.older=void 0,this._keymap[t.key]=void 0,this.size--),t},Yi.get=function(t,e){var i=this._keymap[t];if(void 0!==i)return i===this.tail?e?i:i.value:(i.newer&&(i===this.head&&(this.head=i.newer),i.newer.older=i.older),i.older&&(i.older.newer=i.newer),i.newer=void 0,i.older=this.tail,this.tail&&(this.tail.newer=i),this.tail=i,e?i:i.value)};var Gi,$i,Hi,Zi,Xi,Wi,Ji,Qi,Ki,tn,en,nn,rn=new T(1e3),on=/[^\s'"]+|'[^']*'|"[^"]*"/g,an=/^in$|^-?\d+/,sn=Object.freeze({parseDirective:D}),un=/[-.*+?^${}()|[\]\/\\]/g,ln=void 0,hn=void 0,cn=void 0,fn=/[^|]\|[^|]/,dn=Object.freeze({compileRegex:P,parseText:C,tokensToExp:L}),pn=["{{","}}"],mn=["{{{","}}}"],vn=Object.defineProperties({debug:!1,silent:!1,async:!0,warnExpressionErrors:!0,_delimitersChanged:!0,_assetTypes:["component","directive","elementDirective","filter","transition","partial"],_propBindingModes:{ONE_WAY:0,TWO_WAY:1,ONE_TIME:2},_maxUpdateCount:100},{delimiters:{get:function(){return pn},set:function(t){pn=t,P()},configurable:!0,enumerable:!0},unsafeDelimiters:{get:function(){return mn},set:function(t){mn=t,P()},configurable:!0,enumerable:!0}}),gn=void 0,yn=Object.freeze({appendWithTransition:k,beforeWithTransition:B,removeWithTransition:O,applyTransition:N}),_n=/^v-ref:/,xn=/^(div|p|span|img|a|b|i|br|ul|ol|li|h1|h2|h3|h4|h5|h6|code|pre|table|th|td|tr|form|label|input|select|option|nav|article|section|header|footer)$/,bn=/^(slot|partial|component)$/,wn=vn.optionMergeStrategies=Object.create(null);wn.data=function(t,e,i){return i?t||e?function(){var n="function"==typeof e?e.call(i):e,r="function"==typeof t?t.call(i):void 0;return n?vt(n,r):r}:void 0:e?"function"!=typeof e?t:t?function(){return vt(e.call(this),t.call(this))}:e:t},wn.el=function(t,e,i){if(i||!e||"function"==typeof e){var n=e||t;return i&&"function"==typeof n?n.call(i):n}},wn.init=wn.created=wn.ready=wn.attached=wn.detached=wn.beforeCompile=wn.compiled=wn.beforeDestroy=wn.destroyed=wn.activate=function(t,e){return e?t?t.concat(e):zi(e)?e:[e]:t},wn.paramAttributes=function(){},vn._assetTypes.forEach(function(t){wn[t+"s"]=gt}),wn.watch=wn.events=function(t,e){if(!e)return t;if(!t)return e;var i={};y(i,t);for(var n in e){var r=i[n],o=e[n];r&&!zi(r)&&(r=[r]),i[n]=r?r.concat(o):[o]}return i},wn.props=wn.methods=wn.computed=function(t,e){if(!e)return t;if(!t)return e;var i=Object.create(null);return y(i,t),y(i,e),i};var Mn=function(t,e){return void 0===e?t:e},Sn=0;St.target=null,St.prototype.addSub=function(t){this.subs.push(t)},St.prototype.removeSub=function(t){this.subs.$remove(t)},St.prototype.depend=function(){St.target.addDep(this)},St.prototype.notify=function(){for(var t=g(this.subs),e=0,i=t.length;i>e;e++)t[e].update()};var En=Array.prototype,Tn=Object.create(En);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=En[t];b(Tn,t,function(){for(var i=arguments.length,n=new Array(i);i--;)n[i]=arguments[i];var r,o=e.apply(this,n),a=this.__ob__;switch(t){case"push":r=n;break;case"unshift":r=n;break;case"splice":r=n.slice(2)}return r&&a.observeArray(r),a.dep.notify(),o})}),b(En,"$set",function(t,e){return t>=this.length&&(this.length=Number(t)+1),this.splice(t,1,e)[0]}),b(En,"$remove",function(t){if(this.length){var e=M(this,t);return e>-1?this.splice(e,1):void 0}});var In=Object.getOwnPropertyNames(Tn);Et.prototype.walk=function(t){for(var e=Object.keys(t),i=0,n=e.length;n>i;i++)this.convert(e[i],t[e[i]])},Et.prototype.observeArray=function(t){for(var e=0,i=t.length;i>e;e++)At(t[e])},Et.prototype.convert=function(t,e){Dt(this.value,t,e)},Et.prototype.addVm=function(t){(this.vms||(this.vms=[])).push(t)},Et.prototype.removeVm=function(t){this.vms.$remove(t)};var An=Object.freeze({defineReactive:Dt,set:n,del:r,hasOwn:o,isLiteral:a,isReserved:s,_toString:u,toNumber:l,toBoolean:h,stripQuotes:c,camelize:f,hyphenate:p,classify:m,bind:v,toArray:g,extend:y,isObject:_,isPlainObject:x,def:b,debounce:w,indexOf:M,cancellable:S,looseEqual:E,isArray:zi,hasProto:Pi,inBrowser:Ci,devtools:Li,isIE9:Ri,isAndroid:ki,get transitionProp(){return Bi},get transitionEndEvent(){return Oi},get animationProp(){return Ni},get animationEndEvent(){return ji},nextTick:Vi,query:j,inDoc:U,getAttr:q,getBindAttr:V,hasBindAttr:Y,before:G,after:$,remove:H,prepend:Z,replace:X,on:W,off:J,setClass:Q,addClass:K,removeClass:tt,extractContent:et,trimNode:it,isTemplate:rt,createAnchor:ot,findRef:at,mapNodeRange:st,removeNodeRange:ut,isFragment:lt,getOuterHTML:ht,mergeOptions:bt,resolveAsset:wt,assertAsset:Mt,checkComponentAttr:ct,initProp:dt,assertProp:pt,coerceProp:mt,commonTagRE:xn,reservedTagRE:bn,get warn(){return gn}}),Dn=0,zn=new T(1e3),Pn=0,Cn=1,Ln=2,Fn=3,Rn=0,kn=1,Bn=2,On=3,Nn=4,jn=5,Un=6,qn=7,Vn=8,Yn=[];Yn[Rn]={ws:[Rn],ident:[On,Pn],"[":[Nn],eof:[qn]},Yn[kn]={ws:[kn],".":[Bn],"[":[Nn],eof:[qn]},Yn[Bn]={ws:[Bn],ident:[On,Pn]},Yn[On]={ident:[On,Pn],0:[On,Pn],number:[On,Pn],ws:[kn,Cn],".":[Bn,Cn],"[":[Nn,Cn],eof:[qn,Cn]},Yn[Nn]={"'":[jn,Pn],'"':[Un,Pn],"[":[Nn,Ln],"]":[kn,Fn],eof:Vn,"else":[Nn,Pn]},Yn[jn]={"'":[Nn,Pn],eof:Vn,"else":[jn,Pn]},Yn[Un]={'"':[Nn,Pn],eof:Vn,"else":[Un,Pn]};var Gn=Object.freeze({parsePath:Ft,getPath:Rt,setPath:kt}),$n=new T(1e3),Hn="Math,Date,this,true,false,null,undefined,Infinity,NaN,isNaN,isFinite,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,parseInt,parseFloat",Zn=new RegExp("^("+Hn.replace(/,/g,"\\b|")+"\\b)"),Xn="break,case,class,catch,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,let,return,super,switch,throw,try,var,while,with,yield,enum,await,implements,package,proctected,static,interface,private,public",Wn=new RegExp("^("+Xn.replace(/,/g,"\\b|")+"\\b)"),Jn=/\s/g,Qn=/\n/g,Kn=/[\{,]\s*[\w\$_]+\s*:|('(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"|`(?:[^`\\]|\\.)*\$\{|\}(?:[^`\\]|\\.)*`|`(?:[^`\\]|\\.)*`)|new |typeof |void /g,tr=/"(\d+)"/g,er=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\]|\[\d+\]|\[[A-Za-z_$][\w$]*\])*$/,ir=/[^\w$\.](?:[A-Za-z_$][\w$]*)/g,nr=/^(?:true|false)$/,rr=[],or=Object.freeze({parseExpression:Vt,isSimplePath:Yt}),ar=[],sr=[],ur={},lr={},hr=!1,cr=!1,fr=0;Xt.prototype.addDep=function(t){var e=t.id;this.newDeps[e]||(this.newDeps[e]=t,this.deps[e]||(this.deps[e]=t,t.addSub(this)))},Xt.prototype.get=function(){this.beforeGet();var t,e=this.scope||this.vm;try{t=this.getter.call(e,e)}catch(i){}return this.deep&&Wt(t),this.preProcess&&(t=this.preProcess(t)),this.filters&&(t=e._applyFilters(t,null,this.filters,!1)),this.postProcess&&(t=this.postProcess(t)),this.afterGet(),t},Xt.prototype.set=function(t){var e=this.scope||this.vm;this.filters&&(t=e._applyFilters(t,this.value,this.filters,!0));try{this.setter.call(e,e,t)}catch(i){}var n=e.$forContext;if(n&&n.alias===this.expression){if(n.filters)return;n._withLock(function(){e.$key?n.rawValue[e.$key]=t:n.rawValue.$set(e.$index,t)})}},Xt.prototype.beforeGet=function(){St.target=this,this.newDeps=Object.create(null)},Xt.prototype.afterGet=function(){St.target=null;for(var t=Object.keys(this.deps),e=t.length;e--;){var i=t[e];this.newDeps[i]||this.deps[i].removeSub(this)}this.deps=this.newDeps},Xt.prototype.update=function(t){this.lazy?this.dirty=!0:this.sync||!vn.async?this.run():(this.shallow=this.queued?t?this.shallow:!1:!!t,this.queued=!0,Zt(this))},Xt.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||(_(t)||this.deep)&&!this.shallow){var e=this.value;this.value=t;this.prevError;this.cb.call(this.vm,t,e)}this.queued=this.shallow=!1}},Xt.prototype.evaluate=function(){var t=St.target;this.value=this.get(),this.dirty=!1,St.target=t},Xt.prototype.depend=function(){for(var t=Object.keys(this.deps),e=t.length;e--;)this.deps[t[e]].depend()},Xt.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||this.vm._vForRemoving||this.vm._watchers.$remove(this);for(var t=Object.keys(this.deps),e=t.length;e--;)this.deps[t[e]].removeSub(this);this.active=!1,this.vm=this.cb=this.value=null}};var dr={bind:function(){this.attr=3===this.el.nodeType?"data":"textContent"},update:function(t){this.el[this.attr]=u(t)}},pr=new T(1e3),mr=new T(1e3),vr={efault:[0,"",""],legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"]};vr.td=vr.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],vr.option=vr.optgroup=[1,'<select multiple="multiple">',"</select>"],vr.thead=vr.tbody=vr.colgroup=vr.caption=vr.tfoot=[1,"<table>","</table>"],vr.g=vr.defs=vr.symbol=vr.use=vr.image=vr.text=vr.circle=vr.ellipse=vr.line=vr.path=vr.polygon=vr.polyline=vr.rect=[1,'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events"version="1.1">',"</svg>"];var gr=/<([\w:]+)/,yr=/&#?\w+?;/,_r=function(){if(Ci){var t=document.createElement("div");return t.innerHTML="<template>1</template>",!t.cloneNode(!0).firstChild.innerHTML}return!1}(),xr=function(){if(Ci){var t=document.createElement("textarea");return t.placeholder="t","t"===t.cloneNode(!0).value}return!1}(),br=Object.freeze({cloneNode:te,parseTemplate:ee}),wr={bind:function(){8===this.el.nodeType&&(this.nodes=[],this.anchor=ot("v-html"),X(this.el,this.anchor))},update:function(t){t=u(t),this.nodes?this.swap(t):this.el.innerHTML=t},swap:function(t){for(var e=this.nodes.length;e--;)H(this.nodes[e]);var i=ee(t,!0,!0);this.nodes=g(i.childNodes),G(i,this.anchor)}};ie.prototype.callHook=function(t){var e,i;for(e=0,i=this.childFrags.length;i>e;e++)this.childFrags[e].callHook(t);for(e=0,i=this.children.length;i>e;e++)t(this.children[e])},ie.prototype.beforeRemove=function(){var t,e;for(t=0,e=this.childFrags.length;e>t;t++)this.childFrags[t].beforeRemove(!1);for(t=0,e=this.children.length;e>t;t++)this.children[t].$destroy(!1,!0);var i=this.unlink.dirs;for(t=0,e=i.length;e>t;t++)i[t]._watcher&&i[t]._watcher.teardown()},ie.prototype.destroy=function(){this.parentFrag&&this.parentFrag.childFrags.$remove(this),this.node.__v_frag=null,this.unlink()};var Mr=new T(5e3);le.prototype.create=function(t,e,i){var n=te(this.template);return new ie(this.linker,this.vm,n,t,e,i)};var Sr=700,Er=800,Tr=850,Ir=1100,Ar=1500,Dr=1500,zr=1750,Pr=2e3,Cr=2e3,Lr=2100,Fr=0,Rr={priority:Pr,params:["track-by","stagger","enter-stagger","leave-stagger"],bind:function(){var t=this.expression.match(/(.*) (?:in|of) (.*)/);if(t){var e=t[1].match(/\((.*),(.*)\)/);e?(this.iterator=e[1].trim(),this.alias=e[2].trim()):this.alias=t[1].trim(),this.expression=t[2]}if(this.alias){this.id="__v-for__"+ ++Fr;var i=this.el.tagName;this.isOption=("OPTION"===i||"OPTGROUP"===i)&&"SELECT"===this.el.parentNode.tagName,this.start=ot("v-for-start"),this.end=ot("v-for-end"),X(this.el,this.end),G(this.start,this.end),this.cache=Object.create(null),this.factory=new le(this.vm,this.el)}},update:function(t){this.diff(t),this.updateRef(),this.updateModel()},diff:function(t){var e,i,n,r,a,s,u=t[0],l=this.fromObject=_(u)&&o(u,"$key")&&o(u,"$value"),h=this.params.trackBy,c=this.frags,f=this.frags=new Array(t.length),d=this.alias,p=this.iterator,m=this.start,v=this.end,g=U(m),y=!c;for(e=0,i=t.length;i>e;e++)u=t[e],r=l?u.$key:null,a=l?u.$value:u,s=!_(a),n=!y&&this.getCachedFrag(a,e,r),n?(n.reused=!0,n.scope.$index=e,r&&(n.scope.$key=r),p&&(n.scope[p]=null!==r?r:e),(h||l||s)&&(n.scope[d]=a)):(n=this.create(a,d,e,r),n.fresh=!y),f[e]=n,y&&n.before(v);if(!y){var x=0,b=c.length-f.length;for(this.vm._vForRemoving=!0,e=0,i=c.length;i>e;e++)n=c[e],n.reused||(this.deleteCachedFrag(n),this.remove(n,x++,b,g));this.vm._vForRemoving=!1,x&&(this.vm._watchers=this.vm._watchers.filter(function(t){return t.active}));var w,M,S,E=0;for(e=0,i=f.length;i>e;e++)n=f[e],w=f[e-1],M=w?w.staggerCb?w.staggerAnchor:w.end||w.node:m,n.reused&&!n.staggerCb?(S=he(n,m,this.id),S===w||S&&he(S,m,this.id)===w||this.move(n,M)):this.insert(n,E++,M,g),n.reused=n.fresh=!1}},create:function(t,e,i,n){var r=this._host,o=this._scope||this.vm,a=Object.create(o);a.$refs=Object.create(o.$refs),a.$els=Object.create(o.$els),a.$parent=o,a.$forContext=this,Dt(a,e,t),Dt(a,"$index",i),n?Dt(a,"$key",n):a.$key&&b(a,"$key",null),this.iterator&&Dt(a,this.iterator,null!==n?n:i);var s=this.factory.create(r,a,this._frag);return s.forId=this.id,this.cacheFrag(t,s,i,n),s},updateRef:function(){var t=this.descriptor.ref;if(t){var e,i=(this._scope||this.vm).$refs;this.fromObject?(e={},this.frags.forEach(function(t){e[t.scope.$key]=ce(t)})):e=this.frags.map(ce),i[t]=e}},updateModel:function(){if(this.isOption){var t=this.start.parentNode,e=t&&t.__v_model;e&&e.forceUpdate()}},insert:function(t,e,i,n){t.staggerCb&&(t.staggerCb.cancel(),t.staggerCb=null);var r=this.getStagger(t,e,null,"enter");if(n&&r){var o=t.staggerAnchor;o||(o=t.staggerAnchor=ot("stagger-anchor"),o.__v_frag=t),$(o,i);var a=t.staggerCb=S(function(){t.staggerCb=null,t.before(o),H(o)});setTimeout(a,r)}else t.before(i.nextSibling)},remove:function(t,e,i,n){if(t.staggerCb)return t.staggerCb.cancel(),void(t.staggerCb=null);var r=this.getStagger(t,e,i,"leave");if(n&&r){var o=t.staggerCb=S(function(){t.staggerCb=null,t.remove()});setTimeout(o,r)}else t.remove()},move:function(t,e){e.nextSibling||this.end.parentNode.appendChild(this.end),t.before(e.nextSibling,!1)},cacheFrag:function(t,e,i,n){var r,a=this.params.trackBy,s=this.cache,u=!_(t);n||a||u?(r=a?"$index"===a?i:t[a]:n||t,s[r]||(s[r]=e)):(r=this.id,o(t,r)?null===t[r]&&(t[r]=e):b(t,r,e)),e.raw=t},getCachedFrag:function(t,e,i){var n,r=this.params.trackBy,o=!_(t);if(i||r||o){var a=r?"$index"===r?e:t[r]:i||t;n=this.cache[a]}else n=t[this.id];return n&&(n.reused||n.fresh),n},deleteCachedFrag:function(t){var e=t.raw,i=this.params.trackBy,n=t.scope,r=n.$index,a=o(n,"$key")&&n.$key,s=!_(e);if(i||a||s){var u=i?"$index"===i?r:e[i]:a||e;this.cache[u]=null}else e[this.id]=null,t.raw=null},getStagger:function(t,e,i,n){n+="Stagger";var r=t.node.__v_trans,o=r&&r.hooks,a=o&&(o[n]||o.stagger);return a?a.call(t,e,i):e*parseInt(this.params[n]||this.params.stagger,10)},_preProcess:function(t){return this.rawValue=t,t},_postProcess:function(t){if(zi(t))return t;if(x(t)){for(var e,i=Object.keys(t),n=i.length,r=new Array(n);n--;)e=i[n],r[n]={$key:e,$value:t[e]};return r}return"number"!=typeof t||isNaN(t)||(t=fe(t)),t||[]},unbind:function(){if(this.descriptor.ref&&((this._scope||this.vm).$refs[this.descriptor.ref]=null),this.frags)for(var t,e=this.frags.length;e--;)t=this.frags[e],this.deleteCachedFrag(t),t.destroy()}},kr={priority:Cr,bind:function(){var t=this.el;if(t.__vue__)this.invalid=!0;else{var e=t.nextElementSibling;e&&null!==q(e,"v-else")&&(H(e),this.elseFactory=new le(e._context||this.vm,e)),this.anchor=ot("v-if"),X(t,this.anchor),this.factory=new le(this.vm,t)}},update:function(t){this.invalid||(t?this.frag||this.insert():this.remove())},insert:function(){this.elseFrag&&(this.elseFrag.remove(),this.elseFrag=null),this.frag=this.factory.create(this._host,this._scope,this._frag),this.frag.before(this.anchor)},remove:function(){this.frag&&(this.frag.remove(),this.frag=null),this.elseFactory&&!this.elseFrag&&(this.elseFrag=this.elseFactory.create(this._host,this._scope,this._frag),this.elseFrag.before(this.anchor))},unbind:function(){this.frag&&this.frag.destroy(),this.elseFrag&&this.elseFrag.destroy()}},Br={bind:function(){var t=this.el.nextElementSibling;t&&null!==q(t,"v-else")&&(this.elseEl=t)},update:function(t){this.apply(this.el,t),this.elseEl&&this.apply(this.elseEl,!t)},apply:function(t,e){function i(){t.style.display=e?"":"none"}U(t)?N(t,e?1:-1,i,this.vm):i()}},Or={bind:function(){var t=this,e=this.el,i="range"===e.type,n=this.params.lazy,r=this.params.number,o=this.params.debounce,a=!1;if(ki||i||(this.on("compositionstart",function(){a=!0}),this.on("compositionend",function(){a=!1,n||t.listener()})),this.focused=!1,i||n||(this.on("focus",function(){t.focused=!0}),this.on("blur",function(){t.focused=!1})),this.listener=this.rawListener=function(){if(!a&&t._bound){var n=r||i?l(e.value):e.value;t.set(n),Vi(function(){t._bound&&!t.focused&&t.update(t._watcher.value)})}},o&&(this.listener=w(this.listener,o)),this.hasjQuery="function"==typeof jQuery,this.hasjQuery){var s=jQuery.fn.on?"on":"bind";jQuery(e)[s]("change",this.rawListener),n||jQuery(e)[s]("input",this.listener)}else this.on("change",this.rawListener),n||this.on("input",this.listener);!n&&Ri&&(this.on("cut",function(){Vi(t.listener)}),this.on("keyup",function(e){46!==e.keyCode&&8!==e.keyCode||t.listener()})),(e.hasAttribute("value")||"TEXTAREA"===e.tagName&&e.value.trim())&&(this.afterBind=this.listener)},update:function(t){this.el.value=u(t)},unbind:function(){var t=this.el;if(this.hasjQuery){var e=jQuery.fn.off?"off":"unbind";jQuery(t)[e]("change",this.listener),jQuery(t)[e]("input",this.listener)}}},Nr={bind:function(){var t=this,e=this.el;this.getValue=function(){if(e.hasOwnProperty("_value"))return e._value;var i=e.value;return t.params.number&&(i=l(i)),i},this.listener=function(){t.set(t.getValue())},this.on("change",this.listener),e.hasAttribute("checked")&&(this.afterBind=this.listener)},update:function(t){this.el.checked=E(t,this.getValue())}},jr={bind:function(){var t=this,e=this.el;this.forceUpdate=function(){t._watcher&&t.update(t._watcher.get())};var i=this.multiple=e.hasAttribute("multiple");this.listener=function(){var n=de(e,i);n=t.params.number?zi(n)?n.map(l):l(n):n,t.set(n)},this.on("change",this.listener);var n=de(e,i,!0);(i&&n.length||!i&&null!==n)&&(this.afterBind=this.listener),this.vm.$on("hook:attached",this.forceUpdate)},update:function(t){var e=this.el;e.selectedIndex=-1;for(var i,n,r=this.multiple&&zi(t),o=e.options,a=o.length;a--;)i=o[a],n=i.hasOwnProperty("_value")?i._value:i.value,i.selected=r?pe(t,n)>-1:E(t,n)},unbind:function(){this.vm.$off("hook:attached",this.forceUpdate)}},Ur={bind:function(){function t(){var t=i.checked;return t&&i.hasOwnProperty("_trueValue")?i._trueValue:!t&&i.hasOwnProperty("_falseValue")?i._falseValue:t}var e=this,i=this.el;this.getValue=function(){return i.hasOwnProperty("_value")?i._value:e.params.number?l(i.value):i.value},this.listener=function(){var n=e._watcher.value;if(zi(n)){var r=e.getValue();i.checked?M(n,r)<0&&n.push(r):n.$remove(r)}else e.set(t())},this.on("change",this.listener),i.hasAttribute("checked")&&(this.afterBind=this.listener)},update:function(t){var e=this.el;zi(t)?e.checked=M(t,this.getValue())>-1:e.hasOwnProperty("_trueValue")?e.checked=E(t,e._trueValue):e.checked=!!t}},qr={text:Or,radio:Nr,select:jr,checkbox:Ur},Vr={priority:Er,twoWay:!0,handlers:qr,params:["lazy","number","debounce"],bind:function(){this.checkFilters(),this.hasRead&&!this.hasWrite;var t,e=this.el,i=e.tagName;if("INPUT"===i)t=qr[e.type]||qr.text;else if("SELECT"===i)t=qr.select;else{if("TEXTAREA"!==i)return;t=qr.text}e.__v_model=this,t.bind.call(this),this.update=t.update,this._unbind=t.unbind},checkFilters:function(){var t=this.filters;if(t)for(var e=t.length;e--;){var i=wt(this.vm.$options,"filters",t[e].name);("function"==typeof i||i.read)&&(this.hasRead=!0),i.write&&(this.hasWrite=!0)}},unbind:function(){this.el.__v_model=null,this._unbind&&this._unbind()}},Yr={esc:27,tab:9,enter:13,space:32,"delete":[8,46],up:38,left:37,right:39,down:40},Gr={priority:Sr,acceptStatement:!0,keyCodes:Yr,bind:function(){if("IFRAME"===this.el.tagName&&"load"!==this.arg){var t=this;this.iframeBind=function(){W(t.el.contentWindow,t.arg,t.handler,t.modifiers.capture)},this.on("load",this.iframeBind)}},update:function(t){if(this.descriptor.raw||(t=function(){}),"function"==typeof t){this.modifiers.stop&&(t=ve(t)),this.modifiers.prevent&&(t=ge(t)),this.modifiers.self&&(t=ye(t));var e=Object.keys(this.modifiers).filter(function(t){return"stop"!==t&&"prevent"!==t});e.length&&(t=me(t,e)),this.reset(),this.handler=t,this.iframeBind?this.iframeBind():W(this.el,this.arg,this.handler,this.modifiers.capture)}},reset:function(){var t=this.iframeBind?this.el.contentWindow:this.el;this.handler&&J(t,this.arg,this.handler)},unbind:function(){this.reset()}},$r=["-webkit-","-moz-","-ms-"],Hr=["Webkit","Moz","ms"],Zr=/!important;?$/,Xr=Object.create(null),Wr=null,Jr={deep:!0,update:function(t){"string"==typeof t?this.el.style.cssText=t:zi(t)?this.handleObject(t.reduce(y,{})):this.handleObject(t||{})},handleObject:function(t){var e,i,n=this.cache||(this.cache={});for(e in n)e in t||(this.handleSingle(e,null),delete n[e]);for(e in t)i=t[e],i!==n[e]&&(n[e]=i,this.handleSingle(e,i))},handleSingle:function(t,e){if(t=_e(t))if(null!=e&&(e+=""),e){var i=Zr.test(e)?"important":"";i&&(e=e.replace(Zr,"").trim()),this.el.style.setProperty(t,e,i)}else this.el.style.removeProperty(t)}},Qr="http://www.w3.org/1999/xlink",Kr=/^xlink:/,to=/^v-|^:|^@|^(?:is|transition|transition-mode|debounce|track-by|stagger|enter-stagger|leave-stagger)$/,eo=/^(?:value|checked|selected|muted)$/,io=/^(?:draggable|contenteditable|spellcheck)$/,no={value:"_value","true-value":"_trueValue","false-value":"_falseValue"},ro={priority:Tr,bind:function(){var t=this.arg,e=this.el.tagName;t||(this.deep=!0);var i=this.descriptor,n=i.interp;if(n){i.hasOneTime&&(this.expression=L(n,this._scope||this.vm)),(to.test(t)||"name"===t&&("PARTIAL"===e||"SLOT"===e))&&(this.el.removeAttribute(t),this.invalid=!0)}},update:function(t){if(!this.invalid){var e=this.arg;this.arg?this.handleSingle(e,t):this.handleObject(t||{})}},handleObject:Jr.handleObject,handleSingle:function(t,e){var i=this.el,n=this.descriptor.interp;this.modifiers.camel&&(t=f(t)),!n&&eo.test(t)&&t in i&&(i[t]="value"===t&&null==e?"":e);var r=no[t];if(!n&&r){i[r]=e;var o=i.__v_model;o&&o.listener()}return"value"===t&&"TEXTAREA"===i.tagName?void i.removeAttribute(t):void(io.test(t)?i.setAttribute(t,e?"true":"false"):null!=e&&e!==!1?"class"===t?(i.__v_trans&&(e+=" "+i.__v_trans.id+"-transition"),Q(i,e)):Kr.test(t)?i.setAttributeNS(Qr,t,e===!0?"":e):i.setAttribute(t,e===!0?"":e):i.removeAttribute(t))}},oo={priority:Ar,bind:function(){if(this.arg){var t=this.id=f(this.arg),e=(this._scope||this.vm).$els;o(e,t)?e[t]=this.el:Dt(e,t,this.el)}},unbind:function(){var t=(this._scope||this.vm).$els;t[this.id]===this.el&&(t[this.id]=null)}},ao={bind:function(){}},so={bind:function(){var t=this.el;this.vm.$once("pre-hook:compiled",function(){t.removeAttribute("v-cloak")})}},uo={text:dr,html:wr,"for":Rr,"if":kr,show:Br,model:Vr,on:Gr,bind:ro,el:oo,ref:ao,cloak:so},lo={deep:!0,update:function(t){t&&"string"==typeof t?this.handleObject(be(t)):x(t)?this.handleObject(t):zi(t)?this.handleArray(t):this.cleanup()},handleObject:function(t){this.cleanup(t);for(var e=this.prevKeys=Object.keys(t),i=0,n=e.length;n>i;i++){var r=e[i];t[r]?K(this.el,r):tt(this.el,r)}},handleArray:function(t){this.cleanup(t);for(var e=0,i=t.length;i>e;e++)t[e]&&K(this.el,t[e]);this.prevKeys=t.slice()},cleanup:function(t){if(this.prevKeys)for(var e=this.prevKeys.length;e--;){var i=this.prevKeys[e];!i||t&&we(t,i)||tt(this.el,i)}}},ho={priority:Dr,params:["keep-alive","transition-mode","inline-template"],bind:function(){this.el.__vue__||(this.keepAlive=this.params.keepAlive,this.keepAlive&&(this.cache={}),this.params.inlineTemplate&&(this.inlineTemplate=et(this.el,!0)),this.pendingComponentCb=this.Component=null,this.pendingRemovals=0,this.pendingRemovalCb=null,this.anchor=ot("v-component"),X(this.el,this.anchor),this.el.removeAttribute("is"),this.descriptor.ref&&this.el.removeAttribute("v-ref:"+p(this.descriptor.ref)),this.literal&&this.setComponent(this.expression))},update:function(t){this.literal||this.setComponent(t)},setComponent:function(t,e){if(this.invalidatePending(),t){var i=this;this.resolveComponent(t,function(){i.mountComponent(e)})}else this.unbuild(!0),this.remove(this.childVM,e),this.childVM=null},resolveComponent:function(t,e){var i=this;this.pendingComponentCb=S(function(n){i.ComponentName=n.options.name||t,i.Component=n,e()}),this.vm._resolveComponent(t,this.pendingComponentCb)},mountComponent:function(t){this.unbuild(!0);var e=this,i=this.Component.options.activate,n=this.getCached(),r=this.build();i&&!n?(this.waitingFor=r,Me(i,r,function(){e.waitingFor===r&&(e.waitingFor=null,e.transition(r,t))})):(n&&r._updateRef(),this.transition(r,t))},invalidatePending:function(){this.pendingComponentCb&&(this.pendingComponentCb.cancel(),this.pendingComponentCb=null)},build:function(t){var e=this.getCached();if(e)return e;if(this.Component){var i={name:this.ComponentName,
el:te(this.el),template:this.inlineTemplate,parent:this._host||this.vm,_linkerCachable:!this.inlineTemplate,_ref:this.descriptor.ref,_asComponent:!0,_isRouterView:this._isRouterView,_context:this.vm,_scope:this._scope,_frag:this._frag};t&&y(i,t);var n=new this.Component(i);return this.keepAlive&&(this.cache[this.Component.cid]=n),n}},getCached:function(){return this.keepAlive&&this.cache[this.Component.cid]},unbuild:function(t){this.waitingFor&&(this.waitingFor.$destroy(),this.waitingFor=null);var e=this.childVM;return!e||this.keepAlive?void(e&&e._updateRef(!0)):void e.$destroy(!1,t)},remove:function(t,e){var i=this.keepAlive;if(t){this.pendingRemovals++,this.pendingRemovalCb=e;var n=this;t.$remove(function(){n.pendingRemovals--,i||t._cleanup(),!n.pendingRemovals&&n.pendingRemovalCb&&(n.pendingRemovalCb(),n.pendingRemovalCb=null)})}else e&&e()},transition:function(t,e){var i=this,n=this.childVM;switch(this.childVM=t,i.params.transitionMode){case"in-out":t.$before(i.anchor,function(){i.remove(n,e)});break;case"out-in":i.remove(n,function(){t.$before(i.anchor,e)});break;default:i.remove(n),t.$before(i.anchor,e)}},unbind:function(){if(this.invalidatePending(),this.unbuild(),this.cache){for(var t in this.cache)this.cache[t].$destroy();this.cache=null}}},co=vn._propBindingModes,fo={bind:function(){var t=this.vm,e=t._context,i=this.descriptor.prop,n=i.path,r=i.parentPath,o=i.mode===co.TWO_WAY,a=this.parentWatcher=new Xt(e,r,function(e){e=mt(i,e),pt(i,e)&&(t[n]=e)},{twoWay:o,filters:i.filters,scope:this._scope});if(dt(t,i,a.value),o){var s=this;t.$once("pre-hook:created",function(){s.childWatcher=new Xt(t,n,function(t){a.set(t)},{sync:!0})})}},unbind:function(){this.parentWatcher.teardown(),this.childWatcher&&this.childWatcher.teardown()}},po=[],mo=!1,vo="transition",go="animation",yo=Bi+"Duration",_o=Ni+"Duration",xo=Te.prototype;xo.enter=function(t,e){this.cancelPending(),this.callHook("beforeEnter"),this.cb=e,K(this.el,this.enterClass),t(),this.entered=!1,this.callHookWithCb("enter"),this.entered||(this.cancel=this.hooks&&this.hooks.enterCancelled,Se(this.enterNextTick))},xo.enterNextTick=function(){this.justEntered=!0;var t=this;setTimeout(function(){t.justEntered=!1},17);var e=this.enterDone,i=this.getCssTransitionType(this.enterClass);this.pendingJsCb?i===vo&&tt(this.el,this.enterClass):i===vo?(tt(this.el,this.enterClass),this.setupCssCb(Oi,e)):i===go?this.setupCssCb(ji,e):e()},xo.enterDone=function(){this.entered=!0,this.cancel=this.pendingJsCb=null,tt(this.el,this.enterClass),this.callHook("afterEnter"),this.cb&&this.cb()},xo.leave=function(t,e){this.cancelPending(),this.callHook("beforeLeave"),this.op=t,this.cb=e,K(this.el,this.leaveClass),this.left=!1,this.callHookWithCb("leave"),this.left||(this.cancel=this.hooks&&this.hooks.leaveCancelled,this.op&&!this.pendingJsCb&&(this.justEntered?this.leaveDone():Se(this.leaveNextTick)))},xo.leaveNextTick=function(){var t=this.getCssTransitionType(this.leaveClass);if(t){var e=t===vo?Oi:ji;this.setupCssCb(e,this.leaveDone)}else this.leaveDone()},xo.leaveDone=function(){this.left=!0,this.cancel=this.pendingJsCb=null,this.op(),tt(this.el,this.leaveClass),this.callHook("afterLeave"),this.cb&&this.cb(),this.op=null},xo.cancelPending=function(){this.op=this.cb=null;var t=!1;this.pendingCssCb&&(t=!0,J(this.el,this.pendingCssEvent,this.pendingCssCb),this.pendingCssEvent=this.pendingCssCb=null),this.pendingJsCb&&(t=!0,this.pendingJsCb.cancel(),this.pendingJsCb=null),t&&(tt(this.el,this.enterClass),tt(this.el,this.leaveClass)),this.cancel&&(this.cancel.call(this.vm,this.el),this.cancel=null)},xo.callHook=function(t){this.hooks&&this.hooks[t]&&this.hooks[t].call(this.vm,this.el)},xo.callHookWithCb=function(t){var e=this.hooks&&this.hooks[t];e&&(e.length>1&&(this.pendingJsCb=S(this[t+"Done"])),e.call(this.vm,this.el,this.pendingJsCb))},xo.getCssTransitionType=function(t){if(!(!Oi||document.hidden||this.hooks&&this.hooks.css===!1||Ie(this.el))){var e=this.type||this.typeCache[t];if(e)return e;var i=this.el.style,n=window.getComputedStyle(this.el),r=i[yo]||n[yo];if(r&&"0s"!==r)e=vo;else{var o=i[_o]||n[_o];o&&"0s"!==o&&(e=go)}return e&&(this.typeCache[t]=e),e}},xo.setupCssCb=function(t,e){this.pendingCssEvent=t;var i=this,n=this.el,r=this.pendingCssCb=function(o){o.target===n&&(J(n,t,r),i.pendingCssEvent=i.pendingCssCb=null,!i.pendingJsCb&&e&&e())};W(n,t,r)};var bo={priority:Ir,update:function(t,e){var i=this.el,n=wt(this.vm.$options,"transitions",t);t=t||"v",i.__v_trans=new Te(i,t,n,this.vm),e&&tt(i,e+"-transition"),K(i,t+"-transition")}},wo={style:Jr,"class":lo,component:ho,prop:fo,transition:bo},Mo=vn._propBindingModes,So={},Eo=/^[$_a-zA-Z]+[\w$]*$/,To=/^v-bind:|^:/,Io=/^v-on:|^@/,Ao=/^v-([^:]+)(?:$|:(.*)$)/,Do=/\.[^\.]+/g,zo=/^(v-bind:|:)?transition$/,Po=["for","if"],Co=1e3;Xe.terminal=!0;var Lo=/[^\w\-:\.]/,Fo=Object.freeze({compile:Pe,compileAndLinkProps:ke,compileRoot:Be,terminalDirectives:Po,transclude:ei,scanSlots:oi}),Ro=/^v-on:|^@/;hi.prototype._bind=function(){var t=this.name,e=this.descriptor;if(("cloak"!==t||this.vm._isCompiled)&&this.el&&this.el.removeAttribute){var i=e.attr||"v-"+t;this.el.removeAttribute(i)}var n=e.def;if("function"==typeof n?this.update=n:y(this,n),this._setupParams(),this.bind&&this.bind(),this._bound=!0,this.literal)this.update&&this.update(e.raw);else if((this.expression||this.modifiers)&&(this.update||this.twoWay)&&!this._checkStatement()){var r=this;this.update?this._update=function(t,e){r._locked||r.update(t,e)}:this._update=li;var o=this._preProcess?v(this._preProcess,this):null,a=this._postProcess?v(this._postProcess,this):null,s=this._watcher=new Xt(this.vm,this.expression,this._update,{filters:this.filters,twoWay:this.twoWay,deep:this.deep,preProcess:o,postProcess:a,scope:this._scope});this.afterBind?this.afterBind():this.update&&this.update(s.value)}},hi.prototype._setupParams=function(){if(this.params){var t=this.params;this.params=Object.create(null);for(var e,i,n,r=t.length;r--;)e=t[r],n=f(e),i=V(this.el,e),null!=i?this._setupParamWatcher(n,i):(i=q(this.el,e),null!=i&&(this.params[n]=""===i?!0:i))}},hi.prototype._setupParamWatcher=function(t,e){var i=this,n=!1,r=(this._scope||this.vm).$watch(e,function(e,r){if(i.params[t]=e,n){var o=i.paramWatchers&&i.paramWatchers[t];o&&o.call(i,e,r)}else n=!0},{immediate:!0,user:!1});(this._paramUnwatchFns||(this._paramUnwatchFns=[])).push(r)},hi.prototype._checkStatement=function(){var t=this.expression;if(t&&this.acceptStatement&&!Yt(t)){var e=Vt(t).get,i=this._scope||this.vm,n=function(t){i.$event=t,e.call(i,i),i.$event=null};return this.filters&&(n=i._applyFilters(n,null,this.filters)),this.update(n),!0}},hi.prototype.set=function(t){this.twoWay&&this._withLock(function(){this._watcher.set(t)})},hi.prototype._withLock=function(t){var e=this;e._locked=!0,t.call(e),Vi(function(){e._locked=!1})},hi.prototype.on=function(t,e,i){W(this.el,t,e,i),(this._listeners||(this._listeners=[])).push([t,e])},hi.prototype._teardown=function(){if(this._bound){this._bound=!1,this.unbind&&this.unbind(),this._watcher&&this._watcher.teardown();var t,e=this._listeners;if(e)for(t=e.length;t--;)J(this.el,e[t][0],e[t][1]);var i=this._paramUnwatchFns;if(i)for(t=i.length;t--;)i[t]();this.vm=this.el=this._watcher=this._listeners=null}};var ko=/[^|]\|[^|]/;zt(gi),si(gi),ui(gi),ci(gi),fi(gi),di(gi),pi(gi),mi(gi),vi(gi);var Bo={priority:Lr,params:["name"],bind:function(){var t=this.params.name||"default",e=this.vm._slotContents&&this.vm._slotContents[t];e&&e.hasChildNodes()?this.compile(e.cloneNode(!0),this.vm._context,this.vm):this.fallback()},compile:function(t,e,i){if(t&&e){if(this.el.hasChildNodes()&&1===t.childNodes.length&&1===t.childNodes[0].nodeType&&t.childNodes[0].hasAttribute("v-if")){var n=document.createElement("template");n.setAttribute("v-else",""),n.innerHTML=this.el.innerHTML,n._context=this.vm,t.appendChild(n)}var r=i?i._scope:this._scope;this.unlink=e.$compile(t,i,r,this._frag)}t?X(this.el,t):H(this.el)},fallback:function(){this.compile(et(this.el,!0),this.vm)},unbind:function(){this.unlink&&this.unlink()}},Oo={priority:zr,params:["name"],paramWatchers:{name:function(t){kr.remove.call(this),t&&this.insert(t)}},bind:function(){this.anchor=ot("v-partial"),X(this.el,this.anchor),this.insert(this.params.name)},insert:function(t){var e=wt(this.vm.$options,"partials",t);e&&(this.factory=new le(this.vm,e),kr.insert.call(this))},unbind:function(){this.frag&&this.frag.destroy()}},No={slot:Bo,partial:Oo},jo=Rr._postProcess,Uo=/(\d{3})(?=\d)/g,qo={orderBy:xi,filterBy:_i,limitBy:yi,json:{read:function(t,e){return"string"==typeof t?t:JSON.stringify(t,null,Number(e)||2)},write:function(t){try{return JSON.parse(t)}catch(e){return t}}},capitalize:function(t){return t||0===t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""},uppercase:function(t){return t||0===t?t.toString().toUpperCase():""},lowercase:function(t){return t||0===t?t.toString().toLowerCase():""},currency:function(t,e){if(t=parseFloat(t),!isFinite(t)||!t&&0!==t)return"";e=null!=e?e:"$";var i=Math.abs(t).toFixed(2),n=i.slice(0,-3),r=n.length%3,o=r>0?n.slice(0,r)+(n.length>3?",":""):"",a=i.slice(-3),s=0>t?"-":"";return s+e+o+n.slice(r).replace(Uo,"$1,")+a},pluralize:function(t){var e=g(arguments,1);return e.length>1?e[t%10-1]||e[e.length-1]:e[0]+(1===t?"":"s")},debounce:function(t,e){return t?(e||(e=300),w(t,e)):void 0}};wi(gi),gi.version="1.0.17",Li&&Li.emit("init",gi),t.exports=gi}).call(e,function(){return this}(),i(6))},function(t,e){var i=arguments[2],n=i.m,r=function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};e.m=t,e.c=i,e.oe=function(t){throw t},e.p="";var n=e(e.s=entryModule);return n["default"]||n};t.exports=function(t){for(var e,o=0,a=n.length;a>o;o++)if(n[o]){var s=n[o].toString(),u=t.toString(),l=i(o);if(l===t||l["default"]===t){e=o;break}if(s.indexOf(u)>-1){n[o]=s.substring(0,s.length-1)+"\n"+u.match(/function\s?(.+?)\s?\(.*/)[1]+"();\n}",e=o;break}}var h="window = {};\nvar fn = ("+r.toString().replace("entryModule",e)+")(["+n.map(function(t){return t.toString()}).join(",")+']);\n(typeof fn === "function") && fn(self);',c=window.URL||window.webkitURL||window.mozURL||window.msURL;return new Worker(c.createObjectURL(new Blob([h],{type:"text/javascript"})))}}]);
//# sourceMappingURL=build.js.map